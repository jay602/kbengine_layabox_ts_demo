var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
var GameControl_1 = require("./script/GameControl");
var Bullet_1 = require("./script/Bullet");
var DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":4,"./script/DropBox":5,"./script/GameControl":6,"./script/GameUI":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KBEngine;
(function (KBEngine) {
    function transferArrayBuffer(source, length) {
        source = Object(source);
        var dest = new ArrayBuffer(length);
        if (!(source instanceof ArrayBuffer) || !(dest instanceof ArrayBuffer)) {
            throw new TypeError("ArrayBuffer.transfer, error: Source and destination must be ArrayBuffer instances");
        }
        if (dest.byteLength >= source.byteLength) {
            var buf = new Uint8Array(dest);
            buf.set(new Uint8Array(source), 0);
        }
        else {
            throw new RangeError("ArrayBuffer.transfer, error: destination has not enough space");
        }
        return dest;
    }
    ;
    /*-----------------------------------------------------------------------------------------
                                                global
    -----------------------------------------------------------------------------------------*/
    var PACKET_MAX_SIZE = 1500;
    var PACKET_MAX_SIZE_TCP = 1460;
    var PACKET_MAX_SIZE_UDP = 1472;
    var MESSAGE_ID_LENGTH = 2;
    var MESSAGE_LENGTH_LENGTH = 2;
    var MESSAGE_LENGTH1_LENGTH = 4;
    var MESSAGE_MAX_SIZE = 65535;
    var CLIENT_NO_FLOAT = 0;
    var KBE_FLT_MAX = 3.402823466e+38;
    var Dbg = /** @class */ (function () {
        function Dbg() {
        }
        Dbg.getHead = function () {
            var now = new Date();
            return "[" + now.getFullYear() + "-" + (now.getMonth() + 1) + "-" + now.getDate() + " " + now.getHours()
                + ":" + now.getMinutes() + ":" + now.getSeconds() + " " + now.getMilliseconds() + "] ";
        };
        Dbg.DEBUG_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (0 /* DEBUG */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.debug.apply(this, params);
            }
        };
        Dbg.INFO_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (1 /* INFO */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.info.apply(this, params);
            }
        };
        Dbg.WARNING_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (2 /* WARNING */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.warn.apply(this, params);
            }
        };
        Dbg.ERROR_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (3 /* ERROR */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.error.apply(this, params);
            }
        };
        Dbg.ASSERT = function (condition, message) {
            var data = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                data[_i - 2] = arguments[_i];
            }
            // 使用抛出异常的方式来实现类似断言功能
            if (!condition) {
                throw (new Error(message));
            }
            // note：微信小游戏平台不支持，手册中提到的CC_WECHATGAME未定义，无法区分是否微信小游戏平台，
            // console.assert(condition, message, ...data);
            // 一些平台如小程序上可能没有assert
            // if(console.assert == undefined)
            // {
            //     console.assert = function(bRet, s)
            //     {
            //         if(!(bRet)) {
            //             ERROR_MSG(s);
            //         }
            //     }
            // }
        };
        Dbg.debugLevel = 0 /* DEBUG */;
        return Dbg;
    }());
    KBEngine.Dbg = Dbg;
    var EventInfo = /** @class */ (function () {
        function EventInfo(classinst, callbackfn) {
            this.classinst = classinst;
            this.callbackfn = callbackfn;
        }
        return EventInfo;
    }());
    var FiredEvent = /** @class */ (function () {
        function FiredEvent(evtName, evtInfo, args) {
            this.evtName = evtName;
            this.evtInfo = evtInfo;
            this.args = args;
        }
        return FiredEvent;
    }());
    var KBEvent = /** @class */ (function () {
        function KBEvent() {
        }
        KBEvent.register = function (evtName, classinst, strCallback) {
            var callbackfn = classinst[strCallback];
            if (callbackfn == undefined) {
                Dbg.ERROR_MSG('KBEngine.KBEvent::fire: not found strCallback(' + classinst + ")!" + strCallback);
                return;
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                evtlst = [];
                this._events[evtName] = evtlst;
            }
            var info = new EventInfo(classinst, callbackfn);
            evtlst.push(info);
        };
        KBEvent.deregisterAll = function (classinst) {
            for (var itemkey in this._events) {
                this.deregister(itemkey, classinst);
            }
        };
        KBEvent.deregister = function (evtName, classinst) {
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::deregister:cant find event by name(%s).", evtName);
                return;
            }
            while (true) {
                var found = false;
                for (var i = 0; i < evtlst.length; i++) {
                    var info = evtlst[i];
                    if (info.classinst == classinst) {
                        evtlst.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
            this.removeFiredEvent(evtName, classinst);
        };
        KBEvent.fire = function (evtName) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::Fire:cant find event by name(%s).", evtName);
                return;
            }
            for (var _a = 0, evtlst_1 = evtlst; _a < evtlst_1.length; _a++) {
                var info = evtlst_1[_a];
                try {
                    if (!this._isPause) {
                        info.callbackfn.apply(info.classinst, params);
                    }
                    else {
                        var firedEvent = new FiredEvent(evtName, info, params);
                        this._firedEvents.push(firedEvent);
                    }
                }
                catch (e) {
                    Dbg.ERROR_MSG("KBEvent::Fire(%s):%s", evtName, e);
                }
            }
        };
        KBEvent.pause = function () {
            this._isPause = true;
        };
        KBEvent.resume = function () {
            this._isPause = false;
            var firedEvents = this._firedEvents;
            Dbg.INFO_MSG("resume");
            while (firedEvents.length > 0) {
                var evt = firedEvents.shift();
                var info = evt.evtInfo;
                var args = evt.args;
                Dbg.INFO_MSG("resume evtname: " + evt.evtName);
                if (args.length < 1) {
                    info.callbackfn.apply(info.classinst);
                }
                else {
                    info.callbackfn.apply(info.classinst, args);
                }
            }
        };
        KBEvent.removeAllFiredEvent = function (classinst) {
            this.removeFiredEvent("", classinst);
        };
        KBEvent.removeFiredEvent = function (evtName, classinst) {
            var firedEvents = this._firedEvents;
            while (true) {
                var found = false;
                for (var i = 0; i < firedEvents.length; i++) {
                    var evt = firedEvents[i];
                    if ((evtName == "" || evt.evtName == evtName) && evt.evtInfo.classinst == classinst) {
                        firedEvents.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
        };
        KBEvent._events = {};
        KBEvent._isPause = false;
        KBEvent._firedEvents = [];
        return KBEvent;
    }());
    KBEngine.KBEvent = KBEvent;
    /*-----------------------------------------------------------------------------------------
                                                network
    -----------------------------------------------------------------------------------------*/
    var NetworkInterface = /** @class */ (function () {
        function NetworkInterface() {
            var _this = this;
            this.socket = undefined;
            this.onOpenCB = undefined;
            this.onopen = function (event) {
                Dbg.ERROR_MSG("NetworkInterface::onopen:success!");
                if (_this.onOpenCB) {
                    _this.onOpenCB(event);
                    _this.onOpenCB = undefined;
                }
            };
            this.onerror = function (event) {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onerror:...!");
                // KBEEvent.Fire("onNetworkError", event);
            };
            this.onmessage = function (event) {
            };
            this.onclose = function () {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onclose:...!");
                // KBEEvent.Fire("onDisconnected");
            };
        }
        NetworkInterface.prototype.connectTo = function (addr, callbackFunc) {
            try {
                this.socket = new WebSocket(addr);
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket");
            }
            catch (e) {
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket error:" + e);
                KBEvent.fire("onConnectionState", false);
                return;
            }
            this.socket.binaryType = "arraybuffer";
            this.socket.onerror = this.onerror;
            this.socket.onclose = this.onclose;
            this.socket.onmessage = this.onmessage;
            this.socket.onopen = this.onopen;
            if (callbackFunc) {
                this.onOpenCB = callbackFunc;
            }
        };
        NetworkInterface.prototype.close = function () {
        };
        NetworkInterface.prototype.send = function (buffer) {
        };
        return NetworkInterface;
    }());
    /*-----------------------------------------------------------------------------------------
                                                number64bits
    -----------------------------------------------------------------------------------------*/
    var INT64 = /** @class */ (function () {
        function INT64(p_low, p_high) {
            this.sign = 1;
            this.low = p_low;
            this.high = p_high;
            if (p_high >= 2147483648) {
                this.sign = -1;
                this.low = (4294967296 - this.low) & 0xffffffff;
                if (p_low > 0) {
                    this.high = 4294967295 - this.high;
                }
                else {
                    this.high = 4294967296 - this.high;
                }
            }
        }
        return INT64;
    }());
    var UINT64 = /** @class */ (function () {
        function UINT64(p_low, p_high) {
            this.low = p_low >>> 0;
            this.high = p_high;
        }
        return UINT64;
    }());
    /*-----------------------------------------------------------------------------------------
                                                memorystream
    -----------------------------------------------------------------------------------------*/
    var PackFloatXType = /** @class */ (function () {
        function PackFloatXType() {
            this._unionData = new ArrayBuffer(4);
            this.fv = new Float32Array(this._unionData, 0, 1);
            this.uv = new Uint32Array(this._unionData, 0, 1);
            this.iv = new Int32Array(this._unionData, 0, 1);
        }
        return PackFloatXType;
    }());
    var MemoryStream = /** @class */ (function () {
        function MemoryStream(size_or_buffer) {
            this.rpos = 0;
            this.wpos = 0;
            if (size_or_buffer instanceof ArrayBuffer) {
                this.buffer = size_or_buffer;
            }
            else {
                this.buffer = new ArrayBuffer(size_or_buffer);
            }
        }
        MemoryStream.prototype.space = function () {
            return this.buffer.byteLength - this.wpos;
        };
        MemoryStream.prototype.readInt8 = function () {
            var buf = new Int8Array(this.buffer, this.rpos);
            this.rpos += 1;
            return buf[0];
        };
        MemoryStream.prototype.readUint8 = function () {
            var buf = new Uint8Array(this.buffer, this.rpos);
            this.rpos += 1;
            return buf[0];
        };
        MemoryStream.prototype.readUint16 = function () {
            var buf = new Uint8Array(this.buffer, this.rpos);
            this.rpos += 2;
            return ((buf[1] & 0xff) << 8) + (buf[0] & 0xff);
        };
        MemoryStream.prototype.readInt16 = function () {
            var value = this.readUint16();
            if (value >= 32768)
                value -= 65536;
            return value;
        };
        MemoryStream.prototype.readUint32 = function () {
            var buf = new Uint8Array(this.buffer, this.rpos);
            this.rpos += 4;
            return (buf[3] << 24) + (buf[2] << 16) + (buf[1] << 8) + buf[0];
        };
        MemoryStream.prototype.readInt32 = function () {
            var value = this.readUint32();
            if (value >= 2147483648)
                value -= 4294967296;
            return value;
        };
        MemoryStream.prototype.readUint64 = function () {
            return new UINT64(this.readUint32(), this.readUint32());
        };
        MemoryStream.prototype.readInt64 = function () {
            return new INT64(this.readUint32(), this.readUint32());
        };
        MemoryStream.prototype.readFloat = function () {
            var buf = undefined;
            try {
                buf = new Float32Array(this.buffer, this.rpos, 1);
            }
            catch (e) {
                buf = new Float32Array(this.buffer.slice(this.rpos, this.rpos + 4));
            }
            this.rpos += 4;
            return buf[0];
        };
        MemoryStream.prototype.readDouble = function () {
            var buf = undefined;
            try {
                buf = new Float64Array(this.buffer, this.rpos, 1);
            }
            catch (e) {
                buf = new Float64Array(this.buffer.slice(this.rpos, this.rpos + 8), 0, 1);
            }
            this.rpos += 8;
            return buf[0];
        };
        MemoryStream.prototype.readString = function () {
            var buf = new Int8Array(this.buffer, this.rpos);
            var value = "";
            var index = 0;
            while (true) {
                if (buf[index] != 0) {
                    value += String.fromCharCode(buf[index]);
                    index += 1;
                    if (this.rpos + index >= this.buffer.byteLength) {
                        throw (new Error("KBEngine.MemoryStream::ReadString overflow(>=) max length:" + this.buffer.byteLength));
                    }
                }
                else {
                    index += 1;
                    break;
                }
            }
            this.rpos += index;
            return value;
        };
        MemoryStream.prototype.readBlob = function () {
            var size = this.readUint32();
            var buf = new Uint8Array(this.buffer, this.rpos, size);
            this.rpos += size;
            return buf;
        };
        MemoryStream.prototype.readPackXZ = function () {
            var xPackData = new PackFloatXType();
            var zPackData = new PackFloatXType();
            xPackData.fv[0] = 0.0;
            zPackData.fv[0] = 0.0;
            xPackData.uv[0] = 0x40000000;
            zPackData.uv[0] = 0x40000000;
            var v1 = this.readUint8();
            var v2 = this.readUint8();
            var v3 = this.readUint8();
            var data = 0;
            data |= (v1 << 16);
            data |= (v2 << 8);
            data |= v3;
            xPackData.uv[0] |= (data & 0x7ff000) << 3;
            zPackData.uv[0] |= (data & 0x0007ff) << 15;
            xPackData.fv[0] -= 2.0;
            zPackData.fv[0] -= 2.0;
            xPackData.uv[0] |= (data & 0x800000) << 8;
            zPackData.uv[0] |= (data & 0x000800) << 20;
            var xzData = new Array(2);
            xzData[0] = xPackData.fv[0];
            xzData[1] = zPackData.fv[0];
            return xzData;
        };
        MemoryStream.prototype.readPackY = function () {
            var data = this.readUint16();
            var yPackData = new PackFloatXType();
            yPackData.uv[0] = 0x40000000;
            yPackData.uv[0] |= (data & 0x7fff) << 12; // 解压，补足尾数
            yPackData.fv[0] -= 2.0; // 此时还未设置符号位，当作正数处理，-2后再加上符号位即可，无需根据正负来+-2
            yPackData.uv[0] |= (data & 0x8000) << 16; // 设置符号位
            return yPackData.fv[0];
        };
        MemoryStream.prototype.writeInt8 = function (value) {
            var buf = new Int8Array(this.buffer, this.wpos, 1);
            buf[0] = value;
            this.wpos += 1;
        };
        MemoryStream.prototype.writeUint8 = function (value) {
            var buf = new Uint8Array(this.buffer, this.wpos, 1);
            buf[0] = value;
            this.wpos += 1;
        };
        MemoryStream.prototype.writeInt16 = function (value) {
            this.writeInt8(value & 0xff);
            this.writeInt8((value >> 8) & 0xff);
        };
        MemoryStream.prototype.writeUint16 = function (value) {
            this.writeUint8(value & 0xff);
            this.writeUint8((value >> 8) & 0xff);
        };
        MemoryStream.prototype.writeInt32 = function (value) {
            for (var i = 0; i < 4; i++)
                this.writeInt8((value >> i * 8) & 0xff);
        };
        MemoryStream.prototype.writeUint32 = function (value) {
            for (var i = 0; i < 4; i++)
                this.writeInt8((value >> i * 8) & 0xff);
        };
        MemoryStream.prototype.writeInt64 = function (value) {
            this.writeInt32(value.low);
            this.writeInt32(value.high);
        };
        MemoryStream.prototype.writeUint64 = function (value) {
            this.writeUint32(value.low);
            this.writeUint32(value.high);
        };
        MemoryStream.prototype.writeFloat = function (value) {
            try {
                var buf = new Float32Array(this.buffer, this.wpos, 1);
                buf[0] = value;
            }
            catch (e) {
                var buf = new Float32Array(1);
                buf[0] = value;
                var buf1 = new Uint8Array(this.buffer);
                var buf2 = new Uint8Array(buf.buffer);
                buf1.set(buf2, this.wpos);
            }
            this.wpos += 4;
        };
        MemoryStream.prototype.writeDouble = function (value) {
            try {
                var buf = new Float64Array(this.buffer, this.wpos, 1);
                buf[0] = value;
            }
            catch (e) {
                var buf = new Float64Array(1);
                buf[0] = value;
                var buf1 = new Uint8Array(this.buffer);
                var buf2 = new Uint8Array(buf.buffer);
                buf1.set(buf2, this.wpos);
            }
            this.wpos += 8;
        };
        MemoryStream.prototype.writeBlob = function (value) {
            var size = value.length;
            if (size + 4 > this.space()) {
                Dbg.ERROR_MSG("KBE.MemoryStream:WriteBlob:there is no space for size:%d", size + 4);
                return;
            }
            this.writeUint32(size);
            var buf = new Uint8Array(this.buffer, this.wpos, size);
            if (typeof (value) == "string") {
                for (var i = 0; i < size; i++) {
                    buf[i] = value.charCodeAt(i);
                }
            }
            else {
                for (var i = 0; i < size; i++) {
                    buf[i] = value[i];
                }
            }
            this.wpos += size;
        };
        MemoryStream.prototype.writeString = function (value) {
            if (value.length + 1 > this.space()) {
                Dbg.ERROR_MSG("KBE.MemoryStream:WriteString:there is no space for size:%d", value.length + 1);
                return;
            }
            var buf = new Uint8Array(this.buffer, this.wpos, value.length);
            for (var i = 0; i < value.length; i++) {
                buf[i] = value.charCodeAt(i);
            }
            buf[value.length] = 0;
            this.wpos = this.wpos + value.length + 1;
        };
        MemoryStream.prototype.readSkip = function (count) {
            this.rpos += count;
        };
        MemoryStream.prototype.length = function () {
            return this.wpos - this.rpos;
        };
        MemoryStream.prototype.readEOF = function () {
            return this.buffer.byteLength - this.rpos <= 0;
        };
        MemoryStream.prototype.done = function () {
            this.rpos = this.wpos;
        };
        MemoryStream.prototype.getBuffer = function () {
            return this.buffer.slice(this.rpos, this.wpos);
        };
        MemoryStream.prototype.getRawBuffer = function () {
            return this.buffer;
        };
        MemoryStream.prototype.clear = function () {
            this.rpos = 0;
            this.wpos = 0;
            if (this.buffer.byteLength > PACKET_MAX_SIZE)
                this.buffer = new ArrayBuffer(PACKET_MAX_SIZE);
        };
        MemoryStream.prototype.append = function (stream, offset, size) {
            if (!(stream instanceof MemoryStream)) {
                Dbg.ERROR_MSG("MemoryStream::append(): stream must be MemoryStream instances");
                return;
            }
            if (size > this.space()) {
                this.buffer = transferArrayBuffer(this.buffer, this.buffer.byteLength + size * 2);
            }
            var buf = new Uint8Array(this.buffer, this.wpos, size);
            buf.set(new Uint8Array(stream.buffer, offset, size), 0);
            this.wpos += size;
        };
        return MemoryStream;
    }());
    var KBEngineArgs = /** @class */ (function () {
        function KBEngineArgs() {
            this.address = "127.0.0.1";
            this.port = 20013;
            this.serverHeartbeatTick = 100;
            this.clientType = 5;
            this.isOnInitCallPropertysSetMethods = true;
            this.isWss = false;
        }
        return KBEngineArgs;
    }());
    KBEngine.KBEngineArgs = KBEngineArgs;
    var KBEngineApp = /** @class */ (function () {
        function KBEngineApp(args) {
            this.networkInterface = new NetworkInterface();
            this.username = "test";
            this.password = "123456";
            this.clientdatas = new Uint8Array(0);
            this.encryptedKey = "";
            this.loginappMessageImported = false;
            this.baseappMessageImported = false;
            this.serverErrorsDescrImported = false;
            this.entitydefImported = false;
            // 登录loginapp的地址
            this.serverAddress = "";
            this.port = 0;
            // 服务端分配的baseapp地址
            this.baseappAddress = "";
            this.baseappPort = 0;
            this.isWss = false;
            this.protocol = "ws://";
            // 当前状态
            this.currserver = "";
            this.currstate = "";
            this.currconnect = "";
            // 扩展数据
            this.serverdatas = "";
            // 版本信息
            this.serverVersion = "";
            this.serverScriptVersion = "";
            this.serverProtocolMD5 = "";
            this.serverEntityDefMD5 = "";
            this.clientVersion = "";
            this.clientScriptVersion = "";
            // player的相关信息
            this.entity_id = 0;
            //private entity_uuid: DataTypes.UINT64;
            this.entity_type = "";
            // private controlledEntities: Array<Entity> = new Array<Entity>();
            // private entityIDAliasIDList: Array<number> = new Array<number>();
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // useAliasEntityID = true;
            // isOnInitCallPropertysSetMethods = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // entityServerPos = new KBEMath.Vector3(0.0, 0.0, 0.0);
            // 客户端所有的实体
            // KBEngine.app.entities = {};
            // KBEngine.app.entityIDAliasIDList = [];
            // KBEngine.app.controlledEntities = [];
            // spacedata: {[key:string]: string} = {};
            // spaceID = 0;
            // spaceResPath = "";
            // isLoadedGeometry = false;
            // lastTickTime
            // lastTickCBTime
            // 按照标准，每个客户端部分都应该包含这个属性
            this.component = "";
            Dbg.ASSERT(KBEngineApp.app === undefined, "KBEngineApp::constructor:singleton KBEngineApp._app must be undefined.");
            KBEngineApp.app = this;
            this.initialize(args);
        }
        KBEngineApp.getSingleton = function () {
            if (KBEngineApp.app == undefined) {
                throw new Error("Please create KBEngineApp!");
            }
            return KBEngineApp.app;
        };
        KBEngineApp.prototype.initialize = function (args) {
            this.args = args;
            this.serverAddress = args.address;
            this.port = args.port;
            this.isWss = args.isWss;
            this.protocol = args.isWss ? "wss://" : "ws://";
            this.initNetwork();
            this.installEvents();
            return true;
        };
        KBEngineApp.prototype.initNetwork = function () {
        };
        KBEngineApp.prototype.installEvents = function () {
            KBEvent.register("login" /* login */, KBEngineApp.app, "login");
        };
        KBEngineApp.prototype.resetSocket = function () {
        };
        KBEngineApp.prototype.reset = function () {
            // if(KBEngineApp.app.entities != undefined && KBEngineApp.app.entities != null)
            // {
            //     KBEngineApp.app.clearEntities(true);
            // }
            KBEngineApp.app.resetSocket();
            KBEngineApp.app.currserver = "loginapp";
            KBEngineApp.app.currstate = "create";
            KBEngineApp.app.currconnect = "loginapp";
            // 扩展数据
            KBEngineApp.app.serverdatas = "";
            // 版本信息
            KBEngineApp.app.serverVersion = "";
            KBEngineApp.app.serverScriptVersion = "";
            KBEngineApp.app.serverProtocolMD5 = "";
            KBEngineApp.app.serverEntityDefMD5 = "";
            KBEngineApp.app.clientVersion = "1.2.7";
            KBEngineApp.app.clientScriptVersion = "0.1.0";
            // // player的相关信息
            // KBEngineApp.app.entity_uuid = null;
            // KBEngineApp.app.entity_id = 0;
            // KBEngineApp.app.entity_type = "";
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // KBEngineApp.app.useAliasEntityID = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // KBEngineApp.app.entityServerPos = new KBEngine.Vector3(0.0, 0.0, 0.0);
            // // 客户端所有的实体
            // KBEngineApp.app.entities = {};
            // KBEngineApp.app.entityIDAliasIDList = [];
            // KBEngineApp.app.controlledEntities = [];
            // // 空间的信息
            // KBEngineApp.app.spacedata = {};
            // KBEngineApp.app.spaceID = 0;
            // KBEngineApp.app.spaceResPath = "";
            // KBEngineApp.app.isLoadedGeometry = false;
            // var dateObject = new Date();
            // KBEngineApp.app.lastTickTime = dateObject.getTime();
            // KBEngineApp.app.lastTickCBTime = dateObject.getTime();
            // KBEngine.mappingDataType();
            // 当前组件类别， 配套服务端体系
            KBEngineApp.app.component = "client";
        };
        KBEngineApp.prototype.getServerAddr = function (ip, port) {
            var serverAddr = KBEngineApp.app.protocol + ip;
            if (port != 0) {
                serverAddr += ":" + port;
            }
            return serverAddr;
        };
        KBEngineApp.prototype.login = function (username, password, datas) {
            KBEngineApp.app.reset();
            KBEngineApp.app.username = username;
            KBEngineApp.app.password = password;
            KBEngineApp.app.clientdatas = datas;
            KBEngineApp.app.login_loginapp(true);
        };
        KBEngineApp.prototype.login_loginapp = function (noconnect) {
            var _this = this;
            if (noconnect) {
                var serverAddr = this.getServerAddr(KBEngineApp.app.serverAddress, KBEngineApp.app.port);
                Dbg.INFO_MSG("KBEngineApp::login_loginapp: start connect to " + serverAddr + "!");
                KBEngineApp.app.currconnect = "loginapp";
                KBEngineApp.app.networkInterface.connectTo(serverAddr, function (event) { return _this.onOpenLoginapp_login(event); });
            }
            else {
            }
        };
        KBEngineApp.prototype.onOpenLoginapp_login = function (event) {
            Dbg.DEBUG_MSG("KBEngineApp::onOpenLoginapp_login:success to %s.", this.serverAddress);
            KBEvent.fire("onConnectionState" /* onConnectionState */, true);
            this.currserver = "loginapp";
            this.currstate = "login";
            if (!this.loginappMessageImported) {
                Dbg.INFO_MSG("KBEngineApp::onOpenLoginapp_login: start importClientMessages ...");
                KBEvent.fire("Loginapp_importClientMessages");
            }
            else {
                this.onImportClientMessagesCompleted();
            }
        };
        KBEngineApp.prototype.onImportClientMessagesCompleted = function () {
        };
        KBEngineApp.app = undefined;
        return KBEngineApp;
    }());
    KBEngine.KBEngineApp = KBEngineApp;
})(KBEngine = exports.KBEngine || (exports.KBEngine = {}));
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Bullet = /** @class */ (function (_super) {
    __extends(Bullet, _super);
    function Bullet() {
        return _super.call(this) || this;
    }
    Bullet.prototype.onEnable = function () {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    };
    Bullet.prototype.onTriggerEnter = function (other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    };
    Bullet.prototype.onUpdate = function () {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    };
    Bullet.prototype.onDisable = function () {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    };
    return Bullet;
}(Laya.Script));
exports.default = Bullet;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
var DropBox = /** @class */ (function (_super) {
    __extends(DropBox, _super);
    function DropBox() {
        var _this = _super.call(this) || this;
        /**盒子等级 */
        _this.level = 1;
        return _this;
    }
    DropBox.prototype.onEnable = function () {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    };
    DropBox.prototype.onUpdate = function () {
        //让持续盒子旋转
        this.owner.rotation++;
    };
    DropBox.prototype.onTriggerEnter = function (other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    var effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    };
    /**使用对象池创建爆炸动画 */
    DropBox.prototype.createEffect = function () {
        var ani = new Laya.Animation();
        ani.loadAnimation("test/testAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    };
    DropBox.prototype.onDisable = function () {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    };
    return DropBox;
}(Laya.Script));
exports.default = DropBox;
},{"./GameUI":7}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = /** @class */ (function (_super) {
    __extends(GameControl, _super);
    function GameControl() {
        var _this = _super.call(this) || this;
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        _this.createBoxInterval = 1000;
        /**开始时间*/
        _this._time = 0;
        /**是否已经开始游戏 */
        _this._started = false;
        return _this;
    }
    GameControl.prototype.onEnable = function () {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    };
    GameControl.prototype.onUpdate = function () {
        //每间隔一段时间创建一个盒子
        var now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    };
    GameControl.prototype.createBox = function () {
        //使用对象池创建盒子
        var box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    };
    GameControl.prototype.onStageClick = function (e) {
        //停止事件冒泡，提高性能，当然也可以不要
        e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        var flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
    };
    /**开始游戏，通过激活本脚本方式开始游戏*/
    GameControl.prototype.startGame = function () {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    };
    /**结束游戏，通过非激活本脚本停止游戏 */
    GameControl.prototype.stopGame = function () {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    };
    return GameControl;
}(Laya.Script));
exports.default = GameControl;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameControl_1 = require("./GameControl");
var KBEngine_1 = require("../kbengine_ts_plugins/KBEngine");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }
    GameUI.prototype.onEnable = function () {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
        var args = new KBEngine_1.KBEngine.KBEngineArgs();
        args.address = "127.0.0.1";
        args.port = 20013;
        var app = new KBEngine_1.KBEngine.KBEngineApp(args);
        KBEngine_1.KBEngine.KBEvent.fire("login", "loginName", "123456", "");
    };
    GameUI.prototype.onTipClick = function (e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    };
    /**增加分数 */
    GameUI.prototype.addScore = function (value) {
        if (value === void 0) { value = 1; }
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    };
    /**停止游戏 */
    GameUI.prototype.stopGame = function () {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"../kbengine_ts_plugins/KBEngine":3,"./../ui/layaMaxUI":8,"./GameControl":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMva2JlbmdpbmVfdHNfcGx1Z2lucy9LQkVuZ2luZS50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMENBQW9DO0FBQ3BDLG9EQUE4QztBQUM5QywwQ0FBb0M7QUFDcEMsNENBQXNDO0FBQ3RDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUMvQixHQUFHLENBQUMsbUJBQW1CLEVBQUMsaUJBQU8sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFuQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIs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QUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFM0MsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7WUFDdkIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUM7WUFFdkIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDMUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFM0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVELGdDQUFTLEdBQVQ7WUFFSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFFN0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUNyQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQztZQUM3QixTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFHLFVBQVU7WUFDdEQsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBcUIsMENBQTBDO1lBQ3RGLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FB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TUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsSUFBSSxFQUFFLENBQUM7SUFDOUcsQ0FBQztJQUVELFVBQVU7SUFDVix5QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQWhEQSxBQWdEQyxDQWhEbUMsY0FBRSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBZ0R0RDs7Ozs7QUNyREQsSUFBTyxLQUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFjLEVBQUUsQ0FVZjtBQVZELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQVVwQjtJQVZnQixXQUFBLElBQUk7UUFDakI7WUFBaUMsK0JBQUs7WUFHbEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLG9DQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBQ0wsa0JBQUM7UUFBRCxDQVJBLEFBUUMsQ0FSZ0MsS0FBSyxHQVFyQztRQVJZLGdCQUFXLGNBUXZCLENBQUE7SUFDTCxDQUFDLEVBVmdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQVVwQjtBQUFELENBQUMsRUFWYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFVZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9zY3JpcHQvQnVsbGV0XCJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL3NjcmlwdC9Ecm9wQm94XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVDb250cm9sLnRzXCIsR2FtZUNvbnRyb2wpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQnVsbGV0LnRzXCIsQnVsbGV0KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0Ryb3BCb3gudHNcIixEcm9wQm94KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJleHBvcnQgbmFtZXNwYWNlIEtCRW5naW5lIFxyXG57XHJcbiAgICBmdW5jdGlvbiB0cmFuc2ZlckFycmF5QnVmZmVyKHNvdXJjZTogQXJyYXlCdWZmZXIsIGxlbmd0aDogbnVtYmVyKTogQXJyYXlCdWZmZXJcclxuICAgIHtcclxuICAgICAgICBzb3VyY2UgPSBPYmplY3Qoc291cmNlKTtcclxuICAgICAgICB2YXIgZGVzdCA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKCEoc291cmNlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICEoZGVzdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXlCdWZmZXIudHJhbnNmZXIsIGVycm9yOiBTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG11c3QgYmUgQXJyYXlCdWZmZXIgaW5zdGFuY2VzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZihkZXN0LmJ5dGVMZW5ndGggPj0gc291cmNlLmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGRlc3QpO1xyXG4gICAgICAgICAgICBidWYuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSksIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcnJheUJ1ZmZlci50cmFuc2ZlciwgZXJyb3I6IGRlc3RpbmF0aW9uIGhhcyBub3QgZW5vdWdoIHNwYWNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZGVzdDtcclxuICAgIH07XHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnbG9iYWxcclxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGNvbnN0IFBBQ0tFVF9NQVhfU0laRSAgICAgICAgICAgPSAxNTAwO1xyXG4gICAgY29uc3QgUEFDS0VUX01BWF9TSVpFX1RDUFx0ICAgID0gMTQ2MDtcclxuICAgIGNvbnN0IFBBQ0tFVF9NQVhfU0laRV9VRFBcdCAgICA9IDE0NzI7XHJcblxyXG4gICAgY29uc3QgTUVTU0FHRV9JRF9MRU5HVEhcdFx0ICAgID0gMjtcclxuICAgIGNvbnN0IE1FU1NBR0VfTEVOR1RIX0xFTkdUSFx0ICAgID0gMjtcclxuICAgIGNvbnN0IE1FU1NBR0VfTEVOR1RIMV9MRU5HVEggICAgPSA0O1xyXG4gICAgY29uc3QgTUVTU0FHRV9NQVhfU0laRVx0XHQgICAgPSA2NTUzNTtcclxuXHJcbiAgICBjb25zdCBDTElFTlRfTk9fRkxPQVRcdFx0ICAgID0gMDtcclxuICAgIGNvbnN0IEtCRV9GTFRfTUFYXHRcdFx0ICAgID0gMy40MDI4MjM0NjZlKzM4O1xyXG5cclxuICAgIGV4cG9ydCBjb25zdCBlbnVtIERFQlVHTEVWRUxcclxuXHR7XHJcblx0XHRERUJVRyA9IDAsXHJcblx0XHRJTkZPLFxyXG5cdFx0V0FSTklORyxcclxuXHRcdEVSUk9SLFxyXG5cclxuXHRcdE5PTE9HLCAgLy8g5pS+5Zyo5pyA5ZCO6Z2i77yM5L2/55So6L+Z5Liq5pe26KGo56S65LiN6L6T5Ye65Lu75L2V5pel5b+X77yIISEh5oWO55SoISEh77yJXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cG9ydCBjbGFzcyBEYmdcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGRlYnVnTGV2ZWw6REVCVUdMRVZFTCA9IERFQlVHTEVWRUwuREVCVUc7XHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXRIZWFkKCk6IHN0cmluZ1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG5vdzogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBcIltcIiArIG5vdy5nZXRGdWxsWWVhcigpICsgXCItXCIgKyAobm93LmdldE1vbnRoKCkgKyAxKSArIFwiLVwiICsgbm93LmdldERhdGUoKSArIFwiIFwiICsgbm93LmdldEhvdXJzKCkgXHJcbiAgICAgICAgICAgICsgXCI6XCIgKyBub3cuZ2V0TWludXRlcygpICsgXCI6XCIgKyBub3cuZ2V0U2Vjb25kcygpICsgXCIgXCIgKyBub3cuZ2V0TWlsbGlzZWNvbmRzKCkgKyBcIl0gXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgREVCVUdfTVNHKG1zZzogc3RyaW5nLCAuLi5wYXJhbXM6IGFueVtdKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoREVCVUdMRVZFTC5ERUJVRyA+PSB0aGlzLmRlYnVnTGV2ZWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy51bnNoaWZ0KHRoaXMuZ2V0SGVhZCgpLCBtc2cpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1Zy5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgSU5GT19NU0cobXNnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihERUJVR0xFVkVMLklORk8gPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgV0FSTklOR19NU0cobXNnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihERUJVR0xFVkVMLldBUk5JTkcgPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgc3RhdGljIEVSUk9SX01TRyhtc2c6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKERFQlVHTEVWRUwuRVJST1IgPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkodGhpcywgcGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHN0YXRpYyBBU1NFUlQoY29uZGl0aW9uPzogYm9vbGVhbiwgbWVzc2FnZT86IHN0cmluZywgLi4uZGF0YTogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyDkvb/nlKjmipvlh7rlvILluLjnmoTmlrnlvI/mnaXlrp7njrDnsbvkvLzmlq3oqIDlip/og71cclxuICAgICAgICAgICAgaWYoIWNvbmRpdGlvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cobmV3IEVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbm90Ze+8muW+ruS/oeWwj+a4uOaIj+W5s+WPsOS4jeaUr+aMge+8jOaJi+WGjOS4reaPkOWIsOeahENDX1dFQ0hBVEdBTUXmnKrlrprkuYnvvIzml6Dms5XljLrliIbmmK/lkKblvq7kv6HlsI/muLjmiI/lubPlj7DvvIxcclxuICAgICAgICAgICAgLy8gY29uc29sZS5hc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlLCAuLi5kYXRhKTtcclxuICAgICAgICAgICAgLy8g5LiA5Lqb5bmz5Y+w5aaC5bCP56iL5bqP5LiK5Y+v6IO95rKh5pyJYXNzZXJ0XHJcbiAgICAgICAgICAgIC8vIGlmKGNvbnNvbGUuYXNzZXJ0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5hc3NlcnQgPSBmdW5jdGlvbihiUmV0LCBzKVxyXG4gICAgICAgICAgICAvLyAgICAge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmKCEoYlJldCkpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgRVJST1JfTVNHKHMpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50XHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBleHBvcnQgY29uc3QgZW51bSBLQkV2ZW50VHlwZXMgXHJcbiAgICB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBhY2NvdW50LlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogYWNjb3VudE5hbWU8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBwYXNzd29yZDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0zKGJ5dGVzKTogZGF0YXMgLy8gRGF0YXMgYnkgdXNlciBkZWZpbmVkLiBEYXRhIHdpbGwgYmUgcmVjb3JkZWQgaW50byB0aGUgS0JFIGFjY291bnQgZGF0YWJhc2UsIHlvdSBjYW4gYWNjZXNzIHRoZSBkYXRhcyB0aHJvdWdoIHRoZSBzY3JpcHQgbGF5ZXIuIElmIHlvdSB1c2UgdGhpcmQtcGFydHkgYWNjb3VudCBzeXN0ZW0sIGRhdGFzIHdpbGwgYmUgc3VibWl0dGVkIHRvIHRoZSB0aGlyZC1wYXJ0eSBzeXN0ZW0uPC9wYXJhPlxyXG4gICAgICAgIGNyZWF0ZUFjY291bnQgPSBcImNyZWF0ZUFjY291bnRcIixcclxuXHJcbiAgICAgICAgLy8gTG9naW4gdG8gc2VydmVyLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogYWNjb3VudE5hbWU8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBwYXNzd29yZDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0zKGJ5dGVzKTogZGF0YXMgLy8gRGF0YXMgYnkgdXNlciBkZWZpbmVkLiBEYXRhIHdpbGwgYmUgcmVjb3JkZWQgaW50byB0aGUgS0JFIGFjY291bnQgZGF0YWJhc2UsIHlvdSBjYW4gYWNjZXNzIHRoZSBkYXRhcyB0aHJvdWdoIHRoZSBzY3JpcHQgbGF5ZXIuIElmIHlvdSB1c2UgdGhpcmQtcGFydHkgYWNjb3VudCBzeXN0ZW0sIGRhdGFzIHdpbGwgYmUgc3VibWl0dGVkIHRvIHRoZSB0aGlyZC1wYXJ0eSBzeXN0ZW0uPC9wYXJhPlxyXG4gICAgICAgIGxvZ2luID0gXCJsb2dpblwiLFxyXG5cclxuICAgICAgICAvLyBMb2dvdXQgdG8gYmFzZWFwcCwgY2FsbGVkIHdoZW4gZXhpdGluZyB0aGUgY2xpZW50Llx0XHJcbiAgICAgICAgbG9nb3V0ID0gXCJsb2dvdXRcIixcclxuXHJcbiAgICAgICAgLy8gUmVsb2dpbiB0byBiYXNlYXBwLlxyXG4gICAgICAgIHJlbG9naW5CYXNlYXBwID0gXCJyZWxvZ2luQmFzZWFwcFwiLFxyXG5cclxuICAgICAgICAvLyBSZXF1ZXN0IHNlcnZlciBiaW5kaW5nIGFjY291bnQgRW1haWwuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiBlbWFpbEFkZHJlc3M8L3BhcmE+XHJcbiAgICAgICAgYmluZEFjY291bnRFbWFpbCA9IFwiYmluZEFjY291bnRFbWFpbFwiLFxyXG5cclxuICAgICAgICAvLyBSZXF1ZXN0IHRvIHNldCB1cCBhIG5ldyBwYXNzd29yZCBmb3IgdGhlIGFjY291bnQuIE5vdGU6IGFjY291bnQgbXVzdCBiZSBvbmxpbmUuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiBvbGRfcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBuZXdfcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgbmV3UGFzc3dvcmQgPSBcIm5ld1Bhc3N3b3JkXCIsXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLei/nuaOpeebuOWFsy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAvLyBLaWNrZWQgb2YgdGhlIGN1cnJlbnQgc2VydmVyLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEodWludDE2KTogcmV0Y29kZS4gLy8gc2VydmVyX2Vycm9yczwvcGFyYT5cclxuICAgICAgICBvbktpY2tlZCA9IFwib25LaWNrZWRcIixcclxuXHJcbiAgICAgICAgLy8gRGlzY29ubmVjdGVkIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAgICBvbkRpc2Nvbm5lY3RlZCA9IFwib25EaXNjb25uZWN0ZWRcIixcclxuXHJcbiAgICAgICAgLy8gU3RhdHVzIG9mIGNvbm5lY3Rpb24gc2VydmVyLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoYm9vbCk6IHN1Y2Nlc3Mgb3IgZmFpbDwvcGFyYT5cclxuICAgICAgICBvbkNvbm5lY3Rpb25TdGF0ZSA9IFwib25Db25uZWN0aW9uU3RhdGVcIixcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tbG9nb27nm7jlhbMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGFjY291bnQgZmVlZGJhY2sgcmVzdWx0cy5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihieXRlcyk6IGRhdGFzLiAvLyBJZiB5b3UgdXNlIHRoaXJkLXBhcnR5IGFjY291bnQgc3lzdGVtLCB0aGUgc3lzdGVtIG1heSBmaWxsIHNvbWUgb2YgdGhlIHRoaXJkLXBhcnR5IGFkZGl0aW9uYWwgZGF0YXMuIDwvcGFyYT5cclxuICAgICAgICBvbkNyZWF0ZUFjY291bnRSZXN1bHQgPSBcIm9uQ3JlYXRlQWNjb3VudFJlc3VsdFwiLFxyXG5cclxuICAgICAgICAvLyBFbmdpbmUgdmVyc2lvbiBtaXNtYXRjaC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHN0cmluZyk6IGNsaWVudFZlcnNpb25cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHN0cmluZyk6IHNlcnZlclZlcnNpb25cclxuICAgICAgICBvblZlcnNpb25Ob3RNYXRjaCA9IFwib25WZXJzaW9uTm90TWF0Y2hcIixcclxuXHJcbiAgICAgICAgLy8gc2NyaXB0IHZlcnNpb24gbWlzbWF0Y2guXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiBjbGllbnRTY3JpcHRWZXJzaW9uXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBzZXJ2ZXJTY3JpcHRWZXJzaW9uXHJcbiAgICAgICAgb25TY3JpcHRWZXJzaW9uTm90TWF0Y2ggPSBcIm9uU2NyaXB0VmVyc2lvbk5vdE1hdGNoXCIsXHJcblxyXG4gICAgICAgIC8vIExvZ2luIGZhaWxlZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgb25Mb2dpbkZhaWxlZCA9IFwib25Mb2dpbkZhaWxlZFwiLFxyXG5cclxuICAgICAgICAvLyBMb2dpbiB0byBiYXNlYXBwLlxyXG4gICAgICAgIG9uTG9naW5CYXNlYXBwID0gXCJvbkxvZ2luQmFzZWFwcFwiLFxyXG5cclxuICAgICAgICAvLyBMb2dpbiBiYXNlYXBwIGZhaWxlZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgb25Mb2dpbkJhc2VhcHBGYWlsZWQgPSBcIm9uTG9naW5CYXNlYXBwRmFpbGVkXCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gdG8gYmFzZWFwcC5cclxuICAgICAgICBvblJlbG9naW5CYXNlYXBwID0gXCJvblJlbG9naW5CYXNlYXBwXCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gYmFzZWFwcCBzdWNjZXNzLlxyXG4gICAgICAgIG9uUmVsb2dpbkJhc2VhcHBTdWNjZXNzZnVsbHkgPSBcIm9uUmVsb2dpbkJhc2VhcHBTdWNjZXNzZnVsbHlcIixcclxuXHJcbiAgICAgICAgLy8gUmVsb2dpbiBiYXNlYXBwIGZhaWxlZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgb25SZWxvZ2luQmFzZWFwcEZhaWxlZCA9IFwib25SZWxvZ2luQmFzZWFwcEZhaWxlZFwiLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3lrp7kvZNjZWxs55u45YWz5LqL5Lu2LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIC8vIEVudGl0eSBlbnRlciB0aGUgY2xpZW50LXdvcmxkLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkVudGVyV29ybGQgPSBcIm9uRW50ZXJXb3JsZFwiLFxyXG5cclxuICAgICAgICAvLyBFbnRpdHkgbGVhdmUgdGhlIGNsaWVudC13b3JsZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgb25MZWF2ZVdvcmxkID0gXCJvbkxlYXZlV29ybGRcIixcclxuXHJcbiAgICAgICAgLy8gUGxheWVyIGVudGVyIHRoZSBuZXcgc3BhY2UuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIG9uRW50ZXJTcGFjZSA9IFwib25FbnRlclNwYWNlXCIsXHJcblxyXG4gICAgICAgIC8vIFBsYXllciBsZWF2ZSB0aGUgc3BhY2UuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIG9uTGVhdmVTcGFjZSA9IFwib25MZWF2ZVNwYWNlXCIsXHJcblxyXG4gICAgICAgIC8vIFNldHMgdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGVudGl0eS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgc2V0X3Bvc2l0aW9uID0gXCJzZXRfcG9zaXRpb25cIixcclxuXHJcbiAgICAgICAgLy8gU2V0cyB0aGUgY3VycmVudCBkaXJlY3Rpb24gb2YgdGhlIGVudGl0eS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgc2V0X2RpcmVjdGlvbiA9IFwic2V0X2RpcmVjdGlvblwiLFxyXG5cclxuICAgICAgICAvLyBUaGUgZW50aXR5IHBvc2l0aW9uIGlzIHVwZGF0ZWQsIHlvdSBjYW4gc21vb3RoIHRoZSBtb3ZpbmcgZW50aXR5IHRvIG5ldyBsb2NhdGlvbi5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgdXBkYXRlUG9zaXRpb24gPSBcInVwZGF0ZVBvc2l0aW9uXCIsXHJcblxyXG4gICAgICAgIC8vIFRoZSBjdXJyZW50IHNwYWNlIGlzIHNwZWNpZmllZCBieSB0aGUgZ2VvbWV0cnkgbWFwcGluZy5cclxuICAgICAgICAvLyBQb3B1bGFyIHNhaWQgaXMgdG8gbG9hZCB0aGUgc3BlY2lmaWVkIE1hcCBSZXNvdXJjZXMuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiByZXNQYXRoPC9wYXJhPlxyXG4gICAgICAgIGFkZFNwYWNlR2VvbWV0cnlNYXBwaW5nID0gXCJhZGRTcGFjZUdlb21ldHJ5TWFwcGluZ1wiLFxyXG5cclxuICAgICAgICAvLyBTZXJ2ZXIgc3BhY2VEYXRhIHNldCBkYXRhLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoaW50MzIpOiBzcGFjZUlEPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKToga2V5PC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTMoc3RyaW5nKTogdmFsdWU8L3BhcmE+XHJcbiAgICAgICAgb25TZXRTcGFjZURhdGEgPSBcIm9uU2V0U3BhY2VEYXRhXCIsXHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IGRvd25sb2FkaW5nIGRhdGEuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShpbnQzMik6IHJzcGFjZUlEPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKToga2V5PC9wYXJhPlxyXG4gICAgICAgIG9uRGVsU3BhY2VEYXRhID0gXCJvbkRlbFNwYWNlRGF0YVwiLFxyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgZW50aXR5IGlzIGNvbnRyb2xsZWQgb3Igb3V0IG9mIGNvbnRyb2wuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoYm9vbCk6IGlzQ29udHJvbGxlZDwvcGFyYT5cclxuICAgICAgICBvbkNvbnRyb2xsZWQgPSBcIm9uQ29udHJvbGxlZFwiLFxyXG5cclxuICAgICAgICAvLyBMb3NlIGNvbnRyb2xsZWQgZW50aXR5LlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkxvc2VDb250cm9sbGVkRW50aXR5ID0gXCJvbkxvc2VDb250cm9sbGVkRW50aXR5XCIsXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeaVsOaNruS4i+i9veebuOWFsy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAvLyBTdGFydCBkb3dubG9hZGluZyBkYXRhLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEodWludDE2KTogcmVzb3VjZSBpZDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHVpbnQzMik6IGRhdGEgc2l6ZTwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0zKHN0cmluZyk6IGRlc2NyaXB0aW9uPC9wYXJhPlxyXG4gICAgICAgIG9uU3RyZWFtRGF0YVN0YXJ0ZWQgPSBcIm9uU3RyZWFtRGF0YVN0YXJ0ZWRcIixcclxuXHJcbiAgICAgICAgLy8gUmVjZWl2ZSBkYXRhLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEodWludDE2KTogcmVzb3VjZSBpZDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKGJ5dGVzKTogZGF0YXM8L3BhcmE+XHJcbiAgICAgICAgb25TdHJlYW1EYXRhUmVjdiA9IFwib25TdHJlYW1EYXRhUmVjdlwiLFxyXG5cclxuICAgICAgICAvLyBUaGUgZG93bmxvYWRlZCBkYXRhIGlzIGNvbXBsZXRlZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJlc291Y2UgaWQ8L3BhcmE+XHJcbiAgICAgICAgb25TdHJlYW1EYXRhQ29tcGxldGVkID0gXCJvblN0cmVhbURhdGFDb21wbGV0ZWRcIixcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBFdmVudEluZm9cclxuICAgIHtcclxuICAgICAgICByZWFkb25seSBjbGFzc2luc3QgOiBhbnkgO1xyXG4gICAgICAgIHJlYWRvbmx5IGNhbGxiYWNrZm4gOiBGdW5jdGlvbiA7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNsYXNzaW5zdDogYW55LCBjYWxsYmFja2ZuIDogRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzc2luc3QgPSBjbGFzc2luc3Q7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tmbiA9IGNhbGxiYWNrZm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIEZpcmVkRXZlbnRcclxuICAgIHtcclxuICAgICAgICByZWFkb25seSBldnROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcmVhZG9ubHkgZXZ0SW5mbzogRXZlbnRJbmZvO1xyXG4gICAgICAgIHJlYWRvbmx5IGFyZ3M6IGFueTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoZXZ0TmFtZTogc3RyaW5nLCBldnRJbmZvOiBFdmVudEluZm8sIGFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2dE5hbWUgPSBldnROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLmV2dEluZm8gPSBldnRJbmZvO1xyXG4gICAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgS0JFdmVudFxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljICBfZXZlbnRzOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyAgX2lzUGF1c2U6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZmlyZWRFdmVudHM6IEFycmF5PEZpcmVkRXZlbnQ+ID0gW107XHJcblxyXG4gICAgICAgIHN0YXRpYyByZWdpc3RlcihldnROYW1lOiBzdHJpbmcsIGNsYXNzaW5zdDogYW55LCBzdHJDYWxsYmFjazogc3RyaW5nKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGNhbGxiYWNrZm4gPSBjbGFzc2luc3Rbc3RyQ2FsbGJhY2tdO1xyXG5cclxuICAgICAgICAgICAgaWYoY2FsbGJhY2tmbiA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERiZy5FUlJPUl9NU0coJ0tCRW5naW5lLktCRXZlbnQ6OmZpcmU6IG5vdCBmb3VuZCBzdHJDYWxsYmFjaygnICsgY2xhc3NpbnN0ICArIFwiKSFcIitzdHJDYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBldnRsc3QgPSB0aGlzLl9ldmVudHNbZXZ0TmFtZV07ICBcclxuICAgICAgICAgICAgaWYoZXZ0bHN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXZ0bHN0ID0gW107XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbZXZ0TmFtZV0gPSBldnRsc3Q7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBpbmZvID0gbmV3IEV2ZW50SW5mbyhjbGFzc2luc3QsIGNhbGxiYWNrZm4pO1xyXG4gICAgICAgICAgICBldnRsc3QucHVzaChpbmZvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBkZXJlZ2lzdGVyQWxsKGNsYXNzaW5zdDogYW55KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpdGVta2V5IGluIHRoaXMuX2V2ZW50cylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXJlZ2lzdGVyKGl0ZW1rZXksIGNsYXNzaW5zdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBkZXJlZ2lzdGVyKGV2dE5hbWU6IHN0cmluZywgY2xhc3NpbnN0OiBhbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZXZ0bHN0OiBBcnJheTxFdmVudEluZm8+ID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdO1xyXG4gICAgICAgICAgICBpZihldnRsc3QgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiS0JFdmVudDo6ZGVyZWdpc3RlcjpjYW50IGZpbmQgZXZlbnQgYnkgbmFtZSglcykuXCIsIGV2dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB3aGlsZSh0cnVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPGV2dGxzdC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGV2dGxzdFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihpbmZvLmNsYXNzaW5zdCA9PSBjbGFzc2luc3QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRsc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoIWZvdW5kKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZpcmVkRXZlbnQoZXZ0TmFtZSwgY2xhc3NpbnN0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBmaXJlKGV2dE5hbWU6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBldnRsc3Q6IEFycmF5PEV2ZW50SW5mbz4gPSB0aGlzLl9ldmVudHNbZXZ0TmFtZV07XHJcbiAgICAgICAgICAgIGlmKGV2dGxzdCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERiZy5FUlJPUl9NU0coXCJLQkV2ZW50OjpGaXJlOmNhbnQgZmluZCBldmVudCBieSBuYW1lKCVzKS5cIiwgZXZ0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaW5mbyBvZiBldnRsc3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLl9pc1BhdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5jYWxsYmFja2ZuLmFwcGx5KGluZm8uY2xhc3NpbnN0LCBwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlyZWRFdmVudCA9IG5ldyBGaXJlZEV2ZW50KGV2dE5hbWUsIGluZm8sIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVkRXZlbnRzLnB1c2goZmlyZWRFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2goZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiS0JFdmVudDo6RmlyZSglcyk6JXNcIiwgZXZ0TmFtZSwgZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBwYXVzZSgpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyByZXN1bWUoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faXNQYXVzZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpcmVkRXZlbnRzOiBBcnJheTxGaXJlZEV2ZW50PiA9IHRoaXMuX2ZpcmVkRXZlbnRzO1xyXG4gICAgICAgICAgICBEYmcuSU5GT19NU0coXCJyZXN1bWVcIik7XHJcbiAgICAgICAgICAgIHdoaWxlKGZpcmVkRXZlbnRzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBldnQgPSBmaXJlZEV2ZW50cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBldnQuZXZ0SW5mbztcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZXZ0LmFyZ3M7XHJcbiAgICAgICAgICAgICAgICBEYmcuSU5GT19NU0coXCJyZXN1bWUgZXZ0bmFtZTogXCIgKyBldnQuZXZ0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZihhcmdzLmxlbmd0aCA8IDEpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5jYWxsYmFja2ZuLmFwcGx5KGluZm8uY2xhc3NpbnN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvLmNhbGxiYWNrZm4uYXBwbHkoaW5mby5jbGFzc2luc3QsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcmVtb3ZlQWxsRmlyZWRFdmVudChjbGFzc2luc3Q6IGFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlyZWRFdmVudChcIlwiLCBjbGFzc2luc3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHJlbW92ZUZpcmVkRXZlbnQoZXZ0TmFtZTogc3RyaW5nLCBjbGFzc2luc3Q6IGFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBmaXJlZEV2ZW50czpBcnJheTxGaXJlZEV2ZW50PiA9IHRoaXMuX2ZpcmVkRXZlbnRzO1xyXG4gICAgICAgICAgICB3aGlsZSh0cnVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPGZpcmVkRXZlbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnQgPSBmaXJlZEV2ZW50c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZigoZXZ0TmFtZSA9PSBcIlwiIHx8IGV2dC5ldnROYW1lID09IGV2dE5hbWUpICYmIGV2dC5ldnRJbmZvLmNsYXNzaW5zdCA9PSBjbGFzc2luc3QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJlZEV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCFmb3VuZClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuZXR3b3JrXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBjbGFzcyBOZXR3b3JrSW50ZXJmYWNlXHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBzb2NrZXQ6IFdlYlNvY2tldCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBwcml2YXRlIG9uT3BlbkNCOiBGdW5jdGlvbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RUbyhhZGRyOiBzdHJpbmcsIGNhbGxiYWNrRnVuYz86IChldmVudDpFdmVudCk9PmFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoYWRkcik7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6Y29ubmVjdFRvOkluaXQgc29ja2V0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERiZy5FUlJPUl9NU0coXCJOZXR3b3JrSW50ZXJmYWNlOjpjb25uZWN0VG86SW5pdCBzb2NrZXQgZXJyb3I6XCIgKyBlKTtcclxuICAgICAgICAgICAgICAgIEtCRXZlbnQuZmlyZShcIm9uQ29ubmVjdGlvblN0YXRlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uY2xvc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9ub3BlbjtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2tGdW5jKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbkNCID0gY2FsbGJhY2tGdW5jO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbG9zZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VuZChidWZmZXI6IEFycmF5QnVmZmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9ub3BlbiA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIk5ldHdvcmtJbnRlcmZhY2U6Om9ub3BlbjpzdWNjZXNzIVwiKTtcclxuICAgICAgICAgICAgaWYodGhpcy5vbk9wZW5DQilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW5DQihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbkNCID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSBvbmVycm9yID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBLQkVEZWJ1Zy5ERUJVR19NU0coXCJOZXR3b3JrSW50ZXJmYWNlOjpvbmVycm9yOi4uLiFcIik7XHJcbiAgICAgICAgICAgIC8vIEtCRUV2ZW50LkZpcmUoXCJvbk5ldHdvcmtFcnJvclwiLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9ubWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uY2xvc2UgPSAoKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gS0JFRGVidWcuREVCVUdfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6b25jbG9zZTouLi4hXCIpO1xyXG4gICAgICAgICAgICAvLyBLQkVFdmVudC5GaXJlKFwib25EaXNjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG51bWJlcjY0Yml0c1xyXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4gICAgY2xhc3MgSU5UNjRcclxuICAgIHtcclxuICAgICAgICBsb3c6IG51bWJlcjtcclxuICAgICAgICBoaWdoOiBudW1iZXI7XHJcbiAgICAgICAgc2lnbjogbnVtYmVyID0gMTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocF9sb3c6IG51bWJlciwgcF9oaWdoOiBudW1iZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmxvdyA9IHBfbG93O1xyXG4gICAgICAgICAgICB0aGlzLmhpZ2ggPSBwX2hpZ2g7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihwX2hpZ2ggPj0gMjE0NzQ4MzY0OClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduID0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvdyA9ICg0Mjk0OTY3Mjk2IC0gdGhpcy5sb3cpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgICAgIGlmKHBfbG93ID4gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2ggPSA0Mjk0OTY3Mjk1IC0gdGhpcy5oaWdoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaCA9IDQyOTQ5NjcyOTYgLSB0aGlzLmhpZ2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgVUlOVDY0XHJcbiAgICB7XHJcbiAgICAgICAgbG93OiBudW1iZXI7XHJcbiAgICAgICAgaGlnaDogbnVtYmVyO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwX2xvdzogbnVtYmVyLCBwX2hpZ2g6IG51bWJlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubG93ID0gcF9sb3cgPj4+IDA7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCA9IHBfaGlnaDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWVtb3J5c3RyZWFtXHJcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbiAgICBjbGFzcyBQYWNrRmxvYXRYVHlwZVxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgX3VuaW9uRGF0YTogQXJyYXlCdWZmZXI7XHJcbiAgICAgICAgZnY6IEZsb2F0MzJBcnJheTtcclxuICAgICAgICB1djogVWludDMyQXJyYXk7XHJcbiAgICAgICAgaXY6IEludDMyQXJyYXk7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VuaW9uRGF0YSA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcclxuICAgICAgICAgICAgdGhpcy5mdiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdW5pb25EYXRhLCAwLCAxKTtcclxuICAgICAgICAgICAgdGhpcy51diA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl91bmlvbkRhdGEsIDAsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLml2ID0gbmV3IEludDMyQXJyYXkodGhpcy5fdW5pb25EYXRhLCAwLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgTWVtb3J5U3RyZWFtXHJcbiAgICB7XHJcbiAgICAgICAgcnBvczogbnVtYmVyID0gMDtcclxuICAgICAgICB3cG9zOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHByaXZhdGUgYnVmZmVyOiBBcnJheUJ1ZmZlcjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3Ioc2l6ZV9vcl9idWZmZXI6IG51bWJlciB8IEFycmF5QnVmZmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoc2l6ZV9vcl9idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBzaXplX29yX2J1ZmZlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHNpemVfb3JfYnVmZmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3BhY2UoKTogbnVtYmVyXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCAtIHRoaXMud3BvcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRJbnQ4KCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1ZiA9IG5ldyBJbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMucnBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMucnBvcyArPSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVmWzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVhZFVpbnQ4KCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLnJwb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnJwb3MgKz0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRVaW50MTYoKTogbnVtYmVyXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMucnBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMucnBvcyArPSAyO1xyXG4gICAgICAgICAgICByZXR1cm4gKChidWZbMV0gJiAweGZmKSA8PCA4KSArIChidWZbMF0gJiAweGZmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRJbnQxNigpOiBudW1iZXJcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMucmVhZFVpbnQxNigpO1xyXG4gICAgICAgICAgICBpZih2YWx1ZSA+PSAzMjc2OClcclxuICAgICAgICAgICAgICAgIHZhbHVlIC09IDY1NTM2O1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkVWludDMyKCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLnJwb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnJwb3MgKz0gNDtcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKGJ1ZlszXSA8PCAyNCkgKyAoYnVmWzJdIDw8IDE2KSArIChidWZbMV0gPDwgOCkgKyBidWZbMF07XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmVhZEludDMyKCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5yZWFkVWludDMyKCk7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlID49IDIxNDc0ODM2NDgpXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSAtPSA0Mjk0OTY3Mjk2O1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkVWludDY0KCk6IFVJTlQ2NFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVSU5UNjQodGhpcy5yZWFkVWludDMyKCksIHRoaXMucmVhZFVpbnQzMigpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRJbnQ2NCgpOiBJTlQ2NFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJTlQ2NCh0aGlzLnJlYWRVaW50MzIoKSwgdGhpcy5yZWFkVWludDMyKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVhZEZsb2F0KCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1ZjogRmxvYXQzMkFycmF5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnVmID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5ycG9zLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBidWYgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucnBvcywgdGhpcy5ycG9zICsgNCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJwb3MgKz0gNDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidWZbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkRG91YmxlKCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1ZjogRmxvYXQ2NEFycmF5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnVmID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5ycG9zLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBidWYgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucnBvcywgdGhpcy5ycG9zICsgOCksIDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJwb3MgKz0gODtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRTdHJpbmcoKTogc3RyaW5nXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IEludDhBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5ycG9zKTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB3aGlsZSh0cnVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihidWZbaW5kZXhdICE9IDAgKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2luZGV4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJwb3MgKyBpbmRleCA+PSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cobmV3IEVycm9yKFwiS0JFbmdpbmUuTWVtb3J5U3RyZWFtOjpSZWFkU3RyaW5nIG92ZXJmbG93KD49KSBtYXggbGVuZ3RoOlwiICsgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJwb3MgKz0gaW5kZXg7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICByZWFkQmxvYigpOiBVaW50OEFycmF5XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMucmVhZFVpbnQzMigpO1xyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMucnBvcywgc2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucnBvcyArPSBzaXplO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVhZFBhY2tYWigpOiBBcnJheTxudW1iZXI+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgeFBhY2tEYXRhID0gbmV3IFBhY2tGbG9hdFhUeXBlKCk7XHJcbiAgICAgICAgICAgIGxldCB6UGFja0RhdGEgPSBuZXcgUGFja0Zsb2F0WFR5cGUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICB4UGFja0RhdGEuZnZbMF0gPSAwLjA7XHJcbiAgICAgICAgICAgIHpQYWNrRGF0YS5mdlswXSA9IDAuMDtcclxuICAgIFxyXG4gICAgICAgICAgICB4UGFja0RhdGEudXZbMF0gPSAweDQwMDAwMDAwO1xyXG4gICAgICAgICAgICB6UGFja0RhdGEudXZbMF0gPSAweDQwMDAwMDAwO1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLnJlYWRVaW50OCgpO1xyXG4gICAgICAgICAgICBsZXQgdjIgPSB0aGlzLnJlYWRVaW50OCgpO1xyXG4gICAgICAgICAgICBsZXQgdjMgPSB0aGlzLnJlYWRVaW50OCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gMDtcclxuICAgICAgICAgICAgZGF0YSB8PSAodjEgPDwgMTYpO1xyXG4gICAgICAgICAgICBkYXRhIHw9ICh2MiA8PCA4KTtcclxuICAgICAgICAgICAgZGF0YSB8PSB2MztcclxuICAgIFxyXG4gICAgICAgICAgICB4UGFja0RhdGEudXZbMF0gfD0gKGRhdGEgJiAweDdmZjAwMCkgPDwgMztcclxuICAgICAgICAgICAgelBhY2tEYXRhLnV2WzBdIHw9IChkYXRhICYgMHgwMDA3ZmYpIDw8IDE1O1xyXG4gICAgXHJcbiAgICAgICAgICAgIHhQYWNrRGF0YS5mdlswXSAtPSAyLjA7XHJcbiAgICAgICAgICAgIHpQYWNrRGF0YS5mdlswXSAtPSAyLjA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHhQYWNrRGF0YS51dlswXSB8PSAoZGF0YSAmIDB4ODAwMDAwKSA8PCA4O1xyXG4gICAgICAgICAgICB6UGFja0RhdGEudXZbMF0gfD0gKGRhdGEgJiAweDAwMDgwMCkgPDwgMjA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgeHpEYXRhID0gbmV3IEFycmF5KDIpO1xyXG4gICAgICAgICAgICB4ekRhdGFbMF0gPSB4UGFja0RhdGEuZnZbMF07XHJcbiAgICAgICAgICAgIHh6RGF0YVsxXSA9IHpQYWNrRGF0YS5mdlswXTtcclxuICAgICAgICAgICAgcmV0dXJuIHh6RGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRQYWNrWSgpOiBudW1iZXJcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5yZWFkVWludDE2KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgeVBhY2tEYXRhID0gbmV3IFBhY2tGbG9hdFhUeXBlKCk7XHJcbiAgICAgICAgICAgIHlQYWNrRGF0YS51dlswXSA9IDB4NDAwMDAwMDA7XHJcbiAgICAgICAgICAgIHlQYWNrRGF0YS51dlswXSB8PSAoZGF0YSAmIDB4N2ZmZikgPDwgMTI7ICAgLy8g6Kej5Y6L77yM6KGl6Laz5bC+5pWwXHJcbiAgICAgICAgICAgIHlQYWNrRGF0YS5mdlswXSAtPSAyLjA7ICAgICAgICAgICAgICAgICAgICAgLy8g5q2k5pe26L+Y5pyq6K6+572u56ym5Y+35L2N77yM5b2T5L2c5q2j5pWw5aSE55CG77yMLTLlkI7lho3liqDkuIrnrKblj7fkvY3ljbPlj6/vvIzml6DpnIDmoLnmja7mraPotJ/mnaUrLTJcclxuICAgICAgICAgICAgeVBhY2tEYXRhLnV2WzBdIHw9IChkYXRhICYgMHg4MDAwKSA8PCAxNjsgICAvLyDorr7nva7nrKblj7fkvY1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB5UGFja0RhdGEuZnZbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cml0ZUludDgodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBidWYgPSBuZXcgSW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLndwb3MsIDEpO1xyXG4gICAgICAgICAgICBidWZbMF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy53cG9zICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cml0ZVVpbnQ4KHZhbHVlOiBudW1iZXIpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMud3BvcywgMSk7XHJcbiAgICAgICAgICAgIGJ1ZlswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLndwb3MgKz0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdyaXRlSW50MTYodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVJbnQ4KHZhbHVlICYgMHhmZik7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVJbnQ4KCh2YWx1ZSA+PiA4KSAmIDB4ZmYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd3JpdGVVaW50MTYodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVaW50OCh2YWx1ZSAmIDB4ZmYpO1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDgoKHZhbHVlID4+IDgpICYgMHhmZik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cml0ZUludDMyKHZhbHVlOiBudW1iZXIpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZUludDgoKHZhbHVlID4+IGkgKiA4KSAmIDB4ZmYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd3JpdGVVaW50MzIodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCA0OyBpKyspXHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlSW50OCgodmFsdWUgPj4gaSo4KSAmIDB4ZmYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd3JpdGVJbnQ2NCh2YWx1ZTogSU5UNjQpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlSW50MzIodmFsdWUubG93KTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZUludDMyKHZhbHVlLmhpZ2gpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd3JpdGVVaW50NjQodmFsdWU6IFVJTlQ2NCk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVaW50MzIodmFsdWUubG93KTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVVpbnQzMih2YWx1ZS5oaWdoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdyaXRlRmxvYXQodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVmID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy53cG9zLCAxKTtcclxuICAgICAgICAgICAgICAgIGJ1ZlswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBidWYgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xyXG4gICAgICAgICAgICAgICAgYnVmWzBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVmMSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIGxldCBidWYyID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBidWYxLnNldChidWYyLCB0aGlzLndwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy53cG9zICs9IDQ7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgd3JpdGVEb3VibGUodmFsdWU6IG51bWJlcik6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVmID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy53cG9zLCAxKTtcclxuICAgICAgICAgICAgICAgIGJ1ZlswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBidWYgPSBuZXcgRmxvYXQ2NEFycmF5KDEpO1xyXG4gICAgICAgICAgICAgICAgYnVmWzBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVmMSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIGxldCBidWYyID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBidWYxLnNldChidWYyLCB0aGlzLndwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLndwb3MgKz0gODtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICB3cml0ZUJsb2IodmFsdWU6IHN0cmluZ3xVaW50OEFycmF5KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHNpemUgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmKHNpemUgKyA0ID4gdGhpcy5zcGFjZSgpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiS0JFLk1lbW9yeVN0cmVhbTpXcml0ZUJsb2I6dGhlcmUgaXMgbm8gc3BhY2UgZm9yIHNpemU6JWRcIiwgc2l6ZSArIDQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy53cml0ZVVpbnQzMihzaXplKTtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMud3Bvcywgc2l6ZSk7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZih2YWx1ZSkgPT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaV0gPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaTwgc2l6ZTsgaSsrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpXSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy53cG9zICs9IHNpemU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cml0ZVN0cmluZyh2YWx1ZTogc3RyaW5nKTogdm9pZFxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCArIDEgPiB0aGlzLnNwYWNlKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERiZy5FUlJPUl9NU0coXCJLQkUuTWVtb3J5U3RyZWFtOldyaXRlU3RyaW5nOnRoZXJlIGlzIG5vIHNwYWNlIGZvciBzaXplOiVkXCIsIHZhbHVlLmxlbmd0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMud3BvcywgdmFsdWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBidWZbaV0gPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBidWZbdmFsdWUubGVuZ3RoXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMud3BvcyA9IHRoaXMud3BvcyArIHZhbHVlLmxlbmd0aCArIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkU2tpcChjb3VudDogbnVtYmVyKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ycG9zICs9IGNvdW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGVuZ3RoKCk6IG51bWJlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3BvcyAtIHRoaXMucnBvcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRFT0YoKTogYm9vbGVhblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggLSB0aGlzLnJwb3MgPD0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvbmUoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ycG9zID0gdGhpcy53cG9zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0QnVmZmVyKCk6IEFycmF5QnVmZmVyXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5ycG9zLCB0aGlzLndwb3MpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGdldFJhd0J1ZmZlcigpOiBBcnJheUJ1ZmZlclxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2xlYXIoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ycG9zID0gMDtcclxuICAgICAgICAgICAgdGhpcy53cG9zID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggPiBQQUNLRVRfTUFYX1NJWkUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihQQUNLRVRfTUFYX1NJWkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXBwZW5kKHN0cmVhbTogTWVtb3J5U3RyZWFtLCBvZmZzZXQ6IG51bWJlciwgc2l6ZTogbnVtYmVyKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoIShzdHJlYW0gaW5zdGFuY2VvZiBNZW1vcnlTdHJlYW0pKSBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIk1lbW9yeVN0cmVhbTo6YXBwZW5kKCk6IHN0cmVhbSBtdXN0IGJlIE1lbW9yeVN0cmVhbSBpbnN0YW5jZXNcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHNpemUgPiB0aGlzLnNwYWNlKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdHJhbnNmZXJBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCArIHNpemUgKiAyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLndwb3MsIHNpemUpO1xyXG4gICAgICAgICAgICBidWYuc2V0KG5ldyBVaW50OEFycmF5KHN0cmVhbS5idWZmZXIsIG9mZnNldCwgc2l6ZSksIDApO1xyXG4gICAgICAgICAgICB0aGlzLndwb3MgKz0gc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEtCRW5naW5lQXJnc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBhZGRyZXNzOiBzdHJpbmcgPSBcIjEyNy4wLjAuMVwiO1xyXG4gICAgICAgIHB1YmxpYyBwb3J0OiBudW1iZXIgPSAyMDAxMztcclxuICAgICAgICBwdWJsaWMgc2VydmVySGVhcnRiZWF0VGljazogbnVtYmVyID0gMTAwO1xyXG4gICAgICAgIHB1YmxpYyBjbGllbnRUeXBlOiBudW1iZXIgPSA1O1xyXG4gICAgICAgIHB1YmxpYyBpc09uSW5pdENhbGxQcm9wZXJ0eXNTZXRNZXRob2RzOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICBwdWJsaWMgaXNXc3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgS0JFbmdpbmVBcHBcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGFwcDogS0JFbmdpbmVBcHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcHJpdmF0ZSBuZXR3b3JrSW50ZXJmYWNlOiBOZXR3b3JrSW50ZXJmYWNlICA9IG5ldyBOZXR3b3JrSW50ZXJmYWNlKCk7XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXJnczogS0JFbmdpbmVBcmdzO1xyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VybmFtZTogc3RyaW5nID0gXCJ0ZXN0XCI7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXNzd29yZDogc3RyaW5nID0gXCIxMjM0NTZcIjtcclxuICAgICAgICBwcml2YXRlIGNsaWVudGRhdGFzOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICAgICAgcHJpdmF0ZSBlbmNyeXB0ZWRLZXk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBcclxuICAgICAgICBwcml2YXRlIGxvZ2luYXBwTWVzc2FnZUltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBiYXNlYXBwTWVzc2FnZUltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzZXJ2ZXJFcnJvcnNEZXNjckltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBlbnRpdHlkZWZJbXBvcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgLy8g55m75b2VbG9naW5hcHDnmoTlnLDlnYBcclxuICAgICAgICBwcml2YXRlIHNlcnZlckFkZHJlc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHJpdmF0ZSBwb3J0OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOacjeWKoeerr+WIhumFjeeahGJhc2VhcHDlnLDlnYBcclxuICAgICAgICBwdWJsaWMgYmFzZWFwcEFkZHJlc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIGJhc2VhcHBQb3J0OiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBwcml2YXRlIGlzV3NzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm90b2NvbDogc3RyaW5nID0gXCJ3czovL1wiO1xyXG5cclxuICAgICAgICAvLyDlvZPliY3nirbmgIFcclxuICAgICAgICBwdWJsaWMgY3VycnNlcnZlcjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY3VycnN0YXRlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBjdXJyY29ubmVjdDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8g5omp5bGV5pWw5o2uXHJcbiAgICAgICAgcHVibGljIHNlcnZlcmRhdGFzOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyDniYjmnKzkv6Hmga9cclxuICAgICAgICBwdWJsaWMgc2VydmVyVmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgc2VydmVyU2NyaXB0VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgc2VydmVyUHJvdG9jb2xNRDU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIHNlcnZlckVudGl0eURlZk1ENTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY2xpZW50VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY2xpZW50U2NyaXB0VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gcGxheWVy55qE55u45YWz5L+h5oGvXHJcbiAgICAgICAgcHJpdmF0ZSBlbnRpdHlfaWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgLy9wcml2YXRlIGVudGl0eV91dWlkOiBEYXRhVHlwZXMuVUlOVDY0O1xyXG4gICAgICAgIHByaXZhdGUgZW50aXR5X3R5cGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIHByaXZhdGUgY29udHJvbGxlZEVudGl0aWVzOiBBcnJheTxFbnRpdHk+ID0gbmV3IEFycmF5PEVudGl0eT4oKTtcclxuICAgICAgICAvLyBwcml2YXRlIGVudGl0eUlEQWxpYXNJRExpc3Q6IEFycmF5PG51bWJlcj4gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xyXG5cclxuICAgICAgICAvLyAvLyDov5nkuKrlj4LmlbDnmoTpgInmi6nlv4XpobvkuI5rYmVuZ2luZV9kZWZzLnhtbDo6Y2VsbGFwcC9hbGlhc0VudGl0eUlE55qE5Y+C5pWw5L+d5oyB5LiA6Ie0XHJcbiAgICAgICAgLy8gdXNlQWxpYXNFbnRpdHlJRCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaXNPbkluaXRDYWxsUHJvcGVydHlzU2V0TWV0aG9kcyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIC8vIOW9k+WJjeeOqeWutuacgOWQjuS4gOasoeWQjOatpeWIsOacjeWKoeerr+eahOS9jee9ruS4juacneWQkeS4juacjeWKoeerr+acgOWQjuS4gOasoeWQjOatpei/h+adpeeahOS9jee9rlxyXG4gICAgICAgIC8vIGVudGl0eVNlcnZlclBvcyA9IG5ldyBLQkVNYXRoLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XHJcblxyXG4gICAgICAgIC8vIOWuouaIt+err+aJgOacieeahOWunuS9k1xyXG5cdFx0Ly8gS0JFbmdpbmUuYXBwLmVudGl0aWVzID0ge307XHJcblx0XHQvLyBLQkVuZ2luZS5hcHAuZW50aXR5SURBbGlhc0lETGlzdCA9IFtdO1xyXG5cdFx0Ly8gS0JFbmdpbmUuYXBwLmNvbnRyb2xsZWRFbnRpdGllcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBzcGFjZWRhdGE6IHtba2V5OnN0cmluZ106IHN0cmluZ30gPSB7fTtcclxuICAgICAgICAvLyBzcGFjZUlEID0gMDtcclxuICAgICAgICAvLyBzcGFjZVJlc1BhdGggPSBcIlwiO1xyXG4gICAgICAgIC8vIGlzTG9hZGVkR2VvbWV0cnkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gbGFzdFRpY2tUaW1lXHJcbiAgICAgICAgLy8gbGFzdFRpY2tDQlRpbWVcclxuXHJcbiAgICAgICAgLy8g5oyJ54Wn5qCH5YeG77yM5q+P5Liq5a6i5oi356uv6YOo5YiG6YO95bqU6K+l5YyF5ZCr6L+Z5Liq5bGe5oCnXHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoYXJnczogS0JFbmdpbmVBcmdzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkFTU0VSVChLQkVuZ2luZUFwcC5hcHAgPT09IHVuZGVmaW5lZCwgXCJLQkVuZ2luZUFwcDo6Y29uc3RydWN0b3I6c2luZ2xldG9uIEtCRW5naW5lQXBwLl9hcHAgbXVzdCBiZSB1bmRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoYXJncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0U2luZ2xldG9uKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKEtCRW5naW5lQXBwLmFwcCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgY3JlYXRlIEtCRW5naW5lQXBwIVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIEtCRW5naW5lQXBwLmFwcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpbml0aWFsaXplKGFyZ3M6IEtCRW5naW5lQXJncyk6IGJvb2xlYW5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgICAgIHRoaXMuc2VydmVyQWRkcmVzcyA9IGFyZ3MuYWRkcmVzcztcclxuICAgICAgICAgICAgdGhpcy5wb3J0ID0gYXJncy5wb3J0O1xyXG4gICAgICAgICAgICB0aGlzLmlzV3NzID0gYXJncy5pc1dzcztcclxuICAgICAgICAgICAgdGhpcy5wcm90b2NvbCA9IGFyZ3MuaXNXc3MgPyBcIndzczovL1wiIDogXCJ3czovL1wiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0TmV0d29yaygpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxFdmVudHMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0TmV0d29yaygpOiB2b2lkXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluc3RhbGxFdmVudHMoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgS0JFdmVudC5yZWdpc3RlcihLQkV2ZW50VHlwZXMubG9naW4sIEtCRW5naW5lQXBwLmFwcCwgXCJsb2dpblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc2V0U29ja2V0KCk6IHZvaWRcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzZXQoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gaWYoS0JFbmdpbmVBcHAuYXBwLmVudGl0aWVzICE9IHVuZGVmaW5lZCAmJiBLQkVuZ2luZUFwcC5hcHAuZW50aXRpZXMgIT0gbnVsbClcclxuICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAvLyAgICAgS0JFbmdpbmVBcHAuYXBwLmNsZWFyRW50aXRpZXModHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHRcdFxyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAucmVzZXRTb2NrZXQoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5jdXJyc2VydmVyID0gXCJsb2dpbmFwcFwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY3VycnN0YXRlID0gXCJjcmVhdGVcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmN1cnJjb25uZWN0ID0gXCJsb2dpbmFwcFwiO1xyXG5cclxuICAgICAgICAgICAgLy8g5omp5bGV5pWw5o2uXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJkYXRhcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDniYjmnKzkv6Hmga9cclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnNlcnZlclZlcnNpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuc2VydmVyU2NyaXB0VmVyc2lvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJQcm90b2NvbE1ENSA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJFbnRpdHlEZWZNRDUgPSBcIlwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY2xpZW50VmVyc2lvbiA9IFwiMS4yLjdcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmNsaWVudFNjcmlwdFZlcnNpb24gPSBcIjAuMS4wXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAvLyBwbGF5ZXLnmoTnm7jlhbPkv6Hmga9cclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eV91dWlkID0gbnVsbDtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eV9pZCA9IDA7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5lbnRpdHlfdHlwZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAvLyAvLyDov5nkuKrlj4LmlbDnmoTpgInmi6nlv4XpobvkuI5rYmVuZ2luZV9kZWZzLnhtbDo6Y2VsbGFwcC9hbGlhc0VudGl0eUlE55qE5Y+C5pWw5L+d5oyB5LiA6Ie0XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC51c2VBbGlhc0VudGl0eUlEID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIOW9k+WJjeeOqeWutuacgOWQjuS4gOasoeWQjOatpeWIsOacjeWKoeerr+eahOS9jee9ruS4juacneWQkeS4juacjeWKoeerr+acgOWQjuS4gOasoeWQjOatpei/h+adpeeahOS9jee9rlxyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuZW50aXR5U2VydmVyUG9zID0gbmV3IEtCRW5naW5lLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAvLyDlrqLmiLfnq6/miYDmnInnmoTlrp7kvZNcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0aWVzID0ge307XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5lbnRpdHlJREFsaWFzSURMaXN0ID0gW107XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5jb250cm9sbGVkRW50aXRpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIOepuumXtOeahOS/oeaBr1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuc3BhY2VkYXRhID0ge307XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5zcGFjZUlEID0gMDtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLnNwYWNlUmVzUGF0aCA9IFwiXCI7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5pc0xvYWRlZEdlb21ldHJ5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5sYXN0VGlja1RpbWUgPSBkYXRlT2JqZWN0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmxhc3RUaWNrQ0JUaW1lID0gZGF0ZU9iamVjdC5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZS5tYXBwaW5nRGF0YVR5cGUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIOW9k+WJjee7hOS7tuexu+WIq++8jCDphY3lpZfmnI3liqHnq6/kvZPns7tcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmNvbXBvbmVudCA9IFwiY2xpZW50XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRTZXJ2ZXJBZGRyKGlwOiBzdHJpbmcsIHBvcnQ6IG51bWJlcik6IHN0cmluZ1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZlckFkZHIgPSBLQkVuZ2luZUFwcC5hcHAucHJvdG9jb2wgKyBpcDtcclxuICAgICAgICAgICAgaWYocG9ydCAhPSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJBZGRyICs9IFwiOlwiICsgcG9ydDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkZHI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2dpbih1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBkYXRhczphbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAucmVzZXQoKTtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5wYXNzd29yZCA9IHBhc3N3b3JkO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY2xpZW50ZGF0YXMgPSBkYXRhcztcclxuXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5sb2dpbl9sb2dpbmFwcCh0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbG9naW5fbG9naW5hcHAobm9jb25uZWN0OiBib29sZWFuKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYobm9jb25uZWN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVyQWRkciA9IHRoaXMuZ2V0U2VydmVyQWRkcihLQkVuZ2luZUFwcC5hcHAuc2VydmVyQWRkcmVzcywgS0JFbmdpbmVBcHAuYXBwLnBvcnQpO1xyXG4gICAgICAgICAgICAgICAgRGJnLklORk9fTVNHKFwiS0JFbmdpbmVBcHA6OmxvZ2luX2xvZ2luYXBwOiBzdGFydCBjb25uZWN0IHRvIFwiICsgc2VydmVyQWRkciArIFwiIVwiKVxyXG4gICAgICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmN1cnJjb25uZWN0ID0gXCJsb2dpbmFwcFwiO1xyXG4gICAgICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLm5ldHdvcmtJbnRlcmZhY2UuY29ubmVjdFRvKHNlcnZlckFkZHIsIChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB0aGlzLm9uT3BlbkxvZ2luYXBwX2xvZ2luKGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uT3BlbkxvZ2luYXBwX2xvZ2luKGV2ZW50OiBNZXNzYWdlRXZlbnQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkRFQlVHX01TRyhcIktCRW5naW5lQXBwOjpvbk9wZW5Mb2dpbmFwcF9sb2dpbjpzdWNjZXNzIHRvICVzLlwiLCB0aGlzLnNlcnZlckFkZHJlc3MpO1xyXG4gICAgICAgICAgICBLQkV2ZW50LmZpcmUoS0JFdmVudFR5cGVzLm9uQ29ubmVjdGlvblN0YXRlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycnNlcnZlciA9IFwibG9naW5hcHBcIjtcclxuICAgICAgICAgICAgdGhpcy5jdXJyc3RhdGUgPSBcImxvZ2luXCI7XHJcblxyXG4gICAgICAgICAgICBpZighdGhpcy5sb2dpbmFwcE1lc3NhZ2VJbXBvcnRlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGJnLklORk9fTVNHKFwiS0JFbmdpbmVBcHA6Om9uT3BlbkxvZ2luYXBwX2xvZ2luOiBzdGFydCBpbXBvcnRDbGllbnRNZXNzYWdlcyAuLi5cIik7XHJcbiAgICAgICAgICAgICAgICBLQkV2ZW50LmZpcmUoXCJMb2dpbmFwcF9pbXBvcnRDbGllbnRNZXNzYWdlc1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25JbXBvcnRDbGllbnRNZXNzYWdlc0NvbXBsZXRlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uSW1wb3J0Q2xpZW50TWVzc2FnZXNDb21wbGV0ZWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIOWtkOW8ueiEmuacrO+8jOWunueOsOWtkOW8uemjnuihjOmAu+i+keWPiuWvueixoeaxoOWbnuaUtuacuuWItlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+iuvue9ruWIneWni+mAn+W6plxyXG4gICAgICAgIHZhciByaWc6IExheWEuUmlnaWRCb2R5ID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHJpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IC0xMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlcjogYW55LCBzZWxmOiBhbnksIGNvbnRhY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8v5aaC5p6c6KKr56Kw5Yiw77yM5YiZ56e76Zmk5a2Q5by5XHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/lpoLmnpzlrZDlvLnotoXlh7rlsY/luZXvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICBpZiAoKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnkgPCAtMTApIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+WtkOW8ueiiq+enu+mZpOaXtu+8jOWbnuaUtuWtkOW8ueWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgFxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYnVsbGV0XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuLyoqXHJcbiAqIOaOieiQveebkuWtkOiEmuacrO+8jOWunueOsOebkuWtkOeisOaSnuWPiuWbnuaUtua1geeoi1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJvcEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKuebkuWtkOetiee6pyAqL1xyXG4gICAgbGV2ZWw6IG51bWJlciA9IDE7XHJcbiAgICAvKirnrYnnuqfmlofmnKzlr7nosaHlvJXnlKggKi9cclxuICAgIHByaXZhdGUgX3RleHQ6IExheWEuVGV4dDtcclxuICAgIC8qKuWImuS9k+WvueixoeW8leeUqCAqL1xyXG4gICAgcHJpdmF0ZSBfcmlnOiBMYXlhLlJpZ2lkQm9keVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImxldmVsVHh0XCIpIGFzIExheWEuVGV4dDtcclxuICAgICAgICB0aGlzLl90ZXh0LnRleHQgPSB0aGlzLmxldmVsICsgXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+iuqeaMgee7reebkuWtkOaXi+i9rFxyXG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS5yb3RhdGlvbisrO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdmFyIG93bmVyOiBMYXlhLlNwcml0ZSA9IHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcImJ1dHRsZVwiKSB7XHJcbiAgICAgICAgICAgIC8v56Kw5pKe5Yiw5a2Q5by55ZCO77yM5aKe5Yqg56ev5YiG77yM5pKt5pS+5aOw6Z+z54m55pWIXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dC5jaGFuZ2VUZXh0KHRoaXMubGV2ZWwgKyBcIlwiKTtcclxuICAgICAgICAgICAgICAgIG93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSkuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAtMTAgfSk7XHJcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9oaXQud2F2XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG93bmVyLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZmZlY3Q6IExheWEuQW5pbWF0aW9uID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImVmZmVjdFwiLCB0aGlzLmNyZWF0ZUVmZmVjdCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LnBvcyhvd25lci54LCBvd25lci55KTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5wYXJlbnQuYWRkQ2hpbGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvZGVzdHJveS53YXZcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmFkZFNjb3JlKDEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3RoZXIubGFiZWwgPT09IFwiZ3JvdW5kXCIpIHtcclxuICAgICAgICAgICAgLy/lj6ropoHmnInkuIDkuKrnm5LlrZDnorDliLDlnLDmnb/vvIzliJnlgZzmraLmuLjmiI9cclxuICAgICAgICAgICAgb3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2Uuc3RvcEdhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5L2/55So5a+56LGh5rGg5Yib5bu654iG54K45Yqo55S7ICovXHJcbiAgICBjcmVhdGVFZmZlY3QoKTogTGF5YS5BbmltYXRpb24ge1xyXG4gICAgICAgIGxldCBhbmk6IExheWEuQW5pbWF0aW9uID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJ0ZXN0L3Rlc3RBbmkuYW5pXCIpO1xyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBMRVRFLCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImVmZmVjdFwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZHJvcEJveFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgRHJvcEJveCBmcm9tIFwiLi9Ecm9wQm94XCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vQnVsbGV0XCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKzjgILlrprkuYnkuoblh6DkuKpkcm9wQm9477yMYnVsbGV077yMY3JlYXRlQm94SW50ZXJ2YWznrYnlj5jph4/vvIzog73lpJ/lnKhJREXmmL7npLrlj4rorr7nva7or6Xlj5jph49cclxuICog5pu05aSa57G75Z6L5a6a5LmJ77yM6K+35Y+C6ICD5a6Y5pa55paH5qGjXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29udHJvbCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpkcm9wQm94LHRpcHM6XCLmjonokL3lrrnlmajpooTliLbkvZPlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgZHJvcEJveDogTGF5YS5QcmVmYWI7XHJcbiAgICAvKiogQHByb3Age25hbWU6YnVsbGV0LHRpcHM6XCLlrZDlvLnpooTliLbkvZPlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgYnVsbGV0OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpjcmVhdGVCb3hJbnRlcnZhbCx0aXBzOlwi6Ze06ZqU5aSa5bCR5q+r56eS5Yib5bu65LiA5Liq5LiL6LeM55qE5a655ZmoXCIsdHlwZTppbnQsZGVmYXVsdDoxMDAwfSovXHJcbiAgICBjcmVhdGVCb3hJbnRlcnZhbDogbnVtYmVyID0gMTAwMDtcclxuICAgIC8qKuW8gOWni+aXtumXtCovXHJcbiAgICBwcml2YXRlIF90aW1lOiBudW1iZXIgPSAwO1xyXG4gICAgLyoq5piv5ZCm5bey57uP5byA5aeL5ri45oiPICovXHJcbiAgICBwcml2YXRlIF9zdGFydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAvKirlrZDlvLnlkoznm5LlrZDmiYDlnKjnmoTlrrnlmajlr7nosaEgKi9cclxuICAgIHByaXZhdGUgX2dhbWVCb3g6IExheWEuU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJnYW1lQm94XCIpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/mr4/pl7TpmpTkuIDmrrXml7bpl7TliJvlu7rkuIDkuKrnm5LlrZBcclxuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAobm93IC0gdGhpcy5fdGltZSA+IHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGltZSA9IG5vdztcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQm94KCk6IHZvaWQge1xyXG4gICAgICAgIC8v5L2/55So5a+56LGh5rGg5Yib5bu655uS5a2QXHJcbiAgICAgICAgbGV0IGJveDogTGF5YS5TcHJpdGUgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZHJvcEJveFwiLCB0aGlzLmRyb3BCb3guY3JlYXRlLCB0aGlzLmRyb3BCb3gpO1xyXG4gICAgICAgIGJveC5wb3MoTWF0aC5yYW5kb20oKSAqIChMYXlhLnN0YWdlLndpZHRoIC0gMTAwKSwgLTEwMCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChib3gpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3RhZ2VDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy/lgZzmraLkuovku7blhpLms6HvvIzmj5Dpq5jmgKfog73vvIzlvZPnhLbkuZ/lj6/ku6XkuI3opoFcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIC8v6Iie5Y+w6KKr54K55Ye75ZCO77yM5L2/55So5a+56LGh5rGg5Yib5bu65a2Q5by5XHJcbiAgICAgICAgbGV0IGZseWVyOiBMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJidWxsZXRcIiwgdGhpcy5idWxsZXQuY3JlYXRlLCB0aGlzLmJ1bGxldCk7XHJcbiAgICAgICAgZmx5ZXIucG9zKExheWEuc3RhZ2UubW91c2VYLCBMYXlhLnN0YWdlLm1vdXNlWSk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChmbHllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5byA5aeL5ri45oiP77yM6YCa6L+H5r+A5rS75pys6ISa5pys5pa55byP5byA5aeL5ri45oiPKi9cclxuICAgIHN0YXJ0R2FtZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKue7k+adn+a4uOaIj++8jOmAmui/h+mdnua/gOa0u+acrOiEmuacrOWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcbmltcG9ydCB7S0JFbmdpbmV9IGZyb20gXCIuLi9rYmVuZ2luZV90c19wbHVnaW5zL0tCRW5naW5lXCJcclxuLyoqXHJcbiAqIOacrOekuuS+i+mHh+eUqOmdnuiEmuacrOeahOaWueW8j+WunueOsO+8jOiAjOS9v+eUqOe7p+aJv+mhtemdouWfuuexu++8jOWunueOsOmhtemdoumAu+i+keOAguWcqElERemHjOmdouiuvue9ruWcuuaZr+eahFJ1bnRpbWXlsZ7mgKfljbPlj6/lkozlnLrmma/ov5vooYzlhbPogZRcclxuICog55u45q+U6ISa5pys5pa55byP77yM57un5om/5byP6aG16Z2i57G777yM5Y+v5Lul55u05o6l5L2/55So6aG16Z2i5a6a5LmJ55qE5bGe5oCn77yI6YCa6L+HSURF5YaFdmFy5bGe5oCn5a6a5LmJ77yJ77yM5q+U5aaCdGhpcy50aXBMYmxs77yMdGhpcy5zY29yZUxibO+8jOWFt+acieS7o+eggeaPkOekuuaViOaenFxyXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIHVpLnRlc3QuVGVzdFNjZW5lVUkge1xyXG4gICAgLyoq6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoICovXHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6IEdhbWVVSTtcclxuICAgIC8qKuW9k+WJjea4uOaIj+enr+WIhuWtl+autSAqL1xyXG4gICAgcHJpdmF0ZSBfc2NvcmU6IG51bWJlcjtcclxuICAgIC8qKua4uOaIj+aOp+WItuiEmuacrOW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOaAp+iDveW8gOmUgCAqL1xyXG4gICAgcHJpdmF0ZSBfY29udHJvbDogR2FtZUNvbnRyb2w7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6n77yM5ZCm5YiZ5bCx5peg5pWM5LqGXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xyXG4gICAgICAgIC8v54K55Ye75o+Q56S65paH5a2X77yM5byA5aeL5ri45oiPXHJcbiAgICAgICAgdGhpcy50aXBMYmxsLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25UaXBDbGljayk7XHJcblxyXG4gICAgICAgIGxldCBhcmdzID0gbmV3IEtCRW5naW5lLktCRW5naW5lQXJncygpOyBcclxuICAgICAgICBhcmdzLmFkZHJlc3MgPSBcIjEyNy4wLjAuMVwiO1xyXG4gICAgICAgIGFyZ3MucG9ydCA9IDIwMDEzO1xyXG4gICAgICAgIGxldCBhcHAgPSBuZXcgS0JFbmdpbmUuS0JFbmdpbmVBcHAoYXJncyk7XHJcbiAgICAgICAgS0JFbmdpbmUuS0JFdmVudC5maXJlKFwibG9naW5cIiwgXCJsb2dpbk5hbWVcIiwgXCIxMjM0NTZcIiwgXCJcIik7ICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvblRpcENsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Njb3JlID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGJsLnRleHQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RhcnRHYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5aKe5Yqg5YiG5pWwICovXHJcbiAgICBhZGRTY29yZSh2YWx1ZTogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3Njb3JlICs9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwuY2hhbmdlVGV4dChcIuWIhuaVsO+8mlwiICsgdGhpcy5fc2NvcmUpO1xyXG4gICAgICAgIC8v6ZqP552A5YiG5pWw6LaK6auY77yM6Zq+5bqm5aKe5aSnXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgPiA2MDAgJiYgdGhpcy5fc2NvcmUgJSAyMCA9PSAwKSB0aGlzLl9jb250cm9sLmNyZWF0ZUJveEludGVydmFsIC09IDIwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC50ZXh0ID0gXCLmuLjmiI/nu5PmnZ/kuobvvIzngrnlh7vlsY/luZXph43mlrDlvIDlp4tcIjtcclxuICAgICAgICB0aGlzLl9jb250cm9sLnN0b3BHYW1lKCk7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG5leHBvcnQgbW9kdWxlIHVpLnRlc3Qge1xyXG4gICAgZXhwb3J0IGNsYXNzIFRlc3RTY2VuZVVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIHNjb3JlTGJsOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIHRpcExibGw6TGF5YS5MYWJlbDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIl19
