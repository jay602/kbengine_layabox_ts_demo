var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
var GameControl_1 = require("./script/GameControl");
var Bullet_1 = require("./script/Bullet");
var DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":4,"./script/DropBox":5,"./script/GameControl":6,"./script/GameUI":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KBEngine;
(function (KBEngine) {
    var Dbg = /** @class */ (function () {
        function Dbg() {
        }
        Dbg.getHead = function () {
            var now = new Date();
            return "[" + now.getFullYear() + "-" + (now.getMonth() + 1) + "-" + now.getDate() + " " + now.getHours()
                + ":" + now.getMinutes() + ":" + now.getSeconds() + " " + now.getMilliseconds() + "] ";
        };
        Dbg.DEBUG_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (0 /* DEBUG */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.debug.apply(this, params);
            }
        };
        Dbg.INFO_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (1 /* INFO */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.info.apply(this, params);
            }
        };
        Dbg.WARNING_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (2 /* WARNING */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.warn.apply(this, params);
            }
        };
        Dbg.ERROR_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (3 /* ERROR */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.error.apply(this, params);
            }
        };
        Dbg.ASSERT = function (condition, message) {
            var data = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                data[_i - 2] = arguments[_i];
            }
            // 使用抛出异常的方式来实现类似断言功能
            if (!condition) {
                throw (new Error(message));
            }
            // note：微信小游戏平台不支持，手册中提到的CC_WECHATGAME未定义，无法区分是否微信小游戏平台，
            // console.assert(condition, message, ...data);
            // 一些平台如小程序上可能没有assert
            // if(console.assert == undefined)
            // {
            //     console.assert = function(bRet, s)
            //     {
            //         if(!(bRet)) {
            //             ERROR_MSG(s);
            //         }
            //     }
            // }
        };
        Dbg.debugLevel = 0 /* DEBUG */;
        return Dbg;
    }());
    KBEngine.Dbg = Dbg;
    var EventInfo = /** @class */ (function () {
        function EventInfo(classinst, callbackfn) {
            this.classinst = classinst;
            this.callbackfn = callbackfn;
        }
        return EventInfo;
    }());
    var FiredEvent = /** @class */ (function () {
        function FiredEvent(evtName, evtInfo, args) {
            this.evtName = evtName;
            this.evtInfo = evtInfo;
            this.args = args;
        }
        return FiredEvent;
    }());
    var KBEvent = /** @class */ (function () {
        function KBEvent() {
        }
        KBEvent.register = function (evtName, classinst, strCallback) {
            var callbackfn = classinst[strCallback];
            if (callbackfn == undefined) {
                Dbg.ERROR_MSG('KBEngine.KBEvent::fire: not found strCallback(' + classinst + ")!" + strCallback);
                return;
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                evtlst = [];
                this._events[evtName] = evtlst;
            }
            var info = new EventInfo(classinst, callbackfn);
            evtlst.push(info);
        };
        KBEvent.deregisterAll = function (classinst) {
            for (var itemkey in this._events) {
                this.deregister(itemkey, classinst);
            }
        };
        KBEvent.deregister = function (evtName, classinst) {
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::deregister:cant find event by name(%s).", evtName);
                return;
            }
            while (true) {
                var found = false;
                for (var i = 0; i < evtlst.length; i++) {
                    var info = evtlst[i];
                    if (info.classinst == classinst) {
                        evtlst.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
            this.removeFiredEvent(evtName, classinst);
        };
        KBEvent.fire = function (evtName) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::Fire:cant find event by name(%s).", evtName);
                return;
            }
            for (var _a = 0, evtlst_1 = evtlst; _a < evtlst_1.length; _a++) {
                var info = evtlst_1[_a];
                try {
                    if (!this._isPause) {
                        info.callbackfn.apply(info.classinst, params);
                    }
                    else {
                        var firedEvent = new FiredEvent(evtName, info, params);
                        this._firedEvents.push(firedEvent);
                    }
                }
                catch (e) {
                    Dbg.ERROR_MSG("KBEvent::Fire(%s):%s", evtName, e);
                }
            }
        };
        KBEvent.pause = function () {
            this._isPause = true;
        };
        KBEvent.resume = function () {
            this._isPause = false;
            var firedEvents = this._firedEvents;
            Dbg.INFO_MSG("resume");
            while (firedEvents.length > 0) {
                var evt = firedEvents.shift();
                var info = evt.evtInfo;
                var args = evt.args;
                Dbg.INFO_MSG("resume evtname: " + evt.evtName);
                if (args.length < 1) {
                    info.callbackfn.apply(info.classinst);
                }
                else {
                    info.callbackfn.apply(info.classinst, args);
                }
            }
        };
        KBEvent.removeAllFiredEvent = function (classinst) {
            this.removeFiredEvent("", classinst);
        };
        KBEvent.removeFiredEvent = function (evtName, classinst) {
            var firedEvents = this._firedEvents;
            while (true) {
                var found = false;
                for (var i = 0; i < firedEvents.length; i++) {
                    var evt = firedEvents[i];
                    if ((evtName == "" || evt.evtName == evtName) && evt.evtInfo.classinst == classinst) {
                        firedEvents.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
        };
        KBEvent._events = {};
        KBEvent._isPause = false;
        KBEvent._firedEvents = [];
        return KBEvent;
    }());
    KBEngine.KBEvent = KBEvent;
    var KBEngineArgs = /** @class */ (function () {
        function KBEngineArgs() {
            this.address = "127.0.0.1";
            this.port = 20013;
            this.serverHeartbeatTick = 100;
            this.clientType = 5;
            this.isOnInitCallPropertysSetMethods = true;
            this.isWss = false;
        }
        return KBEngineArgs;
    }());
    KBEngine.KBEngineArgs = KBEngineArgs;
    var NetworkInterface = /** @class */ (function () {
        function NetworkInterface() {
            var _this = this;
            this.socket = undefined;
            this.onOpenCB = undefined;
            this.onopen = function (event) {
                Dbg.ERROR_MSG("NetworkInterface::onopen:success!");
                if (_this.onOpenCB) {
                    _this.onOpenCB(event);
                    _this.onOpenCB = undefined;
                }
            };
            this.onerror = function (event) {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onerror:...!");
                // KBEEvent.Fire("onNetworkError", event);
            };
            this.onmessage = function (event) {
            };
            this.onclose = function () {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onclose:...!");
                // KBEEvent.Fire("onDisconnected");
            };
        }
        NetworkInterface.prototype.connectTo = function (addr, callbackFunc) {
            try {
                this.socket = new WebSocket(addr);
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket");
            }
            catch (e) {
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket error:" + e);
                KBEvent.fire("onConnectionState", false);
                return;
            }
            this.socket.binaryType = "arraybuffer";
            this.socket.onerror = this.onerror;
            this.socket.onclose = this.onclose;
            this.socket.onmessage = this.onmessage;
            this.socket.onopen = this.onopen;
            if (callbackFunc) {
                this.onOpenCB = callbackFunc;
            }
        };
        NetworkInterface.prototype.close = function () {
        };
        NetworkInterface.prototype.send = function (buffer) {
        };
        return NetworkInterface;
    }());
    KBEngine.NetworkInterface = NetworkInterface;
    var KBEngineApp = /** @class */ (function () {
        function KBEngineApp(args) {
            this.networkInterface = new NetworkInterface();
            this.username = "test";
            this.password = "123456";
            this.clientdatas = new Uint8Array(0);
            this.encryptedKey = "";
            this.loginappMessageImported = false;
            this.baseappMessageImported = false;
            this.serverErrorsDescrImported = false;
            this.entitydefImported = false;
            // 登录loginapp的地址
            this.serverAddress = "";
            this.port = 0;
            // 服务端分配的baseapp地址
            this.baseappAddress = "";
            this.baseappPort = 0;
            this.isWss = false;
            this.protocol = "ws://";
            // 当前状态
            this.currserver = "";
            this.currstate = "";
            this.currconnect = "";
            // 扩展数据
            this.serverdatas = "";
            // 版本信息
            this.serverVersion = "";
            this.serverScriptVersion = "";
            this.serverProtocolMD5 = "";
            this.serverEntityDefMD5 = "";
            this.clientVersion = "";
            this.clientScriptVersion = "";
            // player的相关信息
            this.entity_id = 0;
            //private entity_uuid: DataTypes.UINT64;
            this.entity_type = "";
            // private controlledEntities: Array<Entity> = new Array<Entity>();
            // private entityIDAliasIDList: Array<number> = new Array<number>();
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // useAliasEntityID = true;
            // isOnInitCallPropertysSetMethods = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // entityServerPos = new KBEMath.Vector3(0.0, 0.0, 0.0);
            // 客户端所有的实体
            // KBEngine.app.entities = {};
            // KBEngine.app.entityIDAliasIDList = [];
            // KBEngine.app.controlledEntities = [];
            // spacedata: {[key:string]: string} = {};
            // spaceID = 0;
            // spaceResPath = "";
            // isLoadedGeometry = false;
            // lastTickTime
            // lastTickCBTime
            // 按照标准，每个客户端部分都应该包含这个属性
            this.component = "";
            Dbg.ASSERT(KBEngineApp.app === undefined, "KBEngineApp::constructor:singleton KBEngineApp._app must be undefined.");
            KBEngineApp.app = this;
            this.initialize(args);
        }
        KBEngineApp.getSingleton = function () {
            if (KBEngineApp.app == undefined) {
                throw new Error("Please create KBEngineApp!");
            }
            return KBEngineApp.app;
        };
        KBEngineApp.prototype.initialize = function (args) {
            this.args = args;
            this.serverAddress = args.address;
            this.port = args.port;
            this.isWss = args.isWss;
            this.protocol = args.isWss ? "wss://" : "ws://";
            this.initNetwork();
            this.installEvents();
            return true;
        };
        KBEngineApp.prototype.initNetwork = function () {
        };
        KBEngineApp.prototype.installEvents = function () {
            KBEvent.register("login" /* login */, KBEngineApp.app, "login");
        };
        KBEngineApp.prototype.resetSocket = function () {
        };
        KBEngineApp.prototype.reset = function () {
            // if(KBEngineApp.app.entities != undefined && KBEngineApp.app.entities != null)
            // {
            //     KBEngineApp.app.clearEntities(true);
            // }
            KBEngineApp.app.resetSocket();
            KBEngineApp.app.currserver = "loginapp";
            KBEngineApp.app.currstate = "create";
            KBEngineApp.app.currconnect = "loginapp";
            // 扩展数据
            KBEngineApp.app.serverdatas = "";
            // 版本信息
            KBEngineApp.app.serverVersion = "";
            KBEngineApp.app.serverScriptVersion = "";
            KBEngineApp.app.serverProtocolMD5 = "";
            KBEngineApp.app.serverEntityDefMD5 = "";
            KBEngineApp.app.clientVersion = "1.2.7";
            KBEngineApp.app.clientScriptVersion = "0.1.0";
            // // player的相关信息
            // KBEngineApp.app.entity_uuid = null;
            // KBEngineApp.app.entity_id = 0;
            // KBEngineApp.app.entity_type = "";
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // KBEngineApp.app.useAliasEntityID = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // KBEngineApp.app.entityServerPos = new KBEngine.Vector3(0.0, 0.0, 0.0);
            // // 客户端所有的实体
            // KBEngineApp.app.entities = {};
            // KBEngineApp.app.entityIDAliasIDList = [];
            // KBEngineApp.app.controlledEntities = [];
            // // 空间的信息
            // KBEngineApp.app.spacedata = {};
            // KBEngineApp.app.spaceID = 0;
            // KBEngineApp.app.spaceResPath = "";
            // KBEngineApp.app.isLoadedGeometry = false;
            // var dateObject = new Date();
            // KBEngineApp.app.lastTickTime = dateObject.getTime();
            // KBEngineApp.app.lastTickCBTime = dateObject.getTime();
            // KBEngine.mappingDataType();
            // 当前组件类别， 配套服务端体系
            KBEngineApp.app.component = "client";
        };
        KBEngineApp.prototype.getServerAddr = function (ip, port) {
            var serverAddr = KBEngineApp.app.protocol + ip;
            if (port != 0) {
                serverAddr += ":" + port;
            }
            return serverAddr;
        };
        KBEngineApp.prototype.login = function (username, password, datas) {
            KBEngineApp.app.reset();
            KBEngineApp.app.username = username;
            KBEngineApp.app.password = password;
            KBEngineApp.app.clientdatas = datas;
            KBEngineApp.app.login_loginapp(true);
        };
        KBEngineApp.prototype.login_loginapp = function (noconnect) {
            var _this = this;
            if (noconnect) {
                var serverAddr = this.getServerAddr(KBEngineApp.app.serverAddress, KBEngineApp.app.port);
                Dbg.INFO_MSG("KBEngineApp::login_loginapp: start connect to " + serverAddr + "!");
                KBEngineApp.app.currconnect = "loginapp";
                KBEngineApp.app.networkInterface.connectTo(serverAddr, function (event) { return _this.onOpenLoginapp_login(event); });
            }
            else {
            }
        };
        KBEngineApp.prototype.onOpenLoginapp_login = function (event) {
            Dbg.DEBUG_MSG("KBEngineApp::onOpenLoginapp_login:success to %s.", this.serverAddress);
            this.currserver = "loginapp";
            this.currstate = "login";
        };
        KBEngineApp.app = undefined;
        return KBEngineApp;
    }());
    KBEngine.KBEngineApp = KBEngineApp;
})(KBEngine = exports.KBEngine || (exports.KBEngine = {}));
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Bullet = /** @class */ (function (_super) {
    __extends(Bullet, _super);
    function Bullet() {
        return _super.call(this) || this;
    }
    Bullet.prototype.onEnable = function () {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    };
    Bullet.prototype.onTriggerEnter = function (other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    };
    Bullet.prototype.onUpdate = function () {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    };
    Bullet.prototype.onDisable = function () {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    };
    return Bullet;
}(Laya.Script));
exports.default = Bullet;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
var DropBox = /** @class */ (function (_super) {
    __extends(DropBox, _super);
    function DropBox() {
        var _this = _super.call(this) || this;
        /**盒子等级 */
        _this.level = 1;
        return _this;
    }
    DropBox.prototype.onEnable = function () {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    };
    DropBox.prototype.onUpdate = function () {
        //让持续盒子旋转
        this.owner.rotation++;
    };
    DropBox.prototype.onTriggerEnter = function (other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    var effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    };
    /**使用对象池创建爆炸动画 */
    DropBox.prototype.createEffect = function () {
        var ani = new Laya.Animation();
        ani.loadAnimation("test/testAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    };
    DropBox.prototype.onDisable = function () {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    };
    return DropBox;
}(Laya.Script));
exports.default = DropBox;
},{"./GameUI":7}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = /** @class */ (function (_super) {
    __extends(GameControl, _super);
    function GameControl() {
        var _this = _super.call(this) || this;
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        _this.createBoxInterval = 1000;
        /**开始时间*/
        _this._time = 0;
        /**是否已经开始游戏 */
        _this._started = false;
        return _this;
    }
    GameControl.prototype.onEnable = function () {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    };
    GameControl.prototype.onUpdate = function () {
        //每间隔一段时间创建一个盒子
        var now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    };
    GameControl.prototype.createBox = function () {
        //使用对象池创建盒子
        var box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    };
    GameControl.prototype.onStageClick = function (e) {
        //停止事件冒泡，提高性能，当然也可以不要
        e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        var flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
    };
    /**开始游戏，通过激活本脚本方式开始游戏*/
    GameControl.prototype.startGame = function () {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    };
    /**结束游戏，通过非激活本脚本停止游戏 */
    GameControl.prototype.stopGame = function () {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    };
    return GameControl;
}(Laya.Script));
exports.default = GameControl;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameControl_1 = require("./GameControl");
var KBEngine_1 = require("../kbengine_ts_plugins/KBEngine");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }
    GameUI.prototype.onEnable = function () {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
        var args = new KBEngine_1.KBEngine.KBEngineArgs();
        args.address = "127.0.0.1";
        args.port = 20013;
        var app = new KBEngine_1.KBEngine.KBEngineApp(args);
        KBEngine_1.KBEngine.KBEvent.fire("login", "loginName", "123456", "");
    };
    GameUI.prototype.onTipClick = function (e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    };
    /**增加分数 */
    GameUI.prototype.addScore = function (value) {
        if (value === void 0) { value = 1; }
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    };
    /**停止游戏 */
    GameUI.prototype.stopGame = function () {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"../kbengine_ts_plugins/KBEngine":3,"./../ui/layaMaxUI":8,"./GameControl":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMva2JlbmdpbmVfdHNfcGx1Z2lucy9LQkVuZ2luZS50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMENBQW9DO0FBQ3BDLG9EQUE4QztBQUM5QywwQ0FBb0M7QUFDcEMsNENBQXNDO0FBQ3RDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUMvQixHQUFHLENBQUMsbUJBQW1CLEVBQUMsaUJBQU8sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFuQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxzQkFBc0IsQ0FBQztJQUN0QyxvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsS0FBSyxDQUFDO0lBQ25CLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFpQixHQUFTLElBQUksQ0FBQztJQVMxQyxpQkFBQztDQXJCRCxBQXFCQyxJQUFBO2tCQXJCb0IsVUFBVTtBQXNCL0IsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDOzs7O0FDOUJsQiwyQ0FBc0M7QUFDdEM7SUFDQztRQUNDLGdCQUFnQjtRQUNoQixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFVLENBQUMsS0FBSyxFQUFFLG9CQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7O1lBQ2xFLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQVUsQ0FBQyxLQUFLLEVBQUUsb0JBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2xELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLG9CQUFVLENBQUMsU0FBUyxDQUFDO1FBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLG9CQUFVLENBQUMsVUFBVSxDQUFDO1FBQzlDLG9CQUFvQjtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLG9CQUFVLENBQUMsaUJBQWlCLENBQUM7UUFFMUQsb0RBQW9EO1FBQ3BELElBQUksb0JBQVUsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQzlGLElBQUksb0JBQVUsQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDO1lBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDM0YsSUFBSSxvQkFBVSxDQUFDLElBQUk7WUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFFN0IsZ0RBQWdEO1FBQ2hELElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNySSxDQUFDO0lBRUQsOEJBQWUsR0FBZjtRQUNDLCtDQUErQztRQUMvQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUNqRyxDQUFDO0lBRUQsNkJBQWMsR0FBZDtRQUNDLFlBQVk7UUFDWixvQkFBVSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxvQkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFDRixXQUFDO0FBQUQsQ0EvQkEsQUErQkMsSUFBQTtBQUNELE9BQU87QUFDUCxJQUFJLElBQUksRUFBRSxDQUFDOzs7O0FDbENYLElBQWlCLFFBQVEsQ0F3c0J4QjtBQXhzQkQsV0FBaUIsUUFBUTtJQVlyQjtRQUFBO1FBb0VBLENBQUM7UUFoRVUsV0FBTyxHQUFkO1lBRUksSUFBSSxHQUFHLEdBQVMsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUMzQixPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUU7a0JBQ3RHLEdBQUcsR0FBRyxHQUFHLENBQUMsVUFBVSxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsRUFBRSxHQUFHLElBQUksQ0FBQztRQUMzRixDQUFDO1FBRU0sYUFBUyxHQUFoQixVQUFpQixHQUFXO1lBQUUsZ0JBQWdCO2lCQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7Z0JBQWhCLCtCQUFnQjs7WUFFMUMsSUFBRyxpQkFBb0IsSUFBSSxDQUFDLFVBQVUsRUFDdEM7Z0JBQ0ksTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3BDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzthQUNyQztRQUNMLENBQUM7UUFFTSxZQUFRLEdBQWYsVUFBZ0IsR0FBVztZQUFFLGdCQUFnQjtpQkFBaEIsVUFBZ0IsRUFBaEIscUJBQWdCLEVBQWhCLElBQWdCO2dCQUFoQiwrQkFBZ0I7O1lBRXpDLElBQUcsZ0JBQW1CLElBQUksQ0FBQyxVQUFVLEVBQ3JDO2dCQUNJLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNwQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDcEM7UUFDTCxDQUFDO1FBRU0sZUFBVyxHQUFsQixVQUFtQixHQUFXO1lBQUUsZ0JBQWdCO2lCQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7Z0JBQWhCLCtCQUFnQjs7WUFFNUMsSUFBRyxtQkFBc0IsSUFBSSxDQUFDLFVBQVUsRUFDeEM7Z0JBQ0ksTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ3BDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzthQUNwQztRQUNMLENBQUM7UUFFTSxhQUFTLEdBQWhCLFVBQWlCLEdBQVc7WUFBRSxnQkFBZ0I7aUJBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtnQkFBaEIsK0JBQWdCOztZQUUxQyxJQUFHLGlCQUFvQixJQUFJLENBQUMsVUFBVSxFQUN0QztnQkFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDcEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2FBQ3JDO1FBQ0wsQ0FBQztRQUVNLFVBQU0sR0FBYixVQUFjLFNBQW1CLEVBQUUsT0FBZ0I7WUFBRSxjQUFjO2lCQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7Z0JBQWQsNkJBQWM7O1lBRS9ELHFCQUFxQjtZQUNyQixJQUFHLENBQUMsU0FBUyxFQUNiO2dCQUNJLE1BQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2FBQzdCO1lBRUQsd0RBQXdEO1lBQ3hELCtDQUErQztZQUMvQyxzQkFBc0I7WUFDdEIsa0NBQWtDO1lBQ2xDLElBQUk7WUFDSix5Q0FBeUM7WUFDekMsUUFBUTtZQUNSLHdCQUF3QjtZQUN4Qiw0QkFBNEI7WUFDNUIsWUFBWTtZQUNaLFFBQVE7WUFDUixJQUFJO1FBQ1IsQ0FBQztRQWpFYSxjQUFVLGlCQUErQjtRQWtFM0QsVUFBQztLQXBFRCxBQW9FQyxJQUFBO0lBcEVZLFlBQUcsTUFvRWYsQ0FBQTtJQTRKRDtRQUtJLG1CQUFZLFNBQWMsRUFBRSxVQUFxQjtZQUM3QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztZQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUNqQyxDQUFDO1FBQ0wsZ0JBQUM7SUFBRCxDQVRBLEFBU0MsSUFBQTtJQUVEO1FBTUksb0JBQVksT0FBZSxFQUFFLE9BQWtCLEVBQUUsSUFBUztZQUN0RCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNyQixDQUFDO1FBQ0wsaUJBQUM7SUFBRCxDQVhBLEFBV0MsSUFBQTtJQUVEO1FBQUE7UUFzSkEsQ0FBQztRQWhKVSxnQkFBUSxHQUFmLFVBQWdCLE9BQWUsRUFBRSxTQUFjLEVBQUUsV0FBbUI7WUFFaEUsSUFBSSxVQUFVLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXhDLElBQUcsVUFBVSxJQUFJLFNBQVMsRUFDMUI7Z0JBQ0ksR0FBRyxDQUFDLFNBQVMsQ0FBQyxnREFBZ0QsR0FBRyxTQUFTLEdBQUksSUFBSSxHQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNoRyxPQUFPO2FBQ1Y7WUFFRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ25DLElBQUcsTUFBTSxJQUFJLFNBQVMsRUFDdEI7Z0JBQ0ksTUFBTSxHQUFHLEVBQUUsQ0FBQztnQkFDWixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLE1BQU0sQ0FBQzthQUNsQztZQUVELElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFFTSxxQkFBYSxHQUFwQixVQUFxQixTQUFjO1lBRS9CLEtBQUksSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFDL0I7Z0JBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7YUFDdkM7UUFDTCxDQUFDO1FBRU0sa0JBQVUsR0FBakIsVUFBa0IsT0FBZSxFQUFFLFNBQWM7WUFFN0MsSUFBSSxNQUFNLEdBQXFCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckQsSUFBRyxNQUFNLElBQUksU0FBUyxFQUN0QjtnQkFDSSxHQUFHLENBQUMsU0FBUyxDQUFDLGtEQUFrRCxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUMzRSxPQUFPO2FBQ1Y7WUFFRCxPQUFNLElBQUksRUFDVjtnQkFDSSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQ2xCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUNqQztvQkFDSSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLElBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxTQUFTLEVBQzlCO3dCQUNJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUNwQixLQUFLLEdBQUcsSUFBSSxDQUFDO3dCQUNiLE1BQU07cUJBQ1Q7aUJBQ0o7Z0JBRUQsSUFBRyxDQUFDLEtBQUs7b0JBQ0wsTUFBTTthQUNiO1lBRUQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztRQUM5QyxDQUFDO1FBRU0sWUFBSSxHQUFYLFVBQVksT0FBZTtZQUFFLGdCQUFnQjtpQkFBaEIsVUFBZ0IsRUFBaEIscUJBQWdCLEVBQWhCLElBQWdCO2dCQUFoQiwrQkFBZ0I7O1lBRXpDLElBQUksTUFBTSxHQUFxQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JELElBQUcsTUFBTSxJQUFJLFNBQVMsRUFDdEI7Z0JBQ0ksR0FBRyxDQUFDLFNBQVMsQ0FBQyw0Q0FBNEMsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDckUsT0FBTzthQUNWO1lBRUQsS0FBZ0IsVUFBTSxFQUFOLGlCQUFNLEVBQU4sb0JBQU0sRUFBTixJQUFNLEVBQ3RCO2dCQURJLElBQUksSUFBSSxlQUFBO2dCQUVSLElBQ0E7b0JBQ0ksSUFBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQ2pCO3dCQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7cUJBQ2pEO3lCQUVEO3dCQUNJLElBQUksVUFBVSxHQUFHLElBQUksVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7d0JBQ3ZELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3FCQUN0QztpQkFFSjtnQkFDRCxPQUFNLENBQUMsRUFDUDtvQkFDSSxHQUFHLENBQUMsU0FBUyxDQUFDLHNCQUFzQixFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztpQkFDckQ7YUFDSjtRQUNMLENBQUM7UUFFTSxhQUFLLEdBQVo7WUFFSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUN6QixDQUFDO1FBRU0sY0FBTSxHQUFiO1lBRUksSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFFdEIsSUFBSSxXQUFXLEdBQXNCLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDdkQsR0FBRyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2QixPQUFNLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUM1QjtnQkFDSSxJQUFJLEdBQUcsR0FBRyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQzlCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUM7Z0JBQ3ZCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ3BCLEdBQUcsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMvQyxJQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUNsQjtvQkFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQ3pDO3FCQUVEO29CQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQy9DO2FBQ0o7UUFDTCxDQUFDO1FBRU0sMkJBQW1CLEdBQTFCLFVBQTJCLFNBQWM7WUFFckMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO1FBRU0sd0JBQWdCLEdBQXZCLFVBQXdCLE9BQWUsRUFBRSxTQUFjO1lBRW5ELElBQUksV0FBVyxHQUFxQixJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ3RELE9BQU0sSUFBSSxFQUNWO2dCQUNJLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQ3RDO29CQUNJLElBQUksR0FBRyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDekIsSUFBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLElBQUksR0FBRyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsSUFBSSxTQUFTLEVBQ2xGO3dCQUNJLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUN6QixLQUFLLEdBQUcsSUFBSSxDQUFDO3dCQUNiLE1BQU07cUJBQ1Q7aUJBQ0o7Z0JBRUQsSUFBRyxDQUFDLEtBQUs7b0JBQ0wsTUFBTTthQUNiO1FBQ0wsQ0FBQztRQW5KZSxlQUFPLEdBQVEsRUFBRSxDQUFDO1FBQ2xCLGdCQUFRLEdBQVksS0FBSyxDQUFDO1FBQzNCLG9CQUFZLEdBQXNCLEVBQUUsQ0FBQztRQWtKeEQsY0FBQztLQXRKRCxBQXNKQyxJQUFBO0lBdEpZLGdCQUFPLFVBc0puQixDQUFBO0lBRUQ7UUFBQTtZQUVXLFlBQU8sR0FBVyxXQUFXLENBQUM7WUFDOUIsU0FBSSxHQUFXLEtBQUssQ0FBQztZQUNyQix3QkFBbUIsR0FBVyxHQUFHLENBQUM7WUFDbEMsZUFBVSxHQUFXLENBQUMsQ0FBQztZQUN2QixvQ0FBK0IsR0FBWSxJQUFJLENBQUM7WUFDaEQsVUFBSyxHQUFZLEtBQUssQ0FBQztRQUNsQyxDQUFDO1FBQUQsbUJBQUM7SUFBRCxDQVJBLEFBUUMsSUFBQTtJQVJZLHFCQUFZLGVBUXhCLENBQUE7SUFFRDtRQUFBO1lBQUEsaUJBbUVDO1lBakVXLFdBQU0sR0FBYyxTQUFTLENBQUM7WUFDOUIsYUFBUSxHQUFhLFNBQVMsQ0FBQztZQXNDL0IsV0FBTSxHQUFHLFVBQUMsS0FBbUI7Z0JBRWpDLEdBQUcsQ0FBQyxTQUFTLENBQUMsbUNBQW1DLENBQUMsQ0FBQztnQkFDbkQsSUFBRyxLQUFJLENBQUMsUUFBUSxFQUNoQjtvQkFDSSxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQixLQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztpQkFDN0I7WUFDTCxDQUFDLENBQUE7WUFFTyxZQUFPLEdBQUcsVUFBQyxLQUFtQjtnQkFFbEMsd0RBQXdEO2dCQUN4RCwwQ0FBMEM7WUFDOUMsQ0FBQyxDQUFBO1lBRU8sY0FBUyxHQUFHLFVBQUMsS0FBbUI7WUFHeEMsQ0FBQyxDQUFBO1lBRU8sWUFBTyxHQUFHO2dCQUVkLHdEQUF3RDtnQkFDeEQsbUNBQW1DO1lBQ3ZDLENBQUMsQ0FBQTtRQUNMLENBQUM7UUE5RFUsb0NBQVMsR0FBaEIsVUFBaUIsSUFBWSxFQUFFLFlBQWlDO1lBRTVELElBQ0E7Z0JBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbEMsR0FBRyxDQUFDLFNBQVMsQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO2FBQzVEO1lBQ0QsT0FBTSxDQUFDLEVBQ1A7Z0JBQ0ksR0FBRyxDQUFDLFNBQVMsQ0FBQyxnREFBZ0QsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDcEUsT0FBTyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDekMsT0FBTzthQUNWO1lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFDO1lBRXZDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDakMsSUFBRyxZQUFZLEVBQ2Y7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxZQUFZLENBQUM7YUFDaEM7UUFDTCxDQUFDO1FBRUQsZ0NBQUssR0FBTDtRQUdBLENBQUM7UUFFRCwrQkFBSSxHQUFKLFVBQUssTUFBbUI7UUFHeEIsQ0FBQztRQTRCTCx1QkFBQztJQUFELENBbkVBLEFBbUVDLElBQUE7SUFuRVkseUJBQWdCLG1CQW1FNUIsQ0FBQTtJQUVEO1FBNEVJLHFCQUFZLElBQWtCO1lBekV0QixxQkFBZ0IsR0FBc0IsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1lBSTdELGFBQVEsR0FBVyxNQUFNLENBQUM7WUFDMUIsYUFBUSxHQUFXLFFBQVEsQ0FBQztZQUM1QixnQkFBVyxHQUFlLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVDLGlCQUFZLEdBQVcsRUFBRSxDQUFDO1lBRTFCLDRCQUF1QixHQUFZLEtBQUssQ0FBQztZQUN6QywyQkFBc0IsR0FBWSxLQUFLLENBQUM7WUFDeEMsOEJBQXlCLEdBQVksS0FBSyxDQUFDO1lBQzNDLHNCQUFpQixHQUFZLEtBQUssQ0FBQztZQUUxQyxnQkFBZ0I7WUFDVCxrQkFBYSxHQUFXLEVBQUUsQ0FBQztZQUMzQixTQUFJLEdBQVcsQ0FBQyxDQUFDO1lBRXpCLGtCQUFrQjtZQUNYLG1CQUFjLEdBQVcsRUFBRSxDQUFDO1lBQzVCLGdCQUFXLEdBQVcsQ0FBQyxDQUFDO1lBRXZCLFVBQUssR0FBWSxLQUFLLENBQUM7WUFDdkIsYUFBUSxHQUFXLE9BQU8sQ0FBQztZQUVuQyxPQUFPO1lBQ0EsZUFBVSxHQUFXLEVBQUUsQ0FBQztZQUN4QixjQUFTLEdBQVcsRUFBRSxDQUFDO1lBQ3ZCLGdCQUFXLEdBQVcsRUFBRSxDQUFDO1lBRWhDLE9BQU87WUFDQSxnQkFBVyxHQUFXLEVBQUUsQ0FBQztZQUVoQyxPQUFPO1lBQ0Esa0JBQWEsR0FBVyxFQUFFLENBQUM7WUFDM0Isd0JBQW1CLEdBQVcsRUFBRSxDQUFDO1lBQ2pDLHNCQUFpQixHQUFXLEVBQUUsQ0FBQztZQUMvQix1QkFBa0IsR0FBVyxFQUFFLENBQUM7WUFDaEMsa0JBQWEsR0FBVyxFQUFFLENBQUM7WUFDM0Isd0JBQW1CLEdBQVcsRUFBRSxDQUFDO1lBRXhDLGNBQWM7WUFDTixjQUFTLEdBQVcsQ0FBQyxDQUFDO1lBQzlCLHdDQUF3QztZQUNoQyxnQkFBVyxHQUFXLEVBQUUsQ0FBQztZQUVqQyxtRUFBbUU7WUFDbkUsb0VBQW9FO1lBRXBFLCtEQUErRDtZQUMvRCwyQkFBMkI7WUFFM0IsMENBQTBDO1lBRTFDLHlDQUF5QztZQUN6Qyx3REFBd0Q7WUFFeEQsV0FBVztZQUNqQiw4QkFBOEI7WUFDOUIseUNBQXlDO1lBQ3pDLHdDQUF3QztZQUVsQywwQ0FBMEM7WUFDMUMsZUFBZTtZQUNmLHFCQUFxQjtZQUNyQiw0QkFBNEI7WUFFNUIsZUFBZTtZQUNmLGlCQUFpQjtZQUVqQix3QkFBd0I7WUFDakIsY0FBUyxHQUFXLEVBQUUsQ0FBQztZQUkxQixHQUFHLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEtBQUssU0FBUyxFQUFFLHdFQUF3RSxDQUFDLENBQUM7WUFDcEgsV0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7WUFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixDQUFDO1FBRU0sd0JBQVksR0FBbkI7WUFFSSxJQUFHLFdBQVcsQ0FBQyxHQUFHLElBQUksU0FBUyxFQUN4QztnQkFDQyxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUM7YUFDOUM7WUFFRCxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUM7UUFDbEIsQ0FBQztRQUVNLGdDQUFVLEdBQWpCLFVBQWtCLElBQWtCO1lBRWhDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFFaEQsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsaUNBQVcsR0FBWDtRQUdBLENBQUM7UUFFRCxtQ0FBYSxHQUFiO1lBRUksT0FBTyxDQUFDLFFBQVEsc0JBQXFCLFdBQVcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDbkUsQ0FBQztRQUVELGlDQUFXLEdBQVg7UUFHQSxDQUFDO1FBRUQsMkJBQUssR0FBTDtZQUVJLGdGQUFnRjtZQUNoRixJQUFJO1lBQ0osMkNBQTJDO1lBQzNDLElBQUk7WUFFSixXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBRTlCLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztZQUN4QyxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7WUFDckMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO1lBRXpDLE9BQU87WUFDUCxXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFFakMsT0FBTztZQUNQLFdBQVcsQ0FBQyxHQUFHLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztZQUNuQyxXQUFXLENBQUMsR0FBRyxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztZQUN6QyxXQUFXLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztZQUN2QyxXQUFXLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztZQUN4QyxXQUFXLENBQUMsR0FBRyxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUM7WUFDeEMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUM7WUFFOUMsaUJBQWlCO1lBQ2pCLHNDQUFzQztZQUN0QyxpQ0FBaUM7WUFDakMsb0NBQW9DO1lBRXBDLCtEQUErRDtZQUMvRCwyQ0FBMkM7WUFFM0MseUNBQXlDO1lBQ3pDLHlFQUF5RTtZQUV6RSxjQUFjO1lBQ2QsaUNBQWlDO1lBQ2pDLDRDQUE0QztZQUM1QywyQ0FBMkM7WUFFM0MsV0FBVztZQUNYLGtDQUFrQztZQUNsQywrQkFBK0I7WUFDL0IscUNBQXFDO1lBQ3JDLDRDQUE0QztZQUU1QywrQkFBK0I7WUFDL0IsdURBQXVEO1lBQ3ZELHlEQUF5RDtZQUV6RCw4QkFBOEI7WUFFOUIsa0JBQWtCO1lBQ2xCLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUN6QyxDQUFDO1FBRUQsbUNBQWEsR0FBYixVQUFjLEVBQVUsRUFBRSxJQUFZO1lBRWxDLElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUMvQyxJQUFHLElBQUksSUFBSSxDQUFDLEVBQ1o7Z0JBQ0ksVUFBVSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUM7YUFDNUI7WUFFRCxPQUFPLFVBQVUsQ0FBQztRQUN0QixDQUFDO1FBRUQsMkJBQUssR0FBTCxVQUFNLFFBQWdCLEVBQUUsUUFBZ0IsRUFBRSxLQUFTO1lBRS9DLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDeEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQ3BDLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUNwQyxXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFFcEMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQztRQUVPLG9DQUFjLEdBQXRCLFVBQXVCLFNBQWtCO1lBQXpDLGlCQWFDO1lBWEcsSUFBRyxTQUFTLEVBQ1o7Z0JBQ0ksSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN6RixHQUFHLENBQUMsUUFBUSxDQUFDLGdEQUFnRCxHQUFHLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQTtnQkFDakYsV0FBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO2dCQUN6QyxXQUFXLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBQyxLQUFtQixJQUFLLE9BQUEsS0FBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxFQUFoQyxDQUFnQyxDQUFDLENBQUM7YUFDckg7aUJBRUQ7YUFFQztRQUNMLENBQUM7UUFFTywwQ0FBb0IsR0FBNUIsVUFBNkIsS0FBbUI7WUFFNUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxrREFBa0QsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFFdEYsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7WUFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFDN0IsQ0FBQztRQXpOYSxlQUFHLEdBQWdCLFNBQVMsQ0FBQztRQTBOL0Msa0JBQUM7S0E1TkQsQUE0TkMsSUFBQTtJQTVOWSxvQkFBVyxjQTROdkIsQ0FBQTtBQUNMLENBQUMsRUF4c0JnQixRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQXdzQnhCOzs7O0FDeHNCRDs7R0FFRztBQUNIO0lBQW9DLDBCQUFXO0lBQzNDO2VBQWdCLGlCQUFPO0lBQUUsQ0FBQztJQUUxQix5QkFBUSxHQUFSO1FBQ0ksUUFBUTtRQUNSLElBQUksR0FBRyxHQUFtQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEUsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsK0JBQWMsR0FBZCxVQUFlLEtBQVUsRUFBRSxJQUFTLEVBQUUsT0FBWTtRQUM5QyxhQUFhO1FBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQseUJBQVEsR0FBUjtRQUNJLGdCQUFnQjtRQUNoQixJQUFLLElBQUksQ0FBQyxLQUFxQixDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRTtZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUVELDBCQUFTLEdBQVQ7UUFDSSxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0wsYUFBQztBQUFELENBekJBLEFBeUJDLENBekJtQyxJQUFJLENBQUMsTUFBTSxHQXlCOUM7Ozs7O0FDNUJELG1DQUE4QjtBQUM5Qjs7R0FFRztBQUNIO0lBQXFDLDJCQUFXO0lBUTVDO1FBQUEsWUFBZ0IsaUJBQU8sU0FBRztRQVAxQixVQUFVO1FBQ1YsV0FBSyxHQUFXLENBQUMsQ0FBQzs7SUFNTyxDQUFDO0lBQzFCLDBCQUFRLEdBQVI7UUFDSSwrQkFBK0I7UUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQWMsQ0FBQztRQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsMEJBQVEsR0FBUjtRQUNJLFNBQVM7UUFDUixJQUFJLENBQUMsS0FBcUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRUQsZ0NBQWMsR0FBZCxVQUFlLEtBQVUsRUFBRSxJQUFTLEVBQUUsT0FBWTtRQUM5QyxJQUFJLEtBQUssR0FBZ0IsSUFBSSxDQUFDLEtBQW9CLENBQUM7UUFDbkQsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUMxQixvQkFBb0I7WUFDcEIsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNiLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQ3ZDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDakUsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7YUFDaEQ7aUJBQU07Z0JBQ0gsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO29CQUNkLElBQUksTUFBTSxHQUFtQixJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUM3RixNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM3QixLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQztvQkFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztpQkFDcEQ7YUFDSjtZQUNELGdCQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMvQjthQUFNLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUU7WUFDakMsbUJBQW1CO1lBQ25CLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNuQixnQkFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUM5QjtJQUNMLENBQUM7SUFFRCxpQkFBaUI7SUFDakIsOEJBQVksR0FBWjtRQUNJLElBQUksR0FBRyxHQUFtQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUMvQyxHQUFHLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDM0M7WUFDSSxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCwyQkFBUyxHQUFUO1FBQ0ksa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQWpFQSxBQWlFQyxDQWpFb0MsSUFBSSxDQUFDLE1BQU0sR0FpRS9DOzs7OztBQ2xFRDs7O0dBR0c7QUFDSDtJQUF5QywrQkFBVztJQWNoRDtRQUFBLFlBQWdCLGlCQUFPLFNBQUc7UUFUMUIsaUZBQWlGO1FBQ2pGLHVCQUFpQixHQUFXLElBQUksQ0FBQztRQUNqQyxTQUFTO1FBQ0QsV0FBSyxHQUFXLENBQUMsQ0FBQztRQUMxQixjQUFjO1FBQ04sY0FBUSxHQUFZLEtBQUssQ0FBQzs7SUFJVCxDQUFDO0lBRTFCLDhCQUFRLEdBQVI7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBZ0IsQ0FBQztRQUNwRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELDhCQUFRLEdBQVI7UUFDSSxlQUFlO1FBQ2YsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFRCwrQkFBUyxHQUFUO1FBQ0ksV0FBVztRQUNYLElBQUksR0FBRyxHQUFnQixJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxrQ0FBWSxHQUFaLFVBQWEsQ0FBYTtRQUN0QixxQkFBcUI7UUFDckIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLGtCQUFrQjtRQUNsQixJQUFJLEtBQUssR0FBZ0IsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsdUJBQXVCO0lBQ3ZCLCtCQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFRCx1QkFBdUI7SUFDdkIsOEJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQTlEQSxBQThEQyxDQTlEd0MsSUFBSSxDQUFDLE1BQU0sR0E4RG5EOzs7OztBQ3JFRCwrQ0FBdUM7QUFDdkMsNkNBQXVDO0FBQ3ZDLDREQUF3RDtBQUN4RDs7OztHQUlHO0FBQ0g7SUFBb0MsMEJBQW1CO0lBUW5EO1FBQUEsWUFDSSxpQkFBTyxTQUlWO1FBSEcsTUFBTSxDQUFDLFFBQVEsR0FBRyxLQUFJLENBQUM7UUFDdkIsZUFBZTtRQUNmLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDOztJQUNoRCxDQUFDO0lBRUQseUJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBVyxDQUFDLENBQUM7UUFDL0MsYUFBYTtRQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFekQsSUFBSSxJQUFJLEdBQUcsSUFBSSxtQkFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLElBQUksR0FBRyxHQUFHLElBQUksbUJBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsbUJBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFRCwyQkFBVSxHQUFWLFVBQVcsQ0FBYTtRQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVELFVBQVU7SUFDVix5QkFBUSxHQUFSLFVBQVMsS0FBaUI7UUFBakIsc0JBQUEsRUFBQSxTQUFpQjtRQUN0QixJQUFJLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztRQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLGFBQWE7UUFDYixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUM7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixJQUFJLEVBQUUsQ0FBQztJQUM5RyxDQUFDO0lBRUQsVUFBVTtJQUNWLHlCQUFRLEdBQVI7UUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsZ0JBQWdCLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBQ0wsYUFBQztBQUFELENBaERBLEFBZ0RDLENBaERtQyxjQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FnRHREOzs7OztBQ3JERCxJQUFPLEtBQUssR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQWMsRUFBRSxDQVVmO0FBVkQsV0FBYyxFQUFFO0lBQUMsSUFBQSxJQUFJLENBVXBCO0lBVmdCLFdBQUEsSUFBSTtRQUNqQjtZQUFpQywrQkFBSztZQUdsQzt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsb0NBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7WUFDTCxrQkFBQztRQUFELENBUkEsQUFRQyxDQVJnQyxLQUFLLEdBUXJDO1FBUlksZ0JBQVcsY0FRdkIsQ0FBQTtJQUNMLENBQUMsRUFWZ0IsSUFBSSxHQUFKLE9BQUksS0FBSixPQUFJLFFBVXBCO0FBQUQsQ0FBQyxFQVZhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQVVmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29udHJvbFwiXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL3NjcmlwdC9CdWxsZXRcIlxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vc2NyaXB0L0Ryb3BCb3hcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwidGVzdC9UZXN0U2NlbmUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZUNvbnRyb2wudHNcIixHYW1lQ29udHJvbCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9CdWxsZXQudHNcIixCdWxsZXQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvRHJvcEJveC50c1wiLERyb3BCb3gpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImV4cG9ydCBuYW1lc3BhY2UgS0JFbmdpbmUgXHJcbntcclxuICAgIGV4cG9ydCBjb25zdCBlbnVtIERFQlVHTEVWRUxcclxuXHR7XHJcblx0XHRERUJVRyA9IDAsXHJcblx0XHRJTkZPLFxyXG5cdFx0V0FSTklORyxcclxuXHRcdEVSUk9SLFxyXG5cclxuXHRcdE5PTE9HLCAgLy8g5pS+5Zyo5pyA5ZCO6Z2i77yM5L2/55So6L+Z5Liq5pe26KGo56S65LiN6L6T5Ye65Lu75L2V5pel5b+X77yIISEh5oWO55SoISEh77yJXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cG9ydCBjbGFzcyBEYmdcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGRlYnVnTGV2ZWw6REVCVUdMRVZFTCA9IERFQlVHTEVWRUwuREVCVUc7XHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXRIZWFkKCk6IHN0cmluZ1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG5vdzogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBcIltcIiArIG5vdy5nZXRGdWxsWWVhcigpICsgXCItXCIgKyAobm93LmdldE1vbnRoKCkgKyAxKSArIFwiLVwiICsgbm93LmdldERhdGUoKSArIFwiIFwiICsgbm93LmdldEhvdXJzKCkgXHJcbiAgICAgICAgICAgICsgXCI6XCIgKyBub3cuZ2V0TWludXRlcygpICsgXCI6XCIgKyBub3cuZ2V0U2Vjb25kcygpICsgXCIgXCIgKyBub3cuZ2V0TWlsbGlzZWNvbmRzKCkgKyBcIl0gXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgREVCVUdfTVNHKG1zZzogc3RyaW5nLCAuLi5wYXJhbXM6IGFueVtdKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoREVCVUdMRVZFTC5ERUJVRyA+PSB0aGlzLmRlYnVnTGV2ZWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy51bnNoaWZ0KHRoaXMuZ2V0SGVhZCgpLCBtc2cpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1Zy5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgSU5GT19NU0cobXNnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihERUJVR0xFVkVMLklORk8gPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgV0FSTklOR19NU0cobXNnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihERUJVR0xFVkVMLldBUk5JTkcgPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseSh0aGlzLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgc3RhdGljIEVSUk9SX01TRyhtc2c6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKERFQlVHTEVWRUwuRVJST1IgPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkodGhpcywgcGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHN0YXRpYyBBU1NFUlQoY29uZGl0aW9uPzogYm9vbGVhbiwgbWVzc2FnZT86IHN0cmluZywgLi4uZGF0YTogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyDkvb/nlKjmipvlh7rlvILluLjnmoTmlrnlvI/mnaXlrp7njrDnsbvkvLzmlq3oqIDlip/og71cclxuICAgICAgICAgICAgaWYoIWNvbmRpdGlvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cobmV3IEVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbm90Ze+8muW+ruS/oeWwj+a4uOaIj+W5s+WPsOS4jeaUr+aMge+8jOaJi+WGjOS4reaPkOWIsOeahENDX1dFQ0hBVEdBTUXmnKrlrprkuYnvvIzml6Dms5XljLrliIbmmK/lkKblvq7kv6HlsI/muLjmiI/lubPlj7DvvIxcclxuICAgICAgICAgICAgLy8gY29uc29sZS5hc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlLCAuLi5kYXRhKTtcclxuICAgICAgICAgICAgLy8g5LiA5Lqb5bmz5Y+w5aaC5bCP56iL5bqP5LiK5Y+v6IO95rKh5pyJYXNzZXJ0XHJcbiAgICAgICAgICAgIC8vIGlmKGNvbnNvbGUuYXNzZXJ0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5hc3NlcnQgPSBmdW5jdGlvbihiUmV0LCBzKVxyXG4gICAgICAgICAgICAvLyAgICAge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmKCEoYlJldCkpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgRVJST1JfTVNHKHMpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZXhwb3J0IGNvbnN0IGVudW0gS0JFdmVudFR5cGVzIFxyXG4gICAge1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgYWNjb3VudC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHN0cmluZyk6IGFjY291bnROYW1lPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhieXRlcyk6IGRhdGFzIC8vIERhdGFzIGJ5IHVzZXIgZGVmaW5lZC4gRGF0YSB3aWxsIGJlIHJlY29yZGVkIGludG8gdGhlIEtCRSBhY2NvdW50IGRhdGFiYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgZGF0YXMgdGhyb3VnaCB0aGUgc2NyaXB0IGxheWVyLiBJZiB5b3UgdXNlIHRoaXJkLXBhcnR5IGFjY291bnQgc3lzdGVtLCBkYXRhcyB3aWxsIGJlIHN1Ym1pdHRlZCB0byB0aGUgdGhpcmQtcGFydHkgc3lzdGVtLjwvcGFyYT5cclxuICAgICAgICBjcmVhdGVBY2NvdW50ID0gXCJjcmVhdGVBY2NvdW50XCIsXHJcblxyXG4gICAgICAgIC8vIExvZ2luIHRvIHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHN0cmluZyk6IGFjY291bnROYW1lPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhieXRlcyk6IGRhdGFzIC8vIERhdGFzIGJ5IHVzZXIgZGVmaW5lZC4gRGF0YSB3aWxsIGJlIHJlY29yZGVkIGludG8gdGhlIEtCRSBhY2NvdW50IGRhdGFiYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgZGF0YXMgdGhyb3VnaCB0aGUgc2NyaXB0IGxheWVyLiBJZiB5b3UgdXNlIHRoaXJkLXBhcnR5IGFjY291bnQgc3lzdGVtLCBkYXRhcyB3aWxsIGJlIHN1Ym1pdHRlZCB0byB0aGUgdGhpcmQtcGFydHkgc3lzdGVtLjwvcGFyYT5cclxuICAgICAgICBsb2dpbiA9IFwibG9naW5cIixcclxuXHJcbiAgICAgICAgLy8gTG9nb3V0IHRvIGJhc2VhcHAsIGNhbGxlZCB3aGVuIGV4aXRpbmcgdGhlIGNsaWVudC5cdFxyXG4gICAgICAgIGxvZ291dCA9IFwibG9nb3V0XCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gdG8gYmFzZWFwcC5cclxuICAgICAgICByZWxvZ2luQmFzZWFwcCA9IFwicmVsb2dpbkJhc2VhcHBcIixcclxuXHJcbiAgICAgICAgLy8gUmVxdWVzdCBzZXJ2ZXIgYmluZGluZyBhY2NvdW50IEVtYWlsLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogZW1haWxBZGRyZXNzPC9wYXJhPlxyXG4gICAgICAgIGJpbmRBY2NvdW50RW1haWwgPSBcImJpbmRBY2NvdW50RW1haWxcIixcclxuXHJcbiAgICAgICAgLy8gUmVxdWVzdCB0byBzZXQgdXAgYSBuZXcgcGFzc3dvcmQgZm9yIHRoZSBhY2NvdW50LiBOb3RlOiBhY2NvdW50IG11c3QgYmUgb25saW5lLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogb2xkX3Bhc3N3b3JkPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogbmV3X3Bhc3N3b3JkPC9wYXJhPlxyXG4gICAgICAgIG5ld1Bhc3N3b3JkID0gXCJuZXdQYXNzd29yZFwiLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3ov57mjqXnm7jlhbMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8gS2lja2VkIG9mIHRoZSBjdXJyZW50IHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgb25LaWNrZWQgPSBcIm9uS2lja2VkXCIsXHJcblxyXG4gICAgICAgIC8vIERpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgICAgb25EaXNjb25uZWN0ZWQgPSBcIm9uRGlzY29ubmVjdGVkXCIsXHJcblxyXG4gICAgICAgIC8vIFN0YXR1cyBvZiBjb25uZWN0aW9uIHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKGJvb2wpOiBzdWNjZXNzIG9yIGZhaWw8L3BhcmE+XHJcbiAgICAgICAgb25Db25uZWN0aW9uU3RhdGUgPSBcIm9uQ29ubmVjdGlvblN0YXRlXCIsXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWxvZ29u55u45YWzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhY2NvdW50IGZlZWRiYWNrIHJlc3VsdHMuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoYnl0ZXMpOiBkYXRhcy4gLy8gSWYgeW91IHVzZSB0aGlyZC1wYXJ0eSBhY2NvdW50IHN5c3RlbSwgdGhlIHN5c3RlbSBtYXkgZmlsbCBzb21lIG9mIHRoZSB0aGlyZC1wYXJ0eSBhZGRpdGlvbmFsIGRhdGFzLiA8L3BhcmE+XHJcbiAgICAgICAgb25DcmVhdGVBY2NvdW50UmVzdWx0ID0gXCJvbkNyZWF0ZUFjY291bnRSZXN1bHRcIixcclxuXHJcbiAgICAgICAgLy8gRW5naW5lIHZlcnNpb24gbWlzbWF0Y2guXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiBjbGllbnRWZXJzaW9uXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBzZXJ2ZXJWZXJzaW9uXHJcbiAgICAgICAgb25WZXJzaW9uTm90TWF0Y2ggPSBcIm9uVmVyc2lvbk5vdE1hdGNoXCIsXHJcblxyXG4gICAgICAgIC8vIHNjcmlwdCB2ZXJzaW9uIG1pc21hdGNoLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogY2xpZW50U2NyaXB0VmVyc2lvblxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogc2VydmVyU2NyaXB0VmVyc2lvblxyXG4gICAgICAgIG9uU2NyaXB0VmVyc2lvbk5vdE1hdGNoID0gXCJvblNjcmlwdFZlcnNpb25Ob3RNYXRjaFwiLFxyXG5cclxuICAgICAgICAvLyBMb2dpbiBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uTG9naW5GYWlsZWQgPSBcIm9uTG9naW5GYWlsZWRcIixcclxuXHJcbiAgICAgICAgLy8gTG9naW4gdG8gYmFzZWFwcC5cclxuICAgICAgICBvbkxvZ2luQmFzZWFwcCA9IFwib25Mb2dpbkJhc2VhcHBcIixcclxuXHJcbiAgICAgICAgLy8gTG9naW4gYmFzZWFwcCBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uTG9naW5CYXNlYXBwRmFpbGVkID0gXCJvbkxvZ2luQmFzZWFwcEZhaWxlZFwiLFxyXG5cclxuICAgICAgICAvLyBSZWxvZ2luIHRvIGJhc2VhcHAuXHJcbiAgICAgICAgb25SZWxvZ2luQmFzZWFwcCA9IFwib25SZWxvZ2luQmFzZWFwcFwiLFxyXG5cclxuICAgICAgICAvLyBSZWxvZ2luIGJhc2VhcHAgc3VjY2Vzcy5cclxuICAgICAgICBvblJlbG9naW5CYXNlYXBwU3VjY2Vzc2Z1bGx5ID0gXCJvblJlbG9naW5CYXNlYXBwU3VjY2Vzc2Z1bGx5XCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gYmFzZWFwcCBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uUmVsb2dpbkJhc2VhcHBGYWlsZWQgPSBcIm9uUmVsb2dpbkJhc2VhcHBGYWlsZWRcIixcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5a6e5L2TY2VsbOebuOWFs+S6i+S7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAvLyBFbnRpdHkgZW50ZXIgdGhlIGNsaWVudC13b3JsZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgb25FbnRlcldvcmxkID0gXCJvbkVudGVyV29ybGRcIixcclxuXHJcbiAgICAgICAgLy8gRW50aXR5IGxlYXZlIHRoZSBjbGllbnQtd29ybGQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIG9uTGVhdmVXb3JsZCA9IFwib25MZWF2ZVdvcmxkXCIsXHJcblxyXG4gICAgICAgIC8vIFBsYXllciBlbnRlciB0aGUgbmV3IHNwYWNlLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkVudGVyU3BhY2UgPSBcIm9uRW50ZXJTcGFjZVwiLFxyXG5cclxuICAgICAgICAvLyBQbGF5ZXIgbGVhdmUgdGhlIHNwYWNlLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkxlYXZlU3BhY2UgPSBcIm9uTGVhdmVTcGFjZVwiLFxyXG5cclxuICAgICAgICAvLyBTZXRzIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBlbnRpdHkuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHNldF9wb3NpdGlvbiA9IFwic2V0X3Bvc2l0aW9uXCIsXHJcblxyXG4gICAgICAgIC8vIFNldHMgdGhlIGN1cnJlbnQgZGlyZWN0aW9uIG9mIHRoZSBlbnRpdHkuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHNldF9kaXJlY3Rpb24gPSBcInNldF9kaXJlY3Rpb25cIixcclxuXHJcbiAgICAgICAgLy8gVGhlIGVudGl0eSBwb3NpdGlvbiBpcyB1cGRhdGVkLCB5b3UgY2FuIHNtb290aCB0aGUgbW92aW5nIGVudGl0eSB0byBuZXcgbG9jYXRpb24uXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uID0gXCJ1cGRhdGVQb3NpdGlvblwiLFxyXG5cclxuICAgICAgICAvLyBUaGUgY3VycmVudCBzcGFjZSBpcyBzcGVjaWZpZWQgYnkgdGhlIGdlb21ldHJ5IG1hcHBpbmcuXHJcbiAgICAgICAgLy8gUG9wdWxhciBzYWlkIGlzIHRvIGxvYWQgdGhlIHNwZWNpZmllZCBNYXAgUmVzb3VyY2VzLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogcmVzUGF0aDwvcGFyYT5cclxuICAgICAgICBhZGRTcGFjZUdlb21ldHJ5TWFwcGluZyA9IFwiYWRkU3BhY2VHZW9tZXRyeU1hcHBpbmdcIixcclxuXHJcbiAgICAgICAgLy8gU2VydmVyIHNwYWNlRGF0YSBzZXQgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKGludDMyKTogc3BhY2VJRDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHN0cmluZyk6IGtleTwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0zKHN0cmluZyk6IHZhbHVlPC9wYXJhPlxyXG4gICAgICAgIG9uU2V0U3BhY2VEYXRhID0gXCJvblNldFNwYWNlRGF0YVwiLFxyXG5cclxuICAgICAgICAvLyBTdGFydCBkb3dubG9hZGluZyBkYXRhLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoaW50MzIpOiByc3BhY2VJRDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHN0cmluZyk6IGtleTwvcGFyYT5cclxuICAgICAgICBvbkRlbFNwYWNlRGF0YSA9IFwib25EZWxTcGFjZURhdGFcIixcclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIGVudGl0eSBpcyBjb250cm9sbGVkIG9yIG91dCBvZiBjb250cm9sLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKGJvb2wpOiBpc0NvbnRyb2xsZWQ8L3BhcmE+XHJcbiAgICAgICAgb25Db250cm9sbGVkID0gXCJvbkNvbnRyb2xsZWRcIixcclxuXHJcbiAgICAgICAgLy8gTG9zZSBjb250cm9sbGVkIGVudGl0eS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgb25Mb3NlQ29udHJvbGxlZEVudGl0eSA9IFwib25Mb3NlQ29udHJvbGxlZEVudGl0eVwiLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3mlbDmja7kuIvovb3nm7jlhbMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8gU3RhcnQgZG93bmxvYWRpbmcgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJlc291Y2UgaWQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMih1aW50MzIpOiBkYXRhIHNpemU8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhzdHJpbmcpOiBkZXNjcmlwdGlvbjwvcGFyYT5cclxuICAgICAgICBvblN0cmVhbURhdGFTdGFydGVkID0gXCJvblN0cmVhbURhdGFTdGFydGVkXCIsXHJcblxyXG4gICAgICAgIC8vIFJlY2VpdmUgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJlc291Y2UgaWQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihieXRlcyk6IGRhdGFzPC9wYXJhPlxyXG4gICAgICAgIG9uU3RyZWFtRGF0YVJlY3YgPSBcIm9uU3RyZWFtRGF0YVJlY3ZcIixcclxuXHJcbiAgICAgICAgLy8gVGhlIGRvd25sb2FkZWQgZGF0YSBpcyBjb21wbGV0ZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXNvdWNlIGlkPC9wYXJhPlxyXG4gICAgICAgIG9uU3RyZWFtRGF0YUNvbXBsZXRlZCA9IFwib25TdHJlYW1EYXRhQ29tcGxldGVkXCIsXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgRXZlbnRJbmZvXHJcbiAgICB7XHJcbiAgICAgICAgcmVhZG9ubHkgY2xhc3NpbnN0IDogYW55IDtcclxuICAgICAgICByZWFkb25seSBjYWxsYmFja2ZuIDogRnVuY3Rpb24gO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihjbGFzc2luc3Q6IGFueSwgY2FsbGJhY2tmbiA6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NpbnN0ID0gY2xhc3NpbnN0O1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrZm4gPSBjYWxsYmFja2ZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBGaXJlZEV2ZW50XHJcbiAgICB7XHJcbiAgICAgICAgcmVhZG9ubHkgZXZ0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHJlYWRvbmx5IGV2dEluZm86IEV2ZW50SW5mbztcclxuICAgICAgICByZWFkb25seSBhcmdzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGV2dE5hbWU6IHN0cmluZywgZXZ0SW5mbzogRXZlbnRJbmZvLCBhcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldnROYW1lID0gZXZ0TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5ldnRJbmZvID0gZXZ0SW5mbztcclxuICAgICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEtCRXZlbnRcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyAgX2V2ZW50czogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgIF9pc1BhdXNlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2ZpcmVkRXZlbnRzOiBBcnJheTxGaXJlZEV2ZW50PiA9IFtdO1xyXG5cclxuICAgICAgICBzdGF0aWMgcmVnaXN0ZXIoZXZ0TmFtZTogc3RyaW5nLCBjbGFzc2luc3Q6IGFueSwgc3RyQ2FsbGJhY2s6IHN0cmluZyk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBjYWxsYmFja2ZuID0gY2xhc3NpbnN0W3N0ckNhbGxiYWNrXTtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrZm4gPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKCdLQkVuZ2luZS5LQkV2ZW50OjpmaXJlOiBub3QgZm91bmQgc3RyQ2FsbGJhY2soJyArIGNsYXNzaW5zdCAgKyBcIikhXCIrc3RyQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZXZ0bHN0ID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdOyAgXHJcbiAgICAgICAgICAgIGlmKGV2dGxzdCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGV2dGxzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2dE5hbWVdID0gZXZ0bHN0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IG5ldyBFdmVudEluZm8oY2xhc3NpbnN0LCBjYWxsYmFja2ZuKTtcclxuICAgICAgICAgICAgZXZ0bHN0LnB1c2goaW5mbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZGVyZWdpc3RlckFsbChjbGFzc2luc3Q6IGFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaXRlbWtleSBpbiB0aGlzLl9ldmVudHMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVyZWdpc3RlcihpdGVta2V5LCBjbGFzc2luc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZGVyZWdpc3RlcihldnROYW1lOiBzdHJpbmcsIGNsYXNzaW5zdDogYW55KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGV2dGxzdDogQXJyYXk8RXZlbnRJbmZvPiA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcclxuICAgICAgICAgICAgaWYoZXZ0bHN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIktCRXZlbnQ6OmRlcmVnaXN0ZXI6Y2FudCBmaW5kIGV2ZW50IGJ5IG5hbWUoJXMpLlwiLCBldnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2hpbGUodHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxldnRsc3QubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBldnRsc3RbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5mby5jbGFzc2luc3QgPT0gY2xhc3NpbnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0bHN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCFmb3VuZClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGaXJlZEV2ZW50KGV2dE5hbWUsIGNsYXNzaW5zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZmlyZShldnROYW1lOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZXZ0bHN0OiBBcnJheTxFdmVudEluZm8+ID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdO1xyXG4gICAgICAgICAgICBpZihldnRsc3QgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiS0JFdmVudDo6RmlyZTpjYW50IGZpbmQgZXZlbnQgYnkgbmFtZSglcykuXCIsIGV2dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGluZm8gb2YgZXZ0bHN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5faXNQYXVzZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uY2FsbGJhY2tmbi5hcHBseShpbmZvLmNsYXNzaW5zdCwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpcmVkRXZlbnQgPSBuZXcgRmlyZWRFdmVudChldnROYW1lLCBpbmZvLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlZEV2ZW50cy5wdXNoKGZpcmVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIktCRXZlbnQ6OkZpcmUoJXMpOiVzXCIsIGV2dE5hbWUsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcGF1c2UoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faXNQYXVzZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcmVzdW1lKCk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzUGF1c2UgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaXJlZEV2ZW50czogQXJyYXk8RmlyZWRFdmVudD4gPSB0aGlzLl9maXJlZEV2ZW50cztcclxuICAgICAgICAgICAgRGJnLklORk9fTVNHKFwicmVzdW1lXCIpO1xyXG4gICAgICAgICAgICB3aGlsZShmaXJlZEV2ZW50cy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZ0ID0gZmlyZWRFdmVudHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmZvID0gZXZ0LmV2dEluZm87XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGV2dC5hcmdzO1xyXG4gICAgICAgICAgICAgICAgRGJnLklORk9fTVNHKFwicmVzdW1lIGV2dG5hbWU6IFwiICsgZXZ0LmV2dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPCAxKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8uY2FsbGJhY2tmbi5hcHBseShpbmZvLmNsYXNzaW5zdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5jYWxsYmFja2ZuLmFwcGx5KGluZm8uY2xhc3NpbnN0LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHJlbW92ZUFsbEZpcmVkRXZlbnQoY2xhc3NpbnN0OiBhbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZpcmVkRXZlbnQoXCJcIiwgY2xhc3NpbnN0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyByZW1vdmVGaXJlZEV2ZW50KGV2dE5hbWU6IHN0cmluZywgY2xhc3NpbnN0OiBhbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZmlyZWRFdmVudHM6QXJyYXk8RmlyZWRFdmVudD4gPSB0aGlzLl9maXJlZEV2ZW50cztcclxuICAgICAgICAgICAgd2hpbGUodHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxmaXJlZEV2ZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZ0ID0gZmlyZWRFdmVudHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKGV2dE5hbWUgPT0gXCJcIiB8fCBldnQuZXZ0TmFtZSA9PSBldnROYW1lKSAmJiBldnQuZXZ0SW5mby5jbGFzc2luc3QgPT0gY2xhc3NpbnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWRFdmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZighZm91bmQpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEtCRW5naW5lQXJnc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBhZGRyZXNzOiBzdHJpbmcgPSBcIjEyNy4wLjAuMVwiO1xyXG4gICAgICAgIHB1YmxpYyBwb3J0OiBudW1iZXIgPSAyMDAxMztcclxuICAgICAgICBwdWJsaWMgc2VydmVySGVhcnRiZWF0VGljazogbnVtYmVyID0gMTAwO1xyXG4gICAgICAgIHB1YmxpYyBjbGllbnRUeXBlOiBudW1iZXIgPSA1O1xyXG4gICAgICAgIHB1YmxpYyBpc09uSW5pdENhbGxQcm9wZXJ0eXNTZXRNZXRob2RzOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICBwdWJsaWMgaXNXc3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgTmV0d29ya0ludGVyZmFjZVxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgc29ja2V0OiBXZWJTb2NrZXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcHJpdmF0ZSBvbk9wZW5DQjogRnVuY3Rpb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25uZWN0VG8oYWRkcjogc3RyaW5nLCBjYWxsYmFja0Z1bmM/OiAoZXZlbnQ6RXZlbnQpPT5hbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KGFkZHIpO1xyXG4gICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIk5ldHdvcmtJbnRlcmZhY2U6OmNvbm5lY3RUbzpJbml0IHNvY2tldFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaChlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6Y29ubmVjdFRvOkluaXQgc29ja2V0IGVycm9yOlwiICsgZSk7XHJcbiAgICAgICAgICAgICAgICBLQkV2ZW50LmZpcmUoXCJvbkNvbm5lY3Rpb25TdGF0ZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmVycm9yID0gdGhpcy5vbmVycm9yO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gdGhpcy5vbmNsb3NlO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLm9ubWVzc2FnZTtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub25vcGVuID0gdGhpcy5vbm9wZW47XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrRnVuYylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW5DQiA9IGNhbGxiYWNrRnVuYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2xvc2UoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbmQoYnVmZmVyOiBBcnJheUJ1ZmZlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbm9wZW4gPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERiZy5FUlJPUl9NU0coXCJOZXR3b3JrSW50ZXJmYWNlOjpvbm9wZW46c3VjY2VzcyFcIik7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub25PcGVuQ0IpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25PcGVuQ0IoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW5DQiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHByaXZhdGUgb25lcnJvciA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gS0JFRGVidWcuREVCVUdfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6b25lcnJvcjouLi4hXCIpO1xyXG4gICAgICAgICAgICAvLyBLQkVFdmVudC5GaXJlKFwib25OZXR3b3JrRXJyb3JcIiwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbm1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbmNsb3NlID0gKCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIEtCRURlYnVnLkRFQlVHX01TRyhcIk5ldHdvcmtJbnRlcmZhY2U6Om9uY2xvc2U6Li4uIVwiKTtcclxuICAgICAgICAgICAgLy8gS0JFRXZlbnQuRmlyZShcIm9uRGlzY29ubmVjdGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgS0JFbmdpbmVBcHBcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGFwcDogS0JFbmdpbmVBcHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcHJpdmF0ZSBuZXR3b3JrSW50ZXJmYWNlOiBOZXR3b3JrSW50ZXJmYWNlICA9IG5ldyBOZXR3b3JrSW50ZXJmYWNlKCk7XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXJnczogS0JFbmdpbmVBcmdzO1xyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VybmFtZTogc3RyaW5nID0gXCJ0ZXN0XCI7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXNzd29yZDogc3RyaW5nID0gXCIxMjM0NTZcIjtcclxuICAgICAgICBwcml2YXRlIGNsaWVudGRhdGFzOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICAgICAgcHJpdmF0ZSBlbmNyeXB0ZWRLZXk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBcclxuICAgICAgICBwcml2YXRlIGxvZ2luYXBwTWVzc2FnZUltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBiYXNlYXBwTWVzc2FnZUltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzZXJ2ZXJFcnJvcnNEZXNjckltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBlbnRpdHlkZWZJbXBvcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgLy8g55m75b2VbG9naW5hcHDnmoTlnLDlnYBcclxuICAgICAgICBwcml2YXRlIHNlcnZlckFkZHJlc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHJpdmF0ZSBwb3J0OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOacjeWKoeerr+WIhumFjeeahGJhc2VhcHDlnLDlnYBcclxuICAgICAgICBwdWJsaWMgYmFzZWFwcEFkZHJlc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIGJhc2VhcHBQb3J0OiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBwcml2YXRlIGlzV3NzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm90b2NvbDogc3RyaW5nID0gXCJ3czovL1wiO1xyXG5cclxuICAgICAgICAvLyDlvZPliY3nirbmgIFcclxuICAgICAgICBwdWJsaWMgY3VycnNlcnZlcjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY3VycnN0YXRlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBjdXJyY29ubmVjdDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8g5omp5bGV5pWw5o2uXHJcbiAgICAgICAgcHVibGljIHNlcnZlcmRhdGFzOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyDniYjmnKzkv6Hmga9cclxuICAgICAgICBwdWJsaWMgc2VydmVyVmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgc2VydmVyU2NyaXB0VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgc2VydmVyUHJvdG9jb2xNRDU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIHNlcnZlckVudGl0eURlZk1ENTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY2xpZW50VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgY2xpZW50U2NyaXB0VmVyc2lvbjogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gcGxheWVy55qE55u45YWz5L+h5oGvXHJcbiAgICAgICAgcHJpdmF0ZSBlbnRpdHlfaWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgLy9wcml2YXRlIGVudGl0eV91dWlkOiBEYXRhVHlwZXMuVUlOVDY0O1xyXG4gICAgICAgIHByaXZhdGUgZW50aXR5X3R5cGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIHByaXZhdGUgY29udHJvbGxlZEVudGl0aWVzOiBBcnJheTxFbnRpdHk+ID0gbmV3IEFycmF5PEVudGl0eT4oKTtcclxuICAgICAgICAvLyBwcml2YXRlIGVudGl0eUlEQWxpYXNJRExpc3Q6IEFycmF5PG51bWJlcj4gPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xyXG5cclxuICAgICAgICAvLyAvLyDov5nkuKrlj4LmlbDnmoTpgInmi6nlv4XpobvkuI5rYmVuZ2luZV9kZWZzLnhtbDo6Y2VsbGFwcC9hbGlhc0VudGl0eUlE55qE5Y+C5pWw5L+d5oyB5LiA6Ie0XHJcbiAgICAgICAgLy8gdXNlQWxpYXNFbnRpdHlJRCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaXNPbkluaXRDYWxsUHJvcGVydHlzU2V0TWV0aG9kcyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIC8vIOW9k+WJjeeOqeWutuacgOWQjuS4gOasoeWQjOatpeWIsOacjeWKoeerr+eahOS9jee9ruS4juacneWQkeS4juacjeWKoeerr+acgOWQjuS4gOasoeWQjOatpei/h+adpeeahOS9jee9rlxyXG4gICAgICAgIC8vIGVudGl0eVNlcnZlclBvcyA9IG5ldyBLQkVNYXRoLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XHJcblxyXG4gICAgICAgIC8vIOWuouaIt+err+aJgOacieeahOWunuS9k1xyXG5cdFx0Ly8gS0JFbmdpbmUuYXBwLmVudGl0aWVzID0ge307XHJcblx0XHQvLyBLQkVuZ2luZS5hcHAuZW50aXR5SURBbGlhc0lETGlzdCA9IFtdO1xyXG5cdFx0Ly8gS0JFbmdpbmUuYXBwLmNvbnRyb2xsZWRFbnRpdGllcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBzcGFjZWRhdGE6IHtba2V5OnN0cmluZ106IHN0cmluZ30gPSB7fTtcclxuICAgICAgICAvLyBzcGFjZUlEID0gMDtcclxuICAgICAgICAvLyBzcGFjZVJlc1BhdGggPSBcIlwiO1xyXG4gICAgICAgIC8vIGlzTG9hZGVkR2VvbWV0cnkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gbGFzdFRpY2tUaW1lXHJcbiAgICAgICAgLy8gbGFzdFRpY2tDQlRpbWVcclxuXHJcbiAgICAgICAgLy8g5oyJ54Wn5qCH5YeG77yM5q+P5Liq5a6i5oi356uv6YOo5YiG6YO95bqU6K+l5YyF5ZCr6L+Z5Liq5bGe5oCnXHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoYXJnczogS0JFbmdpbmVBcmdzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkFTU0VSVChLQkVuZ2luZUFwcC5hcHAgPT09IHVuZGVmaW5lZCwgXCJLQkVuZ2luZUFwcDo6Y29uc3RydWN0b3I6c2luZ2xldG9uIEtCRW5naW5lQXBwLl9hcHAgbXVzdCBiZSB1bmRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoYXJncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0U2luZ2xldG9uKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKEtCRW5naW5lQXBwLmFwcCA9PSB1bmRlZmluZWQpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgY3JlYXRlIEtCRW5naW5lQXBwIVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIEtCRW5naW5lQXBwLmFwcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpbml0aWFsaXplKGFyZ3M6IEtCRW5naW5lQXJncyk6IGJvb2xlYW5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgICAgIHRoaXMuc2VydmVyQWRkcmVzcyA9IGFyZ3MuYWRkcmVzcztcclxuICAgICAgICAgICAgdGhpcy5wb3J0ID0gYXJncy5wb3J0O1xyXG4gICAgICAgICAgICB0aGlzLmlzV3NzID0gYXJncy5pc1dzcztcclxuICAgICAgICAgICAgdGhpcy5wcm90b2NvbCA9IGFyZ3MuaXNXc3MgPyBcIndzczovL1wiIDogXCJ3czovL1wiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0TmV0d29yaygpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxFdmVudHMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0TmV0d29yaygpOiB2b2lkXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluc3RhbGxFdmVudHMoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgS0JFdmVudC5yZWdpc3RlcihLQkV2ZW50VHlwZXMubG9naW4sIEtCRW5naW5lQXBwLmFwcCwgXCJsb2dpblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc2V0U29ja2V0KCk6IHZvaWRcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzZXQoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gaWYoS0JFbmdpbmVBcHAuYXBwLmVudGl0aWVzICE9IHVuZGVmaW5lZCAmJiBLQkVuZ2luZUFwcC5hcHAuZW50aXRpZXMgIT0gbnVsbClcclxuICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAvLyAgICAgS0JFbmdpbmVBcHAuYXBwLmNsZWFyRW50aXRpZXModHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHRcdFxyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAucmVzZXRTb2NrZXQoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5jdXJyc2VydmVyID0gXCJsb2dpbmFwcFwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY3VycnN0YXRlID0gXCJjcmVhdGVcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmN1cnJjb25uZWN0ID0gXCJsb2dpbmFwcFwiO1xyXG5cclxuICAgICAgICAgICAgLy8g5omp5bGV5pWw5o2uXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJkYXRhcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDniYjmnKzkv6Hmga9cclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnNlcnZlclZlcnNpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuc2VydmVyU2NyaXB0VmVyc2lvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJQcm90b2NvbE1ENSA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJFbnRpdHlEZWZNRDUgPSBcIlwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY2xpZW50VmVyc2lvbiA9IFwiMS4yLjdcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmNsaWVudFNjcmlwdFZlcnNpb24gPSBcIjAuMS4wXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAvLyBwbGF5ZXLnmoTnm7jlhbPkv6Hmga9cclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eV91dWlkID0gbnVsbDtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eV9pZCA9IDA7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5lbnRpdHlfdHlwZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAvLyAvLyDov5nkuKrlj4LmlbDnmoTpgInmi6nlv4XpobvkuI5rYmVuZ2luZV9kZWZzLnhtbDo6Y2VsbGFwcC9hbGlhc0VudGl0eUlE55qE5Y+C5pWw5L+d5oyB5LiA6Ie0XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC51c2VBbGlhc0VudGl0eUlEID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIOW9k+WJjeeOqeWutuacgOWQjuS4gOasoeWQjOatpeWIsOacjeWKoeerr+eahOS9jee9ruS4juacneWQkeS4juacjeWKoeerr+acgOWQjuS4gOasoeWQjOatpei/h+adpeeahOS9jee9rlxyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuZW50aXR5U2VydmVyUG9zID0gbmV3IEtCRW5naW5lLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAvLyDlrqLmiLfnq6/miYDmnInnmoTlrp7kvZNcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0aWVzID0ge307XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5lbnRpdHlJREFsaWFzSURMaXN0ID0gW107XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5jb250cm9sbGVkRW50aXRpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIOepuumXtOeahOS/oeaBr1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuc3BhY2VkYXRhID0ge307XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5zcGFjZUlEID0gMDtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLnNwYWNlUmVzUGF0aCA9IFwiXCI7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5pc0xvYWRlZEdlb21ldHJ5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5sYXN0VGlja1RpbWUgPSBkYXRlT2JqZWN0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmxhc3RUaWNrQ0JUaW1lID0gZGF0ZU9iamVjdC5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZS5tYXBwaW5nRGF0YVR5cGUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIOW9k+WJjee7hOS7tuexu+WIq++8jCDphY3lpZfmnI3liqHnq6/kvZPns7tcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmNvbXBvbmVudCA9IFwiY2xpZW50XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRTZXJ2ZXJBZGRyKGlwOiBzdHJpbmcsIHBvcnQ6IG51bWJlcik6IHN0cmluZ1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZlckFkZHIgPSBLQkVuZ2luZUFwcC5hcHAucHJvdG9jb2wgKyBpcDtcclxuICAgICAgICAgICAgaWYocG9ydCAhPSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJBZGRyICs9IFwiOlwiICsgcG9ydDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkZHI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2dpbih1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBkYXRhczphbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAucmVzZXQoKTtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5wYXNzd29yZCA9IHBhc3N3b3JkO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY2xpZW50ZGF0YXMgPSBkYXRhcztcclxuXHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5sb2dpbl9sb2dpbmFwcCh0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbG9naW5fbG9naW5hcHAobm9jb25uZWN0OiBib29sZWFuKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYobm9jb25uZWN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVyQWRkciA9IHRoaXMuZ2V0U2VydmVyQWRkcihLQkVuZ2luZUFwcC5hcHAuc2VydmVyQWRkcmVzcywgS0JFbmdpbmVBcHAuYXBwLnBvcnQpO1xyXG4gICAgICAgICAgICAgICAgRGJnLklORk9fTVNHKFwiS0JFbmdpbmVBcHA6OmxvZ2luX2xvZ2luYXBwOiBzdGFydCBjb25uZWN0IHRvIFwiICsgc2VydmVyQWRkciArIFwiIVwiKVxyXG4gICAgICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmN1cnJjb25uZWN0ID0gXCJsb2dpbmFwcFwiO1xyXG4gICAgICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLm5ldHdvcmtJbnRlcmZhY2UuY29ubmVjdFRvKHNlcnZlckFkZHIsIChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB0aGlzLm9uT3BlbkxvZ2luYXBwX2xvZ2luKGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uT3BlbkxvZ2luYXBwX2xvZ2luKGV2ZW50OiBNZXNzYWdlRXZlbnQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkRFQlVHX01TRyhcIktCRW5naW5lQXBwOjpvbk9wZW5Mb2dpbmFwcF9sb2dpbjpzdWNjZXNzIHRvICVzLlwiLCB0aGlzLnNlcnZlckFkZHJlc3MpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jdXJyc2VydmVyID0gXCJsb2dpbmFwcFwiO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJzdGF0ZSA9IFwibG9naW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICog5a2Q5by56ISa5pys77yM5a6e546w5a2Q5by56aOe6KGM6YC76L6R5Y+K5a+56LGh5rGg5Zue5pS25py65Yi2XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6+572u5Yid5aeL6YCf5bqmXHJcbiAgICAgICAgdmFyIHJpZzogTGF5YS5SaWdpZEJvZHkgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy/lpoLmnpzooqvnorDliLDvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+WmguaenOWtkOW8uei2heWHuuWxj+W5le+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIGlmICgodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkueSA8IC0xMCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5a2Q5by56KKr56e76Zmk5pe277yM5Zue5pS25a2Q5by55Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSAXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJidWxsZXRcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZVVJIGZyb20gXCIuL0dhbWVVSVwiO1xyXG4vKipcclxuICog5o6J6JC955uS5a2Q6ISa5pys77yM5a6e546w55uS5a2Q56Kw5pKe5Y+K5Zue5pS25rWB56iLXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcm9wQm94IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoq55uS5a2Q562J57qnICovXHJcbiAgICBsZXZlbDogbnVtYmVyID0gMTtcclxuICAgIC8qKuetiee6p+aWh+acrOWvueixoeW8leeUqCAqL1xyXG4gICAgcHJpdmF0ZSBfdGV4dDogTGF5YS5UZXh0O1xyXG4gICAgLyoq5Yia5L2T5a+56LGh5byV55SoICovXHJcbiAgICBwcml2YXRlIF9yaWc6IExheWEuUmlnaWRCb2R5XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICB0aGlzLmxldmVsID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibGV2ZWxUeHRcIikgYXMgTGF5YS5UZXh0O1xyXG4gICAgICAgIHRoaXMuX3RleHQudGV4dCA9IHRoaXMubGV2ZWwgKyBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6p5oyB57ut55uS5a2Q5peL6L2sXHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnJvdGF0aW9uKys7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB2YXIgb3duZXI6IExheWEuU3ByaXRlID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwiYnV0dGxlXCIpIHtcclxuICAgICAgICAgICAgLy/norDmkp7liLDlrZDlvLnlkI7vvIzlop7liqDnp6/liIbvvIzmkq3mlL7lo7Dpn7PnibnmlYhcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsLS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0LmNoYW5nZVRleHQodGhpcy5sZXZlbCArIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgb3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IC0xMCB9KTtcclxuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2hpdC53YXZcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3duZXIucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVmZmVjdDogTGF5YS5BbmltYXRpb24gPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZWZmZWN0XCIsIHRoaXMuY3JlYXRlRWZmZWN0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucG9zKG93bmVyLngsIG93bmVyLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnBhcmVudC5hZGRDaGlsZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wbGF5KDAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9kZXN0cm95LndhdlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2UuYWRkU2NvcmUoMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRcIikge1xyXG4gICAgICAgICAgICAvL+WPquimgeacieS4gOS4quebkuWtkOeisOWIsOWcsOadv++8jOWImeWBnOatoua4uOaIj1xyXG4gICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5zdG9wR2FtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirkvb/nlKjlr7nosaHmsaDliJvlu7rniIbngrjliqjnlLsgKi9cclxuICAgIGNyZWF0ZUVmZmVjdCgpOiBMYXlhLkFuaW1hdGlvbiB7XHJcbiAgICAgICAgbGV0IGFuaTogTGF5YS5BbmltYXRpb24gPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEFuaW1hdGlvbihcInRlc3QvdGVzdEFuaS5hbmlcIik7XHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUExFVEUsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZWZmZWN0XCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJkcm9wQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL0Ryb3BCb3hcIjtcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuLyoqXHJcbiAqIOa4uOaIj+aOp+WItuiEmuacrOOAguWumuS5ieS6huWHoOS4qmRyb3BCb3jvvIxidWxsZXTvvIxjcmVhdGVCb3hJbnRlcnZhbOetieWPmOmHj++8jOiDveWkn+WcqElEReaYvuekuuWPiuiuvue9ruivpeWPmOmHj1xyXG4gKiDmm7TlpJrnsbvlnovlrprkuYnvvIzor7flj4LogIPlrpjmlrnmlofmoaNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmRyb3BCb3gsdGlwczpcIuaOieiQveWuueWZqOmihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBkcm9wQm94OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpidWxsZXQsdGlwczpcIuWtkOW8uemihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBidWxsZXQ6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmNyZWF0ZUJveEludGVydmFsLHRpcHM6XCLpl7TpmpTlpJrlsJHmr6vnp5LliJvlu7rkuIDkuKrkuIvot4znmoTlrrnlmahcIix0eXBlOmludCxkZWZhdWx0OjEwMDB9Ki9cclxuICAgIGNyZWF0ZUJveEludGVydmFsOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgLyoq5byA5aeL5pe26Ze0Ki9cclxuICAgIHByaXZhdGUgX3RpbWU6IG51bWJlciA9IDA7XHJcbiAgICAvKirmmK/lkKblt7Lnu4/lvIDlp4vmuLjmiI8gKi9cclxuICAgIHByaXZhdGUgX3N0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIC8qKuWtkOW8ueWSjOebkuWtkOaJgOWcqOeahOWuueWZqOWvueixoSAqL1xyXG4gICAgcHJpdmF0ZSBfZ2FtZUJveDogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImdhbWVCb3hcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+avj+mXtOmalOS4gOauteaXtumXtOWIm+W7uuS4gOS4quebkuWtkFxyXG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl90aW1lID4gdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3goKTogdm9pZCB7XHJcbiAgICAgICAgLy/kvb/nlKjlr7nosaHmsaDliJvlu7rnm5LlrZBcclxuICAgICAgICBsZXQgYm94OiBMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJkcm9wQm94XCIsIHRoaXMuZHJvcEJveC5jcmVhdGUsIHRoaXMuZHJvcEJveCk7XHJcbiAgICAgICAgYm94LnBvcyhNYXRoLnJhbmRvbSgpICogKExheWEuc3RhZ2Uud2lkdGggLSAxMDApLCAtMTAwKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZUNsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvL+WBnOatouS6i+S7tuWGkuazoe+8jOaPkOmrmOaAp+iDve+8jOW9k+eEtuS5n+WPr+S7peS4jeimgVxyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgLy/oiJ7lj7Dooqvngrnlh7vlkI7vvIzkvb/nlKjlr7nosaHmsaDliJvlu7rlrZDlvLlcclxuICAgICAgICBsZXQgZmx5ZXI6IExheWEuU3ByaXRlID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImJ1bGxldFwiLCB0aGlzLmJ1bGxldC5jcmVhdGUsIHRoaXMuYnVsbGV0KTtcclxuICAgICAgICBmbHllci5wb3MoTGF5YS5zdGFnZS5tb3VzZVgsIExheWEuc3RhZ2UubW91c2VZKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGZseWVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlvIDlp4vmuLjmiI/vvIzpgJrov4fmv4DmtLvmnKzohJrmnKzmlrnlvI/lvIDlp4vmuLjmiI8qL1xyXG4gICAgc3RhcnRHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq57uT5p2f5ri45oiP77yM6YCa6L+H6Z2e5r+A5rS75pys6ISa5pys5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCA9IDEwMDA7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5yZW1vdmVDaGlsZHJlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuaW1wb3J0IHtLQkVuZ2luZX0gZnJvbSBcIi4uL2tiZW5naW5lX3RzX3BsdWdpbnMvS0JFbmdpbmVcIlxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudGVzdC5UZXN0U2NlbmVVSSB7XHJcbiAgICAvKirorr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKggKi9cclxuICAgIHN0YXRpYyBpbnN0YW5jZTogR2FtZVVJO1xyXG4gICAgLyoq5b2T5YmN5ri45oiP56ev5YiG5a2X5q61ICovXHJcbiAgICBwcml2YXRlIF9zY29yZTogbnVtYmVyO1xyXG4gICAgLyoq5ri45oiP5o6n5Yi26ISa5pys5byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5oCn6IO95byA6ZSAICovXHJcbiAgICBwcml2YXRlIF9jb250cm9sOiBHYW1lQ29udHJvbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEdhbWVVSS5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgLy/lhbPpl63lpJrngrnop6bmjqfvvIzlkKbliJnlsLHml6DmlYzkuoZcclxuICAgICAgICBMYXlhLk1vdXNlTWFuYWdlci5tdWx0aVRvdWNoRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbCk7XHJcbiAgICAgICAgLy/ngrnlh7vmj5DnpLrmloflrZfvvIzlvIDlp4vmuLjmiI9cclxuICAgICAgICB0aGlzLnRpcExibGwub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblRpcENsaWNrKTtcclxuXHJcbiAgICAgICAgbGV0IGFyZ3MgPSBuZXcgS0JFbmdpbmUuS0JFbmdpbmVBcmdzKCk7IFxyXG4gICAgICAgIGFyZ3MuYWRkcmVzcyA9IFwiMTI3LjAuMC4xXCI7XHJcbiAgICAgICAgYXJncy5wb3J0ID0gMjAwMTM7XHJcbiAgICAgICAgbGV0IGFwcCA9IG5ldyBLQkVuZ2luZS5LQkVuZ2luZUFwcChhcmdzKTtcclxuICAgICAgICBLQkVuZ2luZS5LQkV2ZW50LmZpcmUoXCJsb2dpblwiLCBcImxvZ2luTmFtZVwiLCBcIjEyMzQ1NlwiLCBcIlwiKTsgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uVGlwQ2xpY2soZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlOiBudW1iZXIgPSAxKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC5jaGFuZ2VUZXh0KFwi5YiG5pWw77yaXCIgKyB0aGlzLl9zY29yZSk7XHJcbiAgICAgICAgLy/pmo/nnYDliIbmlbDotorpq5jvvIzpmr7luqblop7lpKdcclxuICAgICAgICBpZiAodGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCA+IDYwMCAmJiB0aGlzLl9zY29yZSAlIDIwID09IDApIHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgLT0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnRleHQgPSBcIua4uOaIj+e7k+adn+S6hu+8jOeCueWHu+Wxj+W5lemHjeaWsOW8gOWni1wiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RvcEdhbWUoKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgc2NvcmVMYmw6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgdGlwTGJsbDpMYXlhLkxhYmVsO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHIiXX0=
