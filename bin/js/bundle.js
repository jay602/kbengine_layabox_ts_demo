var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
var GameControl_1 = require("./script/GameControl");
var Bullet_1 = require("./script/Bullet");
var DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":4,"./script/DropBox":5,"./script/GameControl":6,"./script/GameUI":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KBEngine;
(function (KBEngine) {
    var Dbg = /** @class */ (function () {
        function Dbg() {
        }
        Dbg.getHead = function () {
            var now = new Date();
            return "[" + now.getFullYear() + "-" + (now.getMonth() + 1) + "-" + now.getDate() + " " + now.getHours()
                + ":" + now.getMinutes() + ":" + now.getSeconds() + " " + now.getMilliseconds() + "] ";
        };
        Dbg.DEBUG_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (0 /* DEBUG */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.debug.apply(this, params);
            }
        };
        Dbg.INFO_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (1 /* INFO */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.info.apply(this, params);
            }
        };
        Dbg.WARNING_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (2 /* WARNING */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.warn.apply(this, params);
            }
        };
        Dbg.ERROR_MSG = function (msg) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            if (3 /* ERROR */ >= this.debugLevel) {
                params.unshift(this.getHead(), msg);
                console.error.apply(this, params);
            }
        };
        Dbg.ASSERT = function (condition, message) {
            var data = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                data[_i - 2] = arguments[_i];
            }
            // 使用抛出异常的方式来实现类似断言功能
            if (!condition) {
                throw (new Error(message));
            }
            // note：微信小游戏平台不支持，手册中提到的CC_WECHATGAME未定义，无法区分是否微信小游戏平台，
            // console.assert(condition, message, ...data);
            // 一些平台如小程序上可能没有assert
            // if(console.assert == undefined)
            // {
            //     console.assert = function(bRet, s)
            //     {
            //         if(!(bRet)) {
            //             ERROR_MSG(s);
            //         }
            //     }
            // }
        };
        Dbg.debugLevel = 0 /* DEBUG */;
        return Dbg;
    }());
    KBEngine.Dbg = Dbg;
    var EventInfo = /** @class */ (function () {
        function EventInfo(classinst, callbackfn) {
            this.classinst = classinst;
            this.callbackfn = callbackfn;
        }
        return EventInfo;
    }());
    var FiredEvent = /** @class */ (function () {
        function FiredEvent(evtName, evtInfo, args) {
            this.evtName = evtName;
            this.evtInfo = evtInfo;
            this.args = args;
        }
        return FiredEvent;
    }());
    var KBEvent = /** @class */ (function () {
        function KBEvent() {
        }
        KBEvent.register = function (evtName, classinst, strCallback) {
            var callbackfn = classinst[strCallback];
            if (callbackfn == undefined) {
                Dbg.ERROR_MSG('KBEngine.KBEvent::fire: not found strCallback(' + classinst + ")!" + strCallback);
                return;
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                evtlst = [];
                this._events[evtName] = evtlst;
            }
            var info = new EventInfo(classinst, callbackfn);
            evtlst.push(info);
        };
        KBEvent.deregisterAll = function (classinst) {
            for (var itemkey in this._events) {
                this.deregister(itemkey, classinst);
            }
        };
        KBEvent.deregister = function (evtName, classinst) {
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::deregister:cant find event by name(%s).", evtName);
                return;
            }
            while (true) {
                var found = false;
                for (var i = 0; i < evtlst.length; i++) {
                    var info = evtlst[i];
                    if (info.classinst == classinst) {
                        evtlst.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
            this.removeFiredEvent(evtName, classinst);
        };
        KBEvent.fire = function (evtName) {
            var params = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                params[_i - 1] = arguments[_i];
            }
            var evtlst = this._events[evtName];
            if (evtlst == undefined) {
                Dbg.ERROR_MSG("KBEvent::Fire:cant find event by name(%s).", evtName);
                return;
            }
            for (var _a = 0, evtlst_1 = evtlst; _a < evtlst_1.length; _a++) {
                var info = evtlst_1[_a];
                try {
                    if (!this._isPause) {
                        info.callbackfn.apply(info.classinst, params);
                    }
                    else {
                        var firedEvent = new FiredEvent(evtName, info, params);
                        this._firedEvents.push(firedEvent);
                    }
                }
                catch (e) {
                    Dbg.ERROR_MSG("KBEvent::Fire(%s):%s", evtName, e);
                }
            }
        };
        KBEvent.pause = function () {
            this._isPause = true;
        };
        KBEvent.resume = function () {
            this._isPause = false;
            var firedEvents = this._firedEvents;
            Dbg.INFO_MSG("resume");
            while (firedEvents.length > 0) {
                var evt = firedEvents.shift();
                var info = evt.evtInfo;
                var args = evt.args;
                Dbg.INFO_MSG("resume evtname: " + evt.evtName);
                if (args.length < 1) {
                    info.callbackfn.apply(info.classinst);
                }
                else {
                    info.callbackfn.apply(info.classinst, args);
                }
            }
        };
        KBEvent.removeAllFiredEvent = function (classinst) {
            this.removeFiredEvent("", classinst);
        };
        KBEvent.removeFiredEvent = function (evtName, classinst) {
            var firedEvents = this._firedEvents;
            while (true) {
                var found = false;
                for (var i = 0; i < firedEvents.length; i++) {
                    var evt = firedEvents[i];
                    if ((evtName == "" || evt.evtName == evtName) && evt.evtInfo.classinst == classinst) {
                        firedEvents.splice(i, 1);
                        found = true;
                        break;
                    }
                }
                if (!found)
                    break;
            }
        };
        KBEvent._events = {};
        KBEvent._isPause = false;
        KBEvent._firedEvents = [];
        return KBEvent;
    }());
    KBEngine.KBEvent = KBEvent;
    var KBEngineArgs = /** @class */ (function () {
        function KBEngineArgs() {
            this.address = "127.0.0.1";
            this.port = 20013;
            this.serverHeartbeatTick = 100;
            this.clientType = 5;
            this.isOnInitCallPropertysSetMethods = true;
            this.isWss = false;
        }
        return KBEngineArgs;
    }());
    KBEngine.KBEngineArgs = KBEngineArgs;
    var NetworkInterface = /** @class */ (function () {
        function NetworkInterface() {
            var _this = this;
            this.socket = undefined;
            this.onOpenCB = undefined;
            this.onopen = function (event) {
                Dbg.ERROR_MSG("NetworkInterface::onopen:success!");
                if (_this.onOpenCB) {
                    _this.onOpenCB(event);
                    _this.onOpenCB = undefined;
                }
            };
            this.onerror = function (event) {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onerror:...!");
                // KBEEvent.Fire("onNetworkError", event);
            };
            this.onmessage = function (event) {
            };
            this.onclose = function () {
                // KBEDebug.DEBUG_MSG("NetworkInterface::onclose:...!");
                // KBEEvent.Fire("onDisconnected");
            };
        }
        NetworkInterface.prototype.connectTo = function (addr, callbackFunc) {
            try {
                this.socket = new WebSocket(addr);
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket");
            }
            catch (e) {
                Dbg.ERROR_MSG("NetworkInterface::connectTo:Init socket error:" + e);
                KBEvent.fire("onConnectionState", false);
                return;
            }
            this.socket.binaryType = "arraybuffer";
            this.socket.onerror = this.onerror;
            this.socket.onclose = this.onclose;
            this.socket.onmessage = this.onmessage;
            this.socket.onopen = this.onopen;
            if (callbackFunc) {
                this.onOpenCB = callbackFunc;
            }
        };
        NetworkInterface.prototype.close = function () {
        };
        NetworkInterface.prototype.send = function (buffer) {
        };
        return NetworkInterface;
    }());
    var KBEngineApp = /** @class */ (function () {
        function KBEngineApp(args) {
            this.networkInterface = new NetworkInterface();
            this.username = "test";
            this.password = "123456";
            this.clientdatas = new Uint8Array(0);
            this.encryptedKey = "";
            this.loginappMessageImported = false;
            this.baseappMessageImported = false;
            this.serverErrorsDescrImported = false;
            this.entitydefImported = false;
            // 登录loginapp的地址
            this.serverAddress = "";
            this.port = 0;
            // 服务端分配的baseapp地址
            this.baseappAddress = "";
            this.baseappPort = 0;
            this.isWss = false;
            this.protocol = "ws://";
            // 当前状态
            this.currserver = "";
            this.currstate = "";
            this.currconnect = "";
            // 扩展数据
            this.serverdatas = "";
            // 版本信息
            this.serverVersion = "";
            this.serverScriptVersion = "";
            this.serverProtocolMD5 = "";
            this.serverEntityDefMD5 = "";
            this.clientVersion = "";
            this.clientScriptVersion = "";
            // player的相关信息
            this.entity_id = 0;
            //private entity_uuid: DataTypes.UINT64;
            this.entity_type = "";
            // private controlledEntities: Array<Entity> = new Array<Entity>();
            // private entityIDAliasIDList: Array<number> = new Array<number>();
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // useAliasEntityID = true;
            // isOnInitCallPropertysSetMethods = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // entityServerPos = new KBEMath.Vector3(0.0, 0.0, 0.0);
            // 客户端所有的实体
            // KBEngine.app.entities = {};
            // KBEngine.app.entityIDAliasIDList = [];
            // KBEngine.app.controlledEntities = [];
            // spacedata: {[key:string]: string} = {};
            // spaceID = 0;
            // spaceResPath = "";
            // isLoadedGeometry = false;
            // lastTickTime
            // lastTickCBTime
            // 按照标准，每个客户端部分都应该包含这个属性
            this.component = "";
            Dbg.ASSERT(KBEngineApp.app === undefined, "KBEngineApp::constructor:singleton KBEngineApp._app must be undefined.");
            KBEngineApp.app = this;
            this.initialize(args);
        }
        KBEngineApp.getSingleton = function () {
            if (KBEngineApp.app == undefined) {
                throw new Error("Please create KBEngineApp!");
            }
            return KBEngineApp.app;
        };
        KBEngineApp.prototype.initialize = function (args) {
            this.args = args;
            this.serverAddress = args.address;
            this.port = args.port;
            this.isWss = args.isWss;
            this.protocol = args.isWss ? "wss://" : "ws://";
            this.initNetwork();
            this.installEvents();
            return true;
        };
        KBEngineApp.prototype.initNetwork = function () {
        };
        KBEngineApp.prototype.installEvents = function () {
            KBEvent.register("login" /* login */, KBEngineApp.app, "login");
        };
        KBEngineApp.prototype.resetSocket = function () {
        };
        KBEngineApp.prototype.reset = function () {
            // if(KBEngineApp.app.entities != undefined && KBEngineApp.app.entities != null)
            // {
            //     KBEngineApp.app.clearEntities(true);
            // }
            KBEngineApp.app.resetSocket();
            KBEngineApp.app.currserver = "loginapp";
            KBEngineApp.app.currstate = "create";
            KBEngineApp.app.currconnect = "loginapp";
            // 扩展数据
            KBEngineApp.app.serverdatas = "";
            // 版本信息
            KBEngineApp.app.serverVersion = "";
            KBEngineApp.app.serverScriptVersion = "";
            KBEngineApp.app.serverProtocolMD5 = "";
            KBEngineApp.app.serverEntityDefMD5 = "";
            KBEngineApp.app.clientVersion = "1.2.7";
            KBEngineApp.app.clientScriptVersion = "0.1.0";
            // // player的相关信息
            // KBEngineApp.app.entity_uuid = null;
            // KBEngineApp.app.entity_id = 0;
            // KBEngineApp.app.entity_type = "";
            // // 这个参数的选择必须与kbengine_defs.xml::cellapp/aliasEntityID的参数保持一致
            // KBEngineApp.app.useAliasEntityID = true;
            // // 当前玩家最后一次同步到服务端的位置与朝向与服务端最后一次同步过来的位置
            // KBEngineApp.app.entityServerPos = new KBEngine.Vector3(0.0, 0.0, 0.0);
            // // 客户端所有的实体
            // KBEngineApp.app.entities = {};
            // KBEngineApp.app.entityIDAliasIDList = [];
            // KBEngineApp.app.controlledEntities = [];
            // // 空间的信息
            // KBEngineApp.app.spacedata = {};
            // KBEngineApp.app.spaceID = 0;
            // KBEngineApp.app.spaceResPath = "";
            // KBEngineApp.app.isLoadedGeometry = false;
            // var dateObject = new Date();
            // KBEngineApp.app.lastTickTime = dateObject.getTime();
            // KBEngineApp.app.lastTickCBTime = dateObject.getTime();
            // KBEngine.mappingDataType();
            // 当前组件类别， 配套服务端体系
            KBEngineApp.app.component = "client";
        };
        KBEngineApp.prototype.getServerAddr = function (ip, port) {
            var serverAddr = KBEngineApp.app.protocol + ip;
            if (port != 0) {
                serverAddr += ":" + port;
            }
            return serverAddr;
        };
        KBEngineApp.prototype.login = function (username, password, datas) {
            KBEngineApp.app.reset();
            KBEngineApp.app.username = username;
            KBEngineApp.app.password = password;
            KBEngineApp.app.clientdatas = datas;
            KBEngineApp.app.login_loginapp(true);
        };
        KBEngineApp.prototype.login_loginapp = function (noconnect) {
            var _this = this;
            if (noconnect) {
                var serverAddr = this.getServerAddr(KBEngineApp.app.serverAddress, KBEngineApp.app.port);
                Dbg.INFO_MSG("KBEngineApp::login_loginapp: start connect to " + serverAddr + "!");
                KBEngineApp.app.currconnect = "loginapp";
                KBEngineApp.app.networkInterface.connectTo(serverAddr, function (event) { return _this.onOpenLoginapp_login(event); });
            }
            else {
            }
        };
        KBEngineApp.prototype.onOpenLoginapp_login = function (event) {
            Dbg.DEBUG_MSG("KBEngineApp::onOpenLoginapp_login:success to %s.", this.serverAddress);
            this.currserver = "loginapp";
            this.currstate = "login";
        };
        KBEngineApp.app = undefined;
        return KBEngineApp;
    }());
    KBEngine.KBEngineApp = KBEngineApp;
})(KBEngine = exports.KBEngine || (exports.KBEngine = {}));
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Bullet = /** @class */ (function (_super) {
    __extends(Bullet, _super);
    function Bullet() {
        return _super.call(this) || this;
    }
    Bullet.prototype.onEnable = function () {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    };
    Bullet.prototype.onTriggerEnter = function (other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    };
    Bullet.prototype.onUpdate = function () {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    };
    Bullet.prototype.onDisable = function () {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    };
    return Bullet;
}(Laya.Script));
exports.default = Bullet;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
var DropBox = /** @class */ (function (_super) {
    __extends(DropBox, _super);
    function DropBox() {
        var _this = _super.call(this) || this;
        /**盒子等级 */
        _this.level = 1;
        return _this;
    }
    DropBox.prototype.onEnable = function () {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    };
    DropBox.prototype.onUpdate = function () {
        //让持续盒子旋转
        this.owner.rotation++;
    };
    DropBox.prototype.onTriggerEnter = function (other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    var effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    };
    /**使用对象池创建爆炸动画 */
    DropBox.prototype.createEffect = function () {
        var ani = new Laya.Animation();
        ani.loadAnimation("test/testAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    };
    DropBox.prototype.onDisable = function () {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    };
    return DropBox;
}(Laya.Script));
exports.default = DropBox;
},{"./GameUI":7}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = /** @class */ (function (_super) {
    __extends(GameControl, _super);
    function GameControl() {
        var _this = _super.call(this) || this;
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        _this.createBoxInterval = 1000;
        /**开始时间*/
        _this._time = 0;
        /**是否已经开始游戏 */
        _this._started = false;
        return _this;
    }
    GameControl.prototype.onEnable = function () {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    };
    GameControl.prototype.onUpdate = function () {
        //每间隔一段时间创建一个盒子
        var now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    };
    GameControl.prototype.createBox = function () {
        //使用对象池创建盒子
        var box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    };
    GameControl.prototype.onStageClick = function (e) {
        //停止事件冒泡，提高性能，当然也可以不要
        e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        var flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
    };
    /**开始游戏，通过激活本脚本方式开始游戏*/
    GameControl.prototype.startGame = function () {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    };
    /**结束游戏，通过非激活本脚本停止游戏 */
    GameControl.prototype.stopGame = function () {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    };
    return GameControl;
}(Laya.Script));
exports.default = GameControl;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameControl_1 = require("./GameControl");
var KBEngine_1 = require("../kbengine_ts_plugins/KBEngine");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        return _this;
    }
    GameUI.prototype.onEnable = function () {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
        var args = new KBEngine_1.KBEngine.KBEngineArgs();
        args.address = "127.0.0.1";
        args.port = 20013;
        var app = new KBEngine_1.KBEngine.KBEngineApp(args);
        KBEngine_1.KBEngine.KBEvent.fire("login", "loginName", "123456", "");
    };
    GameUI.prototype.onTipClick = function (e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    };
    /**增加分数 */
    GameUI.prototype.addScore = function (value) {
        if (value === void 0) { value = 1; }
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    };
    /**停止游戏 */
    GameUI.prototype.stopGame = function () {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    };
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"../kbengine_ts_plugins/KBEngine":3,"./../ui/layaMaxUI":8,"./GameControl":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L1Byb2dyYW0gRmlsZXMvTGF5YUFpcklERV9iZXRhL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMva2JlbmdpbmVfdHNfcGx1Z2lucy9LQkVuZ2luZS50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMENBQW9DO0FBQ3BDLG9EQUE4QztBQUM5QywwQ0FBb0M7QUFDcEMsNENBQXNDO0FBQ3RDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUMvQixHQUFHLENBQUMsbUJBQW1CLEVBQUMsaUJBQU8sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFuQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIs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bEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLG9DQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBQ0wsa0JBQUM7UUFBRCxDQVJBLEFBUUMsQ0FSZ0MsS0FBSyxHQVFyQztRQVJZLGdCQUFXLGNBUXZCLENBQUE7SUFDTCxDQUFDLEVBVmdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQVVwQjtBQUFELENBQUMsRUFWYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFVZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9zY3JpcHQvQnVsbGV0XCJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL3NjcmlwdC9Ecm9wQm94XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVDb250cm9sLnRzXCIsR2FtZUNvbnRyb2wpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQnVsbGV0LnRzXCIsQnVsbGV0KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0Ryb3BCb3gudHNcIixEcm9wQm94KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJleHBvcnQgbmFtZXNwYWNlIEtCRW5naW5lIFxyXG57XHJcbiAgICBleHBvcnQgY29uc3QgZW51bSBERUJVR0xFVkVMXHJcblx0e1xyXG5cdFx0REVCVUcgPSAwLFxyXG5cdFx0SU5GTyxcclxuXHRcdFdBUk5JTkcsXHJcblx0XHRFUlJPUixcclxuXHJcblx0XHROT0xPRywgIC8vIOaUvuWcqOacgOWQjumdou+8jOS9v+eUqOi/meS4quaXtuihqOekuuS4jei+k+WHuuS7u+S9leaXpeW/l++8iCEhIeaFjueUqCEhIe+8iVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBleHBvcnQgY2xhc3MgRGJnXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBkZWJ1Z0xldmVsOkRFQlVHTEVWRUwgPSBERUJVR0xFVkVMLkRFQlVHO1xyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0SGVhZCgpOiBzdHJpbmdcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBub3c6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gXCJbXCIgKyBub3cuZ2V0RnVsbFllYXIoKSArIFwiLVwiICsgKG5vdy5nZXRNb250aCgpICsgMSkgKyBcIi1cIiArIG5vdy5nZXREYXRlKCkgKyBcIiBcIiArIG5vdy5nZXRIb3VycygpIFxyXG4gICAgICAgICAgICArIFwiOlwiICsgbm93LmdldE1pbnV0ZXMoKSArIFwiOlwiICsgbm93LmdldFNlY29uZHMoKSArIFwiIFwiICsgbm93LmdldE1pbGxpc2Vjb25kcygpICsgXCJdIFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIERFQlVHX01TRyhtc2c6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKERFQlVHTEVWRUwuREVCVUcgPj0gdGhpcy5kZWJ1Z0xldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMudW5zaGlmdCh0aGlzLmdldEhlYWQoKSwgbXNnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcuYXBwbHkodGhpcywgcGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIElORk9fTVNHKG1zZzogc3RyaW5nLCAuLi5wYXJhbXM6IGFueVtdKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoREVCVUdMRVZFTC5JTkZPID49IHRoaXMuZGVidWdMZXZlbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnVuc2hpZnQodGhpcy5nZXRIZWFkKCksIG1zZyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8uYXBwbHkodGhpcywgcGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIFdBUk5JTkdfTVNHKG1zZzogc3RyaW5nLCAuLi5wYXJhbXM6IGFueVtdKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoREVCVUdMRVZFTC5XQVJOSU5HID49IHRoaXMuZGVidWdMZXZlbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnVuc2hpZnQodGhpcy5nZXRIZWFkKCksIG1zZyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4uYXBwbHkodGhpcywgcGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHN0YXRpYyBFUlJPUl9NU0cobXNnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihERUJVR0xFVkVMLkVSUk9SID49IHRoaXMuZGVidWdMZXZlbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnVuc2hpZnQodGhpcy5nZXRIZWFkKCksIG1zZyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KHRoaXMsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBzdGF0aWMgQVNTRVJUKGNvbmRpdGlvbj86IGJvb2xlYW4sIG1lc3NhZ2U/OiBzdHJpbmcsIC4uLmRhdGE6IGFueVtdKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8g5L2/55So5oqb5Ye65byC5bi455qE5pa55byP5p2l5a6e546w57G75Ly85pat6KiA5Yqf6IO9XHJcbiAgICAgICAgICAgIGlmKCFjb25kaXRpb24pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRocm93KG5ldyBFcnJvcihtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG5vdGXvvJrlvq7kv6HlsI/muLjmiI/lubPlj7DkuI3mlK/mjIHvvIzmiYvlhozkuK3mj5DliLDnmoRDQ19XRUNIQVRHQU1F5pyq5a6a5LmJ77yM5peg5rOV5Yy65YiG5piv5ZCm5b6u5L+h5bCP5ri45oiP5bmz5Y+w77yMXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSwgLi4uZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIOS4gOS6m+W5s+WPsOWmguWwj+eoi+W6j+S4iuWPr+iDveayoeaciWFzc2VydFxyXG4gICAgICAgICAgICAvLyBpZihjb25zb2xlLmFzc2VydCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIC8vIHtcclxuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUuYXNzZXJ0ID0gZnVuY3Rpb24oYlJldCwgcylcclxuICAgICAgICAgICAgLy8gICAgIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBpZighKGJSZXQpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIEVSUk9SX01TRyhzKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNvbnN0IGVudW0gS0JFdmVudFR5cGVzIFxyXG4gICAge1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgYWNjb3VudC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHN0cmluZyk6IGFjY291bnROYW1lPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhieXRlcyk6IGRhdGFzIC8vIERhdGFzIGJ5IHVzZXIgZGVmaW5lZC4gRGF0YSB3aWxsIGJlIHJlY29yZGVkIGludG8gdGhlIEtCRSBhY2NvdW50IGRhdGFiYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgZGF0YXMgdGhyb3VnaCB0aGUgc2NyaXB0IGxheWVyLiBJZiB5b3UgdXNlIHRoaXJkLXBhcnR5IGFjY291bnQgc3lzdGVtLCBkYXRhcyB3aWxsIGJlIHN1Ym1pdHRlZCB0byB0aGUgdGhpcmQtcGFydHkgc3lzdGVtLjwvcGFyYT5cclxuICAgICAgICBjcmVhdGVBY2NvdW50ID0gXCJjcmVhdGVBY2NvdW50XCIsXHJcblxyXG4gICAgICAgIC8vIExvZ2luIHRvIHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHN0cmluZyk6IGFjY291bnROYW1lPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogcGFzc3dvcmQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhieXRlcyk6IGRhdGFzIC8vIERhdGFzIGJ5IHVzZXIgZGVmaW5lZC4gRGF0YSB3aWxsIGJlIHJlY29yZGVkIGludG8gdGhlIEtCRSBhY2NvdW50IGRhdGFiYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgZGF0YXMgdGhyb3VnaCB0aGUgc2NyaXB0IGxheWVyLiBJZiB5b3UgdXNlIHRoaXJkLXBhcnR5IGFjY291bnQgc3lzdGVtLCBkYXRhcyB3aWxsIGJlIHN1Ym1pdHRlZCB0byB0aGUgdGhpcmQtcGFydHkgc3lzdGVtLjwvcGFyYT5cclxuICAgICAgICBsb2dpbiA9IFwibG9naW5cIixcclxuXHJcbiAgICAgICAgLy8gTG9nb3V0IHRvIGJhc2VhcHAsIGNhbGxlZCB3aGVuIGV4aXRpbmcgdGhlIGNsaWVudC5cdFxyXG4gICAgICAgIGxvZ291dCA9IFwibG9nb3V0XCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gdG8gYmFzZWFwcC5cclxuICAgICAgICByZWxvZ2luQmFzZWFwcCA9IFwicmVsb2dpbkJhc2VhcHBcIixcclxuXHJcbiAgICAgICAgLy8gUmVxdWVzdCBzZXJ2ZXIgYmluZGluZyBhY2NvdW50IEVtYWlsLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogZW1haWxBZGRyZXNzPC9wYXJhPlxyXG4gICAgICAgIGJpbmRBY2NvdW50RW1haWwgPSBcImJpbmRBY2NvdW50RW1haWxcIixcclxuXHJcbiAgICAgICAgLy8gUmVxdWVzdCB0byBzZXQgdXAgYSBuZXcgcGFzc3dvcmQgZm9yIHRoZSBhY2NvdW50LiBOb3RlOiBhY2NvdW50IG11c3QgYmUgb25saW5lLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogb2xkX3Bhc3N3b3JkPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogbmV3X3Bhc3N3b3JkPC9wYXJhPlxyXG4gICAgICAgIG5ld1Bhc3N3b3JkID0gXCJuZXdQYXNzd29yZFwiLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3ov57mjqXnm7jlhbMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8gS2lja2VkIG9mIHRoZSBjdXJyZW50IHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJldGNvZGUuIC8vIHNlcnZlcl9lcnJvcnM8L3BhcmE+XHJcbiAgICAgICAgb25LaWNrZWQgPSBcIm9uS2lja2VkXCIsXHJcblxyXG4gICAgICAgIC8vIERpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgICAgb25EaXNjb25uZWN0ZWQgPSBcIm9uRGlzY29ubmVjdGVkXCIsXHJcblxyXG4gICAgICAgIC8vIFN0YXR1cyBvZiBjb25uZWN0aW9uIHNlcnZlci5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKGJvb2wpOiBzdWNjZXNzIG9yIGZhaWw8L3BhcmE+XHJcbiAgICAgICAgb25Db25uZWN0aW9uU3RhdGUgPSBcIm9uQ29ubmVjdGlvblN0YXRlXCIsXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWxvZ29u55u45YWzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhY2NvdW50IGZlZWRiYWNrIHJlc3VsdHMuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoYnl0ZXMpOiBkYXRhcy4gLy8gSWYgeW91IHVzZSB0aGlyZC1wYXJ0eSBhY2NvdW50IHN5c3RlbSwgdGhlIHN5c3RlbSBtYXkgZmlsbCBzb21lIG9mIHRoZSB0aGlyZC1wYXJ0eSBhZGRpdGlvbmFsIGRhdGFzLiA8L3BhcmE+XHJcbiAgICAgICAgb25DcmVhdGVBY2NvdW50UmVzdWx0ID0gXCJvbkNyZWF0ZUFjY291bnRSZXN1bHRcIixcclxuXHJcbiAgICAgICAgLy8gRW5naW5lIHZlcnNpb24gbWlzbWF0Y2guXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMShzdHJpbmcpOiBjbGllbnRWZXJzaW9uXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihzdHJpbmcpOiBzZXJ2ZXJWZXJzaW9uXHJcbiAgICAgICAgb25WZXJzaW9uTm90TWF0Y2ggPSBcIm9uVmVyc2lvbk5vdE1hdGNoXCIsXHJcblxyXG4gICAgICAgIC8vIHNjcmlwdCB2ZXJzaW9uIG1pc21hdGNoLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogY2xpZW50U2NyaXB0VmVyc2lvblxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTIoc3RyaW5nKTogc2VydmVyU2NyaXB0VmVyc2lvblxyXG4gICAgICAgIG9uU2NyaXB0VmVyc2lvbk5vdE1hdGNoID0gXCJvblNjcmlwdFZlcnNpb25Ob3RNYXRjaFwiLFxyXG5cclxuICAgICAgICAvLyBMb2dpbiBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uTG9naW5GYWlsZWQgPSBcIm9uTG9naW5GYWlsZWRcIixcclxuXHJcbiAgICAgICAgLy8gTG9naW4gdG8gYmFzZWFwcC5cclxuICAgICAgICBvbkxvZ2luQmFzZWFwcCA9IFwib25Mb2dpbkJhc2VhcHBcIixcclxuXHJcbiAgICAgICAgLy8gTG9naW4gYmFzZWFwcCBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uTG9naW5CYXNlYXBwRmFpbGVkID0gXCJvbkxvZ2luQmFzZWFwcEZhaWxlZFwiLFxyXG5cclxuICAgICAgICAvLyBSZWxvZ2luIHRvIGJhc2VhcHAuXHJcbiAgICAgICAgb25SZWxvZ2luQmFzZWFwcCA9IFwib25SZWxvZ2luQmFzZWFwcFwiLFxyXG5cclxuICAgICAgICAvLyBSZWxvZ2luIGJhc2VhcHAgc3VjY2Vzcy5cclxuICAgICAgICBvblJlbG9naW5CYXNlYXBwU3VjY2Vzc2Z1bGx5ID0gXCJvblJlbG9naW5CYXNlYXBwU3VjY2Vzc2Z1bGx5XCIsXHJcblxyXG4gICAgICAgIC8vIFJlbG9naW4gYmFzZWFwcCBmYWlsZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXRjb2RlLiAvLyBzZXJ2ZXJfZXJyb3JzPC9wYXJhPlxyXG4gICAgICAgIG9uUmVsb2dpbkJhc2VhcHBGYWlsZWQgPSBcIm9uUmVsb2dpbkJhc2VhcHBGYWlsZWRcIixcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5a6e5L2TY2VsbOebuOWFs+S6i+S7ti0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAvLyBFbnRpdHkgZW50ZXIgdGhlIGNsaWVudC13b3JsZC5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgb25FbnRlcldvcmxkID0gXCJvbkVudGVyV29ybGRcIixcclxuXHJcbiAgICAgICAgLy8gRW50aXR5IGxlYXZlIHRoZSBjbGllbnQtd29ybGQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIG9uTGVhdmVXb3JsZCA9IFwib25MZWF2ZVdvcmxkXCIsXHJcblxyXG4gICAgICAgIC8vIFBsYXllciBlbnRlciB0aGUgbmV3IHNwYWNlLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkVudGVyU3BhY2UgPSBcIm9uRW50ZXJTcGFjZVwiLFxyXG5cclxuICAgICAgICAvLyBQbGF5ZXIgbGVhdmUgdGhlIHNwYWNlLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICBvbkxlYXZlU3BhY2UgPSBcIm9uTGVhdmVTcGFjZVwiLFxyXG5cclxuICAgICAgICAvLyBTZXRzIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBlbnRpdHkuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHNldF9wb3NpdGlvbiA9IFwic2V0X3Bvc2l0aW9uXCIsXHJcblxyXG4gICAgICAgIC8vIFNldHMgdGhlIGN1cnJlbnQgZGlyZWN0aW9uIG9mIHRoZSBlbnRpdHkuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHNldF9kaXJlY3Rpb24gPSBcInNldF9kaXJlY3Rpb25cIixcclxuXHJcbiAgICAgICAgLy8gVGhlIGVudGl0eSBwb3NpdGlvbiBpcyB1cGRhdGVkLCB5b3UgY2FuIHNtb290aCB0aGUgbW92aW5nIGVudGl0eSB0byBuZXcgbG9jYXRpb24uXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMTogRW50aXR5PC9wYXJhPlxyXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uID0gXCJ1cGRhdGVQb3NpdGlvblwiLFxyXG5cclxuICAgICAgICAvLyBUaGUgY3VycmVudCBzcGFjZSBpcyBzcGVjaWZpZWQgYnkgdGhlIGdlb21ldHJ5IG1hcHBpbmcuXHJcbiAgICAgICAgLy8gUG9wdWxhciBzYWlkIGlzIHRvIGxvYWQgdGhlIHNwZWNpZmllZCBNYXAgUmVzb3VyY2VzLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoc3RyaW5nKTogcmVzUGF0aDwvcGFyYT5cclxuICAgICAgICBhZGRTcGFjZUdlb21ldHJ5TWFwcGluZyA9IFwiYWRkU3BhY2VHZW9tZXRyeU1hcHBpbmdcIixcclxuXHJcbiAgICAgICAgLy8gU2VydmVyIHNwYWNlRGF0YSBzZXQgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKGludDMyKTogc3BhY2VJRDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHN0cmluZyk6IGtleTwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0zKHN0cmluZyk6IHZhbHVlPC9wYXJhPlxyXG4gICAgICAgIG9uU2V0U3BhY2VEYXRhID0gXCJvblNldFNwYWNlRGF0YVwiLFxyXG5cclxuICAgICAgICAvLyBTdGFydCBkb3dubG9hZGluZyBkYXRhLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTEoaW50MzIpOiByc3BhY2VJRDwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKHN0cmluZyk6IGtleTwvcGFyYT5cclxuICAgICAgICBvbkRlbFNwYWNlRGF0YSA9IFwib25EZWxTcGFjZURhdGFcIixcclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIGVudGl0eSBpcyBjb250cm9sbGVkIG9yIG91dCBvZiBjb250cm9sLlxyXG4gICAgICAgIC8vIDxwYXJhPiBwYXJhbTE6IEVudGl0eTwvcGFyYT5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0yKGJvb2wpOiBpc0NvbnRyb2xsZWQ8L3BhcmE+XHJcbiAgICAgICAgb25Db250cm9sbGVkID0gXCJvbkNvbnRyb2xsZWRcIixcclxuXHJcbiAgICAgICAgLy8gTG9zZSBjb250cm9sbGVkIGVudGl0eS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xOiBFbnRpdHk8L3BhcmE+XHJcbiAgICAgICAgb25Mb3NlQ29udHJvbGxlZEVudGl0eSA9IFwib25Mb3NlQ29udHJvbGxlZEVudGl0eVwiLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3mlbDmja7kuIvovb3nm7jlhbMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8gU3RhcnQgZG93bmxvYWRpbmcgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJlc291Y2UgaWQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMih1aW50MzIpOiBkYXRhIHNpemU8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMyhzdHJpbmcpOiBkZXNjcmlwdGlvbjwvcGFyYT5cclxuICAgICAgICBvblN0cmVhbURhdGFTdGFydGVkID0gXCJvblN0cmVhbURhdGFTdGFydGVkXCIsXHJcblxyXG4gICAgICAgIC8vIFJlY2VpdmUgZGF0YS5cclxuICAgICAgICAvLyA8cGFyYT4gcGFyYW0xKHVpbnQxNik6IHJlc291Y2UgaWQ8L3BhcmE+XHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMihieXRlcyk6IGRhdGFzPC9wYXJhPlxyXG4gICAgICAgIG9uU3RyZWFtRGF0YVJlY3YgPSBcIm9uU3RyZWFtRGF0YVJlY3ZcIixcclxuXHJcbiAgICAgICAgLy8gVGhlIGRvd25sb2FkZWQgZGF0YSBpcyBjb21wbGV0ZWQuXHJcbiAgICAgICAgLy8gPHBhcmE+IHBhcmFtMSh1aW50MTYpOiByZXNvdWNlIGlkPC9wYXJhPlxyXG4gICAgICAgIG9uU3RyZWFtRGF0YUNvbXBsZXRlZCA9IFwib25TdHJlYW1EYXRhQ29tcGxldGVkXCIsXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgRXZlbnRJbmZvXHJcbiAgICB7XHJcbiAgICAgICAgcmVhZG9ubHkgY2xhc3NpbnN0IDogYW55IDtcclxuICAgICAgICByZWFkb25seSBjYWxsYmFja2ZuIDogRnVuY3Rpb24gO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihjbGFzc2luc3Q6IGFueSwgY2FsbGJhY2tmbiA6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NpbnN0ID0gY2xhc3NpbnN0O1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrZm4gPSBjYWxsYmFja2ZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBGaXJlZEV2ZW50XHJcbiAgICB7XHJcbiAgICAgICAgcmVhZG9ubHkgZXZ0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHJlYWRvbmx5IGV2dEluZm86IEV2ZW50SW5mbztcclxuICAgICAgICByZWFkb25seSBhcmdzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGV2dE5hbWU6IHN0cmluZywgZXZ0SW5mbzogRXZlbnRJbmZvLCBhcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldnROYW1lID0gZXZ0TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5ldnRJbmZvID0gZXZ0SW5mbztcclxuICAgICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEtCRXZlbnRcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyAgX2V2ZW50czogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgIF9pc1BhdXNlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2ZpcmVkRXZlbnRzOiBBcnJheTxGaXJlZEV2ZW50PiA9IFtdO1xyXG5cclxuICAgICAgICBzdGF0aWMgcmVnaXN0ZXIoZXZ0TmFtZTogc3RyaW5nLCBjbGFzc2luc3Q6IGFueSwgc3RyQ2FsbGJhY2s6IHN0cmluZyk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBjYWxsYmFja2ZuID0gY2xhc3NpbnN0W3N0ckNhbGxiYWNrXTtcclxuXHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrZm4gPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKCdLQkVuZ2luZS5LQkV2ZW50OjpmaXJlOiBub3QgZm91bmQgc3RyQ2FsbGJhY2soJyArIGNsYXNzaW5zdCAgKyBcIikhXCIrc3RyQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZXZ0bHN0ID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdOyAgXHJcbiAgICAgICAgICAgIGlmKGV2dGxzdCA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGV2dGxzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2dE5hbWVdID0gZXZ0bHN0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IG5ldyBFdmVudEluZm8oY2xhc3NpbnN0LCBjYWxsYmFja2ZuKTtcclxuICAgICAgICAgICAgZXZ0bHN0LnB1c2goaW5mbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZGVyZWdpc3RlckFsbChjbGFzc2luc3Q6IGFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaXRlbWtleSBpbiB0aGlzLl9ldmVudHMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVyZWdpc3RlcihpdGVta2V5LCBjbGFzc2luc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZGVyZWdpc3RlcihldnROYW1lOiBzdHJpbmcsIGNsYXNzaW5zdDogYW55KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGV2dGxzdDogQXJyYXk8RXZlbnRJbmZvPiA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcclxuICAgICAgICAgICAgaWYoZXZ0bHN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIktCRXZlbnQ6OmRlcmVnaXN0ZXI6Y2FudCBmaW5kIGV2ZW50IGJ5IG5hbWUoJXMpLlwiLCBldnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2hpbGUodHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxldnRsc3QubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBldnRsc3RbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5mby5jbGFzc2luc3QgPT0gY2xhc3NpbnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0bHN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCFmb3VuZClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGaXJlZEV2ZW50KGV2dE5hbWUsIGNsYXNzaW5zdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZmlyZShldnROYW1lOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZXZ0bHN0OiBBcnJheTxFdmVudEluZm8+ID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdO1xyXG4gICAgICAgICAgICBpZihldnRsc3QgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiS0JFdmVudDo6RmlyZTpjYW50IGZpbmQgZXZlbnQgYnkgbmFtZSglcykuXCIsIGV2dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGluZm8gb2YgZXZ0bHN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5faXNQYXVzZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uY2FsbGJhY2tmbi5hcHBseShpbmZvLmNsYXNzaW5zdCwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpcmVkRXZlbnQgPSBuZXcgRmlyZWRFdmVudChldnROYW1lLCBpbmZvLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlZEV2ZW50cy5wdXNoKGZpcmVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIktCRXZlbnQ6OkZpcmUoJXMpOiVzXCIsIGV2dE5hbWUsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcGF1c2UoKTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5faXNQYXVzZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcmVzdW1lKCk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzUGF1c2UgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaXJlZEV2ZW50czogQXJyYXk8RmlyZWRFdmVudD4gPSB0aGlzLl9maXJlZEV2ZW50cztcclxuICAgICAgICAgICAgRGJnLklORk9fTVNHKFwicmVzdW1lXCIpO1xyXG4gICAgICAgICAgICB3aGlsZShmaXJlZEV2ZW50cy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZ0ID0gZmlyZWRFdmVudHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmZvID0gZXZ0LmV2dEluZm87XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGV2dC5hcmdzO1xyXG4gICAgICAgICAgICAgICAgRGJnLklORk9fTVNHKFwicmVzdW1lIGV2dG5hbWU6IFwiICsgZXZ0LmV2dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYoYXJncy5sZW5ndGggPCAxKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8uY2FsbGJhY2tmbi5hcHBseShpbmZvLmNsYXNzaW5zdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5jYWxsYmFja2ZuLmFwcGx5KGluZm8uY2xhc3NpbnN0LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHJlbW92ZUFsbEZpcmVkRXZlbnQoY2xhc3NpbnN0OiBhbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZpcmVkRXZlbnQoXCJcIiwgY2xhc3NpbnN0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyByZW1vdmVGaXJlZEV2ZW50KGV2dE5hbWU6IHN0cmluZywgY2xhc3NpbnN0OiBhbnkpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZmlyZWRFdmVudHM6QXJyYXk8RmlyZWRFdmVudD4gPSB0aGlzLl9maXJlZEV2ZW50cztcclxuICAgICAgICAgICAgd2hpbGUodHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxmaXJlZEV2ZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZ0ID0gZmlyZWRFdmVudHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKGV2dE5hbWUgPT0gXCJcIiB8fCBldnQuZXZ0TmFtZSA9PSBldnROYW1lKSAmJiBldnQuZXZ0SW5mby5jbGFzc2luc3QgPT0gY2xhc3NpbnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWRFdmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZighZm91bmQpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEtCRW5naW5lQXJnc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBhZGRyZXNzOiBzdHJpbmcgPSBcIjEyNy4wLjAuMVwiO1xyXG4gICAgICAgIHB1YmxpYyBwb3J0OiBudW1iZXIgPSAyMDAxMztcclxuICAgICAgICBwdWJsaWMgc2VydmVySGVhcnRiZWF0VGljazogbnVtYmVyID0gMTAwO1xyXG4gICAgICAgIHB1YmxpYyBjbGllbnRUeXBlOiBudW1iZXIgPSA1O1xyXG4gICAgICAgIHB1YmxpYyBpc09uSW5pdENhbGxQcm9wZXJ0eXNTZXRNZXRob2RzOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICBwdWJsaWMgaXNXc3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBOZXR3b3JrSW50ZXJmYWNlXHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBzb2NrZXQ6IFdlYlNvY2tldCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBwcml2YXRlIG9uT3BlbkNCOiBGdW5jdGlvbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgcHVibGljIGNvbm5lY3RUbyhhZGRyOiBzdHJpbmcsIGNhbGxiYWNrRnVuYz86IChldmVudDpFdmVudCk9PmFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoYWRkcik7XHJcbiAgICAgICAgICAgICAgICBEYmcuRVJST1JfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6Y29ubmVjdFRvOkluaXQgc29ja2V0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoKGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIERiZy5FUlJPUl9NU0coXCJOZXR3b3JrSW50ZXJmYWNlOjpjb25uZWN0VG86SW5pdCBzb2NrZXQgZXJyb3I6XCIgKyBlKTtcclxuICAgICAgICAgICAgICAgIEtCRXZlbnQuZmlyZShcIm9uQ29ubmVjdGlvblN0YXRlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uY2xvc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9ub3BlbjtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2tGdW5jKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbkNCID0gY2FsbGJhY2tGdW5jO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbG9zZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VuZChidWZmZXI6IEFycmF5QnVmZmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9ub3BlbiA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRGJnLkVSUk9SX01TRyhcIk5ldHdvcmtJbnRlcmZhY2U6Om9ub3BlbjpzdWNjZXNzIVwiKTtcclxuICAgICAgICAgICAgaWYodGhpcy5vbk9wZW5DQilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW5DQihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbkNCID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcHJpdmF0ZSBvbmVycm9yID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBLQkVEZWJ1Zy5ERUJVR19NU0coXCJOZXR3b3JrSW50ZXJmYWNlOjpvbmVycm9yOi4uLiFcIik7XHJcbiAgICAgICAgICAgIC8vIEtCRUV2ZW50LkZpcmUoXCJvbk5ldHdvcmtFcnJvclwiLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9ubWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uY2xvc2UgPSAoKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gS0JFRGVidWcuREVCVUdfTVNHKFwiTmV0d29ya0ludGVyZmFjZTo6b25jbG9zZTouLi4hXCIpO1xyXG4gICAgICAgICAgICAvLyBLQkVFdmVudC5GaXJlKFwib25EaXNjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBLQkVuZ2luZUFwcFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYXBwOiBLQkVuZ2luZUFwcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBwcml2YXRlIG5ldHdvcmtJbnRlcmZhY2U6IE5ldHdvcmtJbnRlcmZhY2UgID0gbmV3IE5ldHdvcmtJbnRlcmZhY2UoKTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhcmdzOiBLQkVuZ2luZUFyZ3M7XHJcbiAgICBcclxuICAgICAgICBwcml2YXRlIHVzZXJuYW1lOiBzdHJpbmcgPSBcInRlc3RcIjtcclxuICAgICAgICBwcml2YXRlIHBhc3N3b3JkOiBzdHJpbmcgPSBcIjEyMzQ1NlwiO1xyXG4gICAgICAgIHByaXZhdGUgY2xpZW50ZGF0YXM6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSgwKTtcclxuICAgICAgICBwcml2YXRlIGVuY3J5cHRlZEtleTogc3RyaW5nID0gXCJcIjtcclxuICAgIFxyXG4gICAgICAgIHByaXZhdGUgbG9naW5hcHBNZXNzYWdlSW1wb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIGJhc2VhcHBNZXNzYWdlSW1wb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHNlcnZlckVycm9yc0Rlc2NySW1wb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIGVudGl0eWRlZkltcG9ydGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAvLyDnmbvlvZVsb2dpbmFwcOeahOWcsOWdgFxyXG4gICAgICAgIHByaXZhdGUgc2VydmVyQWRkcmVzczogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwcml2YXRlIHBvcnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g5pyN5Yqh56uv5YiG6YWN55qEYmFzZWFwcOWcsOWdgFxyXG4gICAgICAgIHB1YmxpYyBiYXNlYXBwQWRkcmVzczogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgYmFzZWFwcFBvcnQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIHByaXZhdGUgaXNXc3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHByb3RvY29sOiBzdHJpbmcgPSBcIndzOi8vXCI7XHJcblxyXG4gICAgICAgIC8vIOW9k+WJjeeKtuaAgVxyXG4gICAgICAgIHB1YmxpYyBjdXJyc2VydmVyOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBjdXJyc3RhdGU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIGN1cnJjb25uZWN0OiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyDmianlsZXmlbDmja5cclxuICAgICAgICBwdWJsaWMgc2VydmVyZGF0YXM6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIOeJiOacrOS/oeaBr1xyXG4gICAgICAgIHB1YmxpYyBzZXJ2ZXJWZXJzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBzZXJ2ZXJTY3JpcHRWZXJzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBzZXJ2ZXJQcm90b2NvbE1ENTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgc2VydmVyRW50aXR5RGVmTUQ1OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBjbGllbnRWZXJzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBjbGllbnRTY3JpcHRWZXJzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBwbGF5ZXLnmoTnm7jlhbPkv6Hmga9cclxuICAgICAgICBwcml2YXRlIGVudGl0eV9pZDogbnVtYmVyID0gMDtcclxuICAgICAgICAvL3ByaXZhdGUgZW50aXR5X3V1aWQ6IERhdGFUeXBlcy5VSU5UNjQ7XHJcbiAgICAgICAgcHJpdmF0ZSBlbnRpdHlfdHlwZTogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBjb250cm9sbGVkRW50aXRpZXM6IEFycmF5PEVudGl0eT4gPSBuZXcgQXJyYXk8RW50aXR5PigpO1xyXG4gICAgICAgIC8vIHByaXZhdGUgZW50aXR5SURBbGlhc0lETGlzdDogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcblxyXG4gICAgICAgIC8vIC8vIOi/meS4quWPguaVsOeahOmAieaLqeW/hemhu+S4jmtiZW5naW5lX2RlZnMueG1sOjpjZWxsYXBwL2FsaWFzRW50aXR5SUTnmoTlj4LmlbDkv53mjIHkuIDoh7RcclxuICAgICAgICAvLyB1c2VBbGlhc0VudGl0eUlEID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBpc09uSW5pdENhbGxQcm9wZXJ0eXNTZXRNZXRob2RzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gLy8g5b2T5YmN546p5a625pyA5ZCO5LiA5qyh5ZCM5q2l5Yiw5pyN5Yqh56uv55qE5L2N572u5LiO5pyd5ZCR5LiO5pyN5Yqh56uv5pyA5ZCO5LiA5qyh5ZCM5q2l6L+H5p2l55qE5L2N572uXHJcbiAgICAgICAgLy8gZW50aXR5U2VydmVyUG9zID0gbmV3IEtCRU1hdGguVmVjdG9yMygwLjAsIDAuMCwgMC4wKTtcclxuXHJcbiAgICAgICAgLy8g5a6i5oi356uv5omA5pyJ55qE5a6e5L2TXHJcblx0XHQvLyBLQkVuZ2luZS5hcHAuZW50aXRpZXMgPSB7fTtcclxuXHRcdC8vIEtCRW5naW5lLmFwcC5lbnRpdHlJREFsaWFzSURMaXN0ID0gW107XHJcblx0XHQvLyBLQkVuZ2luZS5hcHAuY29udHJvbGxlZEVudGl0aWVzID0gW107XHJcblxyXG4gICAgICAgIC8vIHNwYWNlZGF0YToge1trZXk6c3RyaW5nXTogc3RyaW5nfSA9IHt9O1xyXG4gICAgICAgIC8vIHNwYWNlSUQgPSAwO1xyXG4gICAgICAgIC8vIHNwYWNlUmVzUGF0aCA9IFwiXCI7XHJcbiAgICAgICAgLy8gaXNMb2FkZWRHZW9tZXRyeSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBsYXN0VGlja1RpbWVcclxuICAgICAgICAvLyBsYXN0VGlja0NCVGltZVxyXG5cclxuICAgICAgICAvLyDmjInnhafmoIflh4bvvIzmr4/kuKrlrqLmiLfnq6/pg6jliIbpg73lupTor6XljIXlkKvov5nkuKrlsZ7mgKdcclxuICAgICAgICBwdWJsaWMgY29tcG9uZW50OiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihhcmdzOiBLQkVuZ2luZUFyZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEYmcuQVNTRVJUKEtCRW5naW5lQXBwLmFwcCA9PT0gdW5kZWZpbmVkLCBcIktCRW5naW5lQXBwOjpjb25zdHJ1Y3RvcjpzaW5nbGV0b24gS0JFbmdpbmVBcHAuX2FwcCBtdXN0IGJlIHVuZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZShhcmdzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXRTaW5nbGV0b24oKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoS0JFbmdpbmVBcHAuYXBwID09IHVuZGVmaW5lZClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjcmVhdGUgS0JFbmdpbmVBcHAhXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gS0JFbmdpbmVBcHAuYXBwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGluaXRpYWxpemUoYXJnczogS0JFbmdpbmVBcmdzKTogYm9vbGVhblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJBZGRyZXNzID0gYXJncy5hZGRyZXNzO1xyXG4gICAgICAgICAgICB0aGlzLnBvcnQgPSBhcmdzLnBvcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuaXNXc3MgPSBhcmdzLmlzV3NzO1xyXG4gICAgICAgICAgICB0aGlzLnByb3RvY29sID0gYXJncy5pc1dzcyA/IFwid3NzOi8vXCIgOiBcIndzOi8vXCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXROZXR3b3JrKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEV2ZW50cygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluaXROZXR3b3JrKCk6IHZvaWRcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFsbEV2ZW50cygpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBLQkV2ZW50LnJlZ2lzdGVyKEtCRXZlbnRUeXBlcy5sb2dpbiwgS0JFbmdpbmVBcHAuYXBwLCBcImxvZ2luXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzZXRTb2NrZXQoKTogdm9pZFxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXNldCgpOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBpZihLQkVuZ2luZUFwcC5hcHAuZW50aXRpZXMgIT0gdW5kZWZpbmVkICYmIEtCRW5naW5lQXBwLmFwcC5lbnRpdGllcyAhPSBudWxsKVxyXG4gICAgICAgICAgICAvLyB7XHJcbiAgICAgICAgICAgIC8vICAgICBLQkVuZ2luZUFwcC5hcHAuY2xlYXJFbnRpdGllcyh0cnVlKTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cdFx0XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5yZXNldFNvY2tldCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmN1cnJzZXJ2ZXIgPSBcImxvZ2luYXBwXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5jdXJyc3RhdGUgPSBcImNyZWF0ZVwiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY3VycmNvbm5lY3QgPSBcImxvZ2luYXBwXCI7XHJcblxyXG4gICAgICAgICAgICAvLyDmianlsZXmlbDmja5cclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnNlcnZlcmRhdGFzID0gXCJcIjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIOeJiOacrOS/oeaBr1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuc2VydmVyVmVyc2lvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJTY3JpcHRWZXJzaW9uID0gXCJcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnNlcnZlclByb3RvY29sTUQ1ID0gXCJcIjtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnNlcnZlckVudGl0eURlZk1ENSA9IFwiXCI7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5jbGllbnRWZXJzaW9uID0gXCIxLjIuN1wiO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY2xpZW50U2NyaXB0VmVyc2lvbiA9IFwiMC4xLjBcIjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIC8vIHBsYXllcueahOebuOWFs+S/oeaBr1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuZW50aXR5X3V1aWQgPSBudWxsO1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuZW50aXR5X2lkID0gMDtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eV90eXBlID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIOi/meS4quWPguaVsOeahOmAieaLqeW/hemhu+S4jmtiZW5naW5lX2RlZnMueG1sOjpjZWxsYXBwL2FsaWFzRW50aXR5SUTnmoTlj4LmlbDkv53mjIHkuIDoh7RcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLnVzZUFsaWFzRW50aXR5SUQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gLy8g5b2T5YmN546p5a625pyA5ZCO5LiA5qyh5ZCM5q2l5Yiw5pyN5Yqh56uv55qE5L2N572u5LiO5pyd5ZCR5LiO5pyN5Yqh56uv5pyA5ZCO5LiA5qyh5ZCM5q2l6L+H5p2l55qE5L2N572uXHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5lbnRpdHlTZXJ2ZXJQb3MgPSBuZXcgS0JFbmdpbmUuVmVjdG9yMygwLjAsIDAuMCwgMC4wKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIC8vIOWuouaIt+err+aJgOacieeahOWunuS9k1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuZW50aXRpZXMgPSB7fTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmVudGl0eUlEQWxpYXNJRExpc3QgPSBbXTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmNvbnRyb2xsZWRFbnRpdGllcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gLy8g56m66Ze055qE5L+h5oGvXHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lQXBwLmFwcC5zcGFjZWRhdGEgPSB7fTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLnNwYWNlSUQgPSAwO1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAuc3BhY2VSZXNQYXRoID0gXCJcIjtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmlzTG9hZGVkR2VvbWV0cnkgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlT2JqZWN0ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgLy8gS0JFbmdpbmVBcHAuYXBwLmxhc3RUaWNrVGltZSA9IGRhdGVPYmplY3QuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAvLyBLQkVuZ2luZUFwcC5hcHAubGFzdFRpY2tDQlRpbWUgPSBkYXRlT2JqZWN0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEtCRW5naW5lLm1hcHBpbmdEYXRhVHlwZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g5b2T5YmN57uE5Lu257G75Yir77yMIOmFjeWll+acjeWKoeerr+S9k+ezu1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY29tcG9uZW50ID0gXCJjbGllbnRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldFNlcnZlckFkZHIoaXA6IHN0cmluZywgcG9ydDogbnVtYmVyKTogc3RyaW5nXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc2VydmVyQWRkciA9IEtCRW5naW5lQXBwLmFwcC5wcm90b2NvbCArIGlwO1xyXG4gICAgICAgICAgICBpZihwb3J0ICE9IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNlcnZlckFkZHIgKz0gXCI6XCIgKyBwb3J0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VydmVyQWRkcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvZ2luKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIGRhdGFzOmFueSk6IHZvaWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5yZXNldCgpO1xyXG4gICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAudXNlcm5hbWUgPSB1c2VybmFtZTtcclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLnBhc3N3b3JkID0gcGFzc3dvcmQ7XHJcbiAgICAgICAgICAgIEtCRW5naW5lQXBwLmFwcC5jbGllbnRkYXRhcyA9IGRhdGFzO1xyXG5cclxuICAgICAgICAgICAgS0JFbmdpbmVBcHAuYXBwLmxvZ2luX2xvZ2luYXBwKHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2dpbl9sb2dpbmFwcChub2Nvbm5lY3Q6IGJvb2xlYW4pOiB2b2lkXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihub2Nvbm5lY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJBZGRyID0gdGhpcy5nZXRTZXJ2ZXJBZGRyKEtCRW5naW5lQXBwLmFwcC5zZXJ2ZXJBZGRyZXNzLCBLQkVuZ2luZUFwcC5hcHAucG9ydCk7XHJcbiAgICAgICAgICAgICAgICBEYmcuSU5GT19NU0coXCJLQkVuZ2luZUFwcDo6bG9naW5fbG9naW5hcHA6IHN0YXJ0IGNvbm5lY3QgdG8gXCIgKyBzZXJ2ZXJBZGRyICsgXCIhXCIpXHJcbiAgICAgICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAuY3VycmNvbm5lY3QgPSBcImxvZ2luYXBwXCI7XHJcbiAgICAgICAgICAgICAgICBLQkVuZ2luZUFwcC5hcHAubmV0d29ya0ludGVyZmFjZS5jb25uZWN0VG8oc2VydmVyQWRkciwgKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHRoaXMub25PcGVuTG9naW5hcHBfbG9naW4oZXZlbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgb25PcGVuTG9naW5hcHBfbG9naW4oZXZlbnQ6IE1lc3NhZ2VFdmVudCkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEYmcuREVCVUdfTVNHKFwiS0JFbmdpbmVBcHA6Om9uT3BlbkxvZ2luYXBwX2xvZ2luOnN1Y2Nlc3MgdG8gJXMuXCIsIHRoaXMuc2VydmVyQWRkcmVzcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJzZXJ2ZXIgPSBcImxvZ2luYXBwXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycnN0YXRlID0gXCJsb2dpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiDlrZDlvLnohJrmnKzvvIzlrp7njrDlrZDlvLnpo57ooYzpgLvovpHlj4rlr7nosaHmsaDlm57mlLbmnLrliLZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/orr7nva7liJ3lp4vpgJ/luqZcclxuICAgICAgICB2YXIgcmlnOiBMYXlhLlJpZ2lkQm9keSA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICByaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAtMTAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAvL+WmguaenOiiq+eisOWIsO+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5aaC5p6c5a2Q5by56LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5a2Q5by5XHJcbiAgICAgICAgaWYgKCh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS55IDwgLTEwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/lrZDlvLnooqvnp7vpmaTml7bvvIzlm57mlLblrZDlvLnliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIBcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImJ1bGxldFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcbi8qKlxyXG4gKiDmjonokL3nm5LlrZDohJrmnKzvvIzlrp7njrDnm5LlrZDnorDmkp7lj4rlm57mlLbmtYHnqItcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyb3BCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKirnm5LlrZDnrYnnuqcgKi9cclxuICAgIGxldmVsOiBudW1iZXIgPSAxO1xyXG4gICAgLyoq562J57qn5paH5pys5a+56LGh5byV55SoICovXHJcbiAgICBwcml2YXRlIF90ZXh0OiBMYXlhLlRleHQ7XHJcbiAgICAvKirliJrkvZPlr7nosaHlvJXnlKggKi9cclxuICAgIHByaXZhdGUgX3JpZzogTGF5YS5SaWdpZEJvZHlcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMubGV2ZWwgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFR4dFwiKSBhcyBMYXlhLlRleHQ7XHJcbiAgICAgICAgdGhpcy5fdGV4dC50ZXh0ID0gdGhpcy5sZXZlbCArIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/orqnmjIHnu63nm5LlrZDml4vovaxcclxuICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkucm90YXRpb24rKztcclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlcjogYW55LCBzZWxmOiBhbnksIGNvbnRhY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHZhciBvd25lcjogTGF5YS5TcHJpdGUgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJidXR0bGVcIikge1xyXG4gICAgICAgICAgICAvL+eisOaSnuWIsOWtkOW8ueWQju+8jOWinuWKoOenr+WIhu+8jOaSreaUvuWjsOmfs+eJueaViFxyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQuY2hhbmdlVGV4dCh0aGlzLmxldmVsICsgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBvd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvaGl0LndhdlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChvd25lci5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWZmZWN0OiBMYXlhLkFuaW1hdGlvbiA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJlZmZlY3RcIiwgdGhpcy5jcmVhdGVFZmZlY3QsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wb3Mob3duZXIueCwgb3duZXIueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXIucGFyZW50LmFkZENoaWxkKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LnBsYXkoMCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2Rlc3Ryb3kud2F2XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5hZGRTY29yZSgxKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG90aGVyLmxhYmVsID09PSBcImdyb3VuZFwiKSB7XHJcbiAgICAgICAgICAgIC8v5Y+q6KaB5pyJ5LiA5Liq55uS5a2Q56Kw5Yiw5Zyw5p2/77yM5YiZ5YGc5q2i5ri45oiPXHJcbiAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLnN0b3BHYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuS9v+eUqOWvueixoeaxoOWIm+W7uueIhueCuOWKqOeUuyAqL1xyXG4gICAgY3JlYXRlRWZmZWN0KCk6IExheWEuQW5pbWF0aW9uIHtcclxuICAgICAgICBsZXQgYW5pOiBMYXlhLkFuaW1hdGlvbiA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwidGVzdC90ZXN0QW5pLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QTEVURSwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpOiB2b2lkIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJlZmZlY3RcIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImRyb3BCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vRHJvcEJveFwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG4vKipcclxuICog5ri45oiP5o6n5Yi26ISa5pys44CC5a6a5LmJ5LqG5Yeg5LiqZHJvcEJveO+8jGJ1bGxldO+8jGNyZWF0ZUJveEludGVydmFs562J5Y+Y6YeP77yM6IO95aSf5ZyoSURF5pi+56S65Y+K6K6+572u6K+l5Y+Y6YePXHJcbiAqIOabtOWkmuexu+Wei+WumuS5ie+8jOivt+WPguiAg+WumOaWueaWh+aho1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6ZHJvcEJveCx0aXBzOlwi5o6J6JC95a655Zmo6aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIGRyb3BCb3g6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmJ1bGxldCx0aXBzOlwi5a2Q5by56aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIGJ1bGxldDogTGF5YS5QcmVmYWI7XHJcbiAgICAvKiogQHByb3Age25hbWU6Y3JlYXRlQm94SW50ZXJ2YWwsdGlwczpcIumXtOmalOWkmuWwkeavq+enkuWIm+W7uuS4gOS4quS4i+i3jOeahOWuueWZqFwiLHR5cGU6aW50LGRlZmF1bHQ6MTAwMH0qL1xyXG4gICAgY3JlYXRlQm94SW50ZXJ2YWw6IG51bWJlciA9IDEwMDA7XHJcbiAgICAvKirlvIDlp4vml7bpl7QqL1xyXG4gICAgcHJpdmF0ZSBfdGltZTogbnVtYmVyID0gMDtcclxuICAgIC8qKuaYr+WQpuW3sue7j+W8gOWni+a4uOaIjyAqL1xyXG4gICAgcHJpdmF0ZSBfc3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoq5a2Q5by55ZKM55uS5a2Q5omA5Zyo55qE5a655Zmo5a+56LGhICovXHJcbiAgICBwcml2YXRlIF9nYW1lQm94OiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3ggPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiZ2FtZUJveFwiKSBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5q+P6Ze06ZqU5LiA5q615pe26Ze05Yib5bu65LiA5Liq55uS5a2QXHJcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuX3RpbWUgPiB0aGlzLmNyZWF0ZUJveEludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJveCgpOiB2b2lkIHtcclxuICAgICAgICAvL+S9v+eUqOWvueixoeaxoOWIm+W7uuebkuWtkFxyXG4gICAgICAgIGxldCBib3g6IExheWEuU3ByaXRlID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImRyb3BCb3hcIiwgdGhpcy5kcm9wQm94LmNyZWF0ZSwgdGhpcy5kcm9wQm94KTtcclxuICAgICAgICBib3gucG9zKE1hdGgucmFuZG9tKCkgKiAoTGF5YS5zdGFnZS53aWR0aCAtIDEwMCksIC0xMDApO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guYWRkQ2hpbGQoYm94KTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YWdlQ2xpY2soZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvL+iInuWPsOiiq+eCueWHu+WQju+8jOS9v+eUqOWvueixoeaxoOWIm+W7uuWtkOW8uVxyXG4gICAgICAgIGxldCBmbHllcjogTGF5YS5TcHJpdGUgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiYnVsbGV0XCIsIHRoaXMuYnVsbGV0LmNyZWF0ZSwgdGhpcy5idWxsZXQpO1xyXG4gICAgICAgIGZseWVyLnBvcyhMYXlhLnN0YWdlLm1vdXNlWCwgTGF5YS5zdGFnZS5tb3VzZVkpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guYWRkQ2hpbGQoZmx5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuW8gOWni+a4uOaIj++8jOmAmui/h+a/gOa0u+acrOiEmuacrOaWueW8j+W8gOWni+a4uOaIjyovXHJcbiAgICBzdGFydEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirnu5PmnZ/muLjmiI/vvIzpgJrov4fpnZ7mv4DmtLvmnKzohJrmnKzlgZzmraLmuLjmiI8gKi9cclxuICAgIHN0b3BHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJveEludGVydmFsID0gMTAwMDtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LnJlbW92ZUNoaWxkcmVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxyXG5pbXBvcnQge0tCRW5naW5lfSBmcm9tIFwiLi4va2JlbmdpbmVfdHNfcGx1Z2lucy9LQkVuZ2luZVwiXHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIC8qKuiuvue9ruWNleS+i+eahOW8leeUqOaWueW8j++8jOaWueS+v+WFtuS7luexu+W8leeUqCAqL1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBHYW1lVUk7XHJcbiAgICAvKirlvZPliY3muLjmiI/np6/liIblrZfmrrUgKi9cclxuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXI7XHJcbiAgICAvKirmuLjmiI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIAgKi9cclxuICAgIHByaXZhdGUgX2NvbnRyb2w6IEdhbWVDb250cm9sO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAvL+WFs+mXreWkmueCueinpuaOp++8jOWQpuWImeWwseaXoOaVjOS6hlxyXG4gICAgICAgIExheWEuTW91c2VNYW5hZ2VyLm11bHRpVG91Y2hFbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbCA9IHRoaXMuZ2V0Q29tcG9uZW50KEdhbWVDb250cm9sKTtcclxuICAgICAgICAvL+eCueWHu+aPkOekuuaWh+Wtl++8jOW8gOWni+a4uOaIj1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uVGlwQ2xpY2spO1xyXG5cclxuICAgICAgICBsZXQgYXJncyA9IG5ldyBLQkVuZ2luZS5LQkVuZ2luZUFyZ3MoKTsgXHJcbiAgICAgICAgYXJncy5hZGRyZXNzID0gXCIxMjcuMC4wLjFcIjtcclxuICAgICAgICBhcmdzLnBvcnQgPSAyMDAxMztcclxuICAgICAgICBsZXQgYXBwID0gbmV3IEtCRW5naW5lLktCRW5naW5lQXBwKGFyZ3MpO1xyXG4gICAgICAgIEtCRW5naW5lLktCRXZlbnQuZmlyZShcImxvZ2luXCIsIFwibG9naW5OYW1lXCIsIFwiMTIzNDU2XCIsIFwiXCIpOyAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25UaXBDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC50ZXh0ID0gXCJcIjtcclxuICAgICAgICB0aGlzLl9jb250cm9sLnN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWinuWKoOWIhuaVsCAqL1xyXG4gICAgYWRkU2NvcmUodmFsdWU6IG51bWJlciA9IDEpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNjb3JlTGJsLmNoYW5nZVRleHQoXCLliIbmlbDvvJpcIiArIHRoaXMuX3Njb3JlKTtcclxuICAgICAgICAvL+maj+edgOWIhuaVsOi2iumrmO+8jOmavuW6puWinuWkp1xyXG4gICAgICAgIGlmICh0aGlzLl9jb250cm9sLmNyZWF0ZUJveEludGVydmFsID4gNjAwICYmIHRoaXMuX3Njb3JlICUgMjAgPT0gMCkgdGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCAtPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICAvKirlgZzmraLmuLjmiI8gKi9cclxuICAgIHN0b3BHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRpcExibGwudGV4dCA9IFwi5ri45oiP57uT5p2f5LqG77yM54K55Ye75bGP5bmV6YeN5paw5byA5aeLXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdG9wR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBzY29yZUxibDpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyB0aXBMYmxsOkxheWEuTGFiZWw7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L1Rlc3RTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cciJdfQ==
